{"version":3,"sources":["scripts/app-51664c4202.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_indexConfig","_indexRoute","_indexRun","_mainMainController","_mainDonut_viewMainDonutviewController","_mainLinear_viewMainLinearviewController","_tourStep_oneTourStep_oneControllerJs","_tourStep_twoTourStep_twoControllerJs","_componentsTaskDonutTaskDonutDirectiveJs","_componentsTaskStripTaskStripJs","_componentsTaskDetailPanelTaskDetailPanelDirective","_componentsEmojiPickerEmojipickerDirectivesJs","_componentsSliderDirectivesSliderJs","angular","constant","moment","config","routerConfig","run","runBlock","controller","MainController","DonutViewController","LinearViewController","TourStepOneController","TourStepTwoController","directive","AttachWebcamDirective","TaskDetailPanelDirective","EmojiPicker","TaskDonutDirective","TaskStripDirective","SliderDirective","$logProvider","debugEnabled","Object","defineProperty","value","$inject","$stateProvider","$urlRouterProvider","$locationProvider","state","url","templateUrl","controllerAs","abstract","rule","$injector","$location","fullPath","window","location","href","split","origin","includes","everythingAfter","replace","otherwise","$rootScope","$log","debug","demo_user_settings","$on","e","to","currentState","name","console","log","tourStep","tourInProgress","advanceTour","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","glob","current_event","stop","version","has","separator","comaseparator","wildcard","numsort","a","b","events","n","firstDefined","i","ii","this","length","lastDefined","objtos","prototype","toString","Str","String","isArray","Array","ar","eve","scope","l","oldstop","args","slice","arguments","listeners","z","indexed","queue","out","ce","push","zIndex","sort","apply","_events","item","items","k","j","jj","nes","names","es","concat","f","sep","RegExp","on","exist","hasOwnProperty","event","attrs","nt","subname","cur","join","test","nts","off","unbind","key","splice","funcs","once","f2","undefined","$scope","$timeout","$filter","today","_componentsDayHelperJs","Day","taskData","picture","wakeUpTime","at","bedTime","nextDay","sleepGoal","tasks","start","end","emoji","tempData","color","taskManager","_componentsTaskManagerJs","TaskManager","PiUtilities","themes","colors","day","night","pieOffWhite","pieLightGrey","pieGrey","pieDarkGrey","pieOrange","pieOrangeCream","piePink","pieLightBlue","pieDimBlue","pieDarkBlue","pieYellow","format","tomorrow","startOf","add","full_format","short_format","today_yyyy_mm_dd","task_data_filter","task","index","array","type","toMinutes","angleInDegrees","toAngleSize","minutes","toAngle","time_of_day","startOfDay","timeOfDay","isMoment","diff","thisDayAt","tomorrowAt","taskSize","_start","_end","duration","toTimeOfDay","_format","__format","toLinearSize","scaleMinTime","scaleMaxTime","startPosition","toLinearPosition0to1FromTimeOfDay","terminalPosition","toLinearSizeFromTaskSize","time","minTime","maxTime","endOf","timeSinceStart","totalTimeInMinutes","linearScaleFactor","toTimeOfDayFromLinearPosition0to1","minutesSinceMinTime","seconds","toLinearPosition0to1FromArbitraryXPosition","xPosition","linearWidth","toXPositionFromLinearPosition0to1","linearPosition","_dayDataObject","init","userDayObject","utilities","defaultDayObject","_validateDay","setTimeout","_taskListUpdated","___taskWouldEndBeforeItStarts","startingTime","terminalTime","isBefore","isAfter","___taskWouldOverlapPreviousTask","taskList","previousIndex","previousTask","previousEndTime","___taskWouldOverlapNextTask","last","nextIndex","nextTask","nextStartTime","___taskWouldBeTooSmall","MINIMUM","_PiUtilitiesJs","__taskWouldBreakPositioningRules","_task","_taskList","_validateTask","valid","REQUIRED_TASK_KEYS","forEach","TASK_TYPES","indexOf","sleep","_validateTaskListForDay","__taskList","list","self","_taskListIsValid","taskA","taskB","ID","every","_taskIndex","__dayData","_updateTasksByInsertAndRipple","_updateMethod","place","moveDirection","taskASize","getTaskAtIndex","subtract","_updateTaskByPushPull","_dirtyTask","rippleMethod","rippleHandle","prevHandle","newHandle","rippleDifferenceMs","_taskListUpdateFailed","__temp","_taskListIsDirty","JSON","stringify","updateOptions","animate","MINIMUM_TASK_SIZE","Math","random","substr","parse","addTask","updateTasks","getTask","taskID","find","taskIndex","removeTask","options","fullUpdate","clean","updateMethod","dirtyTasks","map","dirtyTask","getDay","getTasks","getProductiveTimeInMinutes","sum","getTaskCount","getSleepTasks","getSleepGoalInMinutes","asMinutes","newWakeUpTime","newBedTime","newPhotoUrl","getSleepDetails","getAnticipatedSleepTime","tonightBedTime","tomorrowWakeTime","sleepTimeInMinutes","getSleepTimeInMinutes","sumSleepTimeInMinutes","taskListIsValid","taskListIsDirty","taskIsValid","getTaskLatestPossibleStartTime","getTaskEarliestPossibleEndTime","_DayHelperJs","string","firstAvailableOpening","timeFrameStart","timeFrameEnd","newStartingTime","isSameOrAfter","prevTaskEnd","nextTaskStart","spaceBetweenMinTimeAndFirstTaskIsBigEnough","spaceIsBigEnoughToHoldTask","spaceIsWithinTimeFrame","isSameOrBefore","day_string_yyyy_mm_dd","time_string_hh_mm_a","next_day","previousDay","prev_day","TaskDonut","svgArea","_taskManager","tasksListUpdated","_animate","drawSlices","calculateSleepAngleSize","anticipatedSleepTimeInMinutes","wholeDayInMinutes","as","sleep_ratio","calculateProductiveTimeAngleSize","determineSize","pattern","patternImg","drawingArea","dispatchedEvents","slices","sliceDataObjects","image","attr","opacity","toPattern","total","circle","centerX","centerY","transform","angle_offset","svgNode","$","node","outerRadius","radius","sliceBorderRadius","innerSliceRadius","pictureRadius","toXY","angleInRadians","r","x","cos","y","sin","toPolar","angle","atan2","mod","TWOPI","math","distance","draw","borderCircle","filter","Snap","shadow","cx","cy","fill","fill-opacity","remove","pictureWidth","pictureHeight","pictureX","pictureY","pictureMask","mask","donut_group","g","donutMaskCircle","donutMaskInnerCircle","donutMask","redraw","clear","sleepSize","productiveSize","sleepSlice","startAngle","endAngle","productiveSlice","_sliceDataObject","data","_TaskSliceJs","TaskSlice","refreshPhoto","uri","startingAngle","terminalAngle","drawingAngles","findDrawingAngles","rad","findVectors","_startingAngle","_terminalAngle","startingVector","terminalVector","innerStartingVector","mainSliceRadius","innerTerminalVector","makeBorderSliceString","outerStartX","outerStartY","outerEndX","outerEndY","innerStartX","innerStartY","innerRadius","innerEndX","innerEndY","_sweep","sweep","move","arc","lineTo","outerArc","close","sliceAlreadyAnimating","sleepGradient","gradient","borderSlice","path","mainSlice","tempSlice","terminalHandle","startingHandle","innerStartingVectorLine","line","innerTerminalVectorLine","label","text","speed","newStartAngle","newEndAngle","callback","_speed","val","currentStartAngle","currentEndAngle","vectors","PI","stroke","stroke-width","d","Emitter","bind","trigger","TaskStrip","viewBox","attributes","nodeValue","totalWidth","totalHeight","blocks","scale","determineScale","tabTopOffset","tabWidth","tabHeight","stripBarBorderRadius","sleepAdjustmentButtonLeftOffset","sleepAdjustmentButtonTopOffset","sleepAdjustmentButtonWidth","sleepAdjustmentButtonHeight","stripTopOffset","stripLeftOffset","stripWidth","stripHeight","sleepBarHeight","sleepBarLabelTopOffset","sleepBarLabelLeftOffset","sleepBarLabelWidth","sleepBarLabelTextSize","sleepBarLabelHeight","sleepBarWidth","sleepBarLeftOffset","sleepBarTopOffset","taskListUpdated","strip","click","createNewTaskInEmptySpace","document","target","is","_animateBlocks","scaleStart","scaleEnd","scaleTruncated","dayPlanIsForToday","isSame","now","_PiUtilities","truncated","min","max","disableMorningSleepAdjustment","morningSleepAdjustmentButton","hide","calculateSleepBarScaleFactor","sleepBarScaleFactor","mx","my","scaled_mx","relativeMousePoints","halfSize","startingPosition","newTask","morningTab","width","height","nightTab","_ThreeSegmentButton","ThreeSegmentButton","leftIcon","rightIcon","leftButton","wakeUpEarlier","rightButton","wakeUpLater","nightSleepAdjustmentButton","goToBedEarlier","goToBedLater","block","blockIndex","blackArray","_TaskBlock","TaskBlock","roundedRectangleMask","rx","ry","totalBar","sleepBar","_selectedTask","rect","group","_DayHelper","selectedTaskBlock","restrict","template","link","el","_taskID","determineUIAbilitiesAndClasses","drawingPosition","findBlockPosition","refreshTask","canUserResizeAdjacentTask","canResizeAdjacentTaskRight","adjacentTaskRight","attachUIHandlersAndEvents","blockStartingHandle","drag","resizeTaskSliceByDraggingStartingHandle","cancelResizeTaskSliceByDraggingStartOrEndHandle","blockTerminalHandle","resizeTaskSliceByDraggingTerminalHandle","blockMiddleHandle","dblclick","selectTaskBlock","moveTaskLeftOrRightByDraggingMiddleHandle","start_moveTaskLeftOrRightByDraggingMiddleHandle","endMoveTaskLeftOrRightByDraggingMiddleHandle","terminalSeparationLine","resizeAdjacentTaskRightByDraggingTerminalSeparationLine","cancelResizeAdjacentTaskRightByDraggingTerminalSeparationLine","hover","highlightTerminalSeparationLine","unHighlightSeparationLine","determineIfTaskCanBeInsertedHere","_bringToFront","lastBlock","blockGroup","insertAfter","_nextTaskStartOrScaleMax","taskStrip","_prevTaskEndOrScaleMin","prevTask","_determineLimitsForPushPull","direction","minPushPullPosition","originalStartPosition","firstTaskStartPosition","scaleMin","originalSpaceBetweenFirstTaskAndScaleMin","maxPushPullPosition","originalTerminalPosition","lastTaskTerminalPosition","scaleMax","originalSpaceBetweenLastTaskAndScaleMax","minPosition","maxPosition","_clearLimitsForPushPull","pushPullDirection","_clearSingleSelection","removeClass","idOrEvent","givenID","clicked","MouseEvent","addClass","pushPullTaskByHoldingShiftWhileDraggingMiddleHandle","dx","dy","scaled_dx","getCurrentPixelRatio","linearSize","altKey","farLimits","limits","newStartingPosition","limitUIValueIfNecessary","originalMiddleHandleStartPosition","limitedValue","pushPullTaskByHoldingShiftWhileDraggingStartOrEndHandle","handle","handleKey","taskIDs","horizontalMousePosition","newTime","draggingTaskName","draggingStartingPosition","draggingTerminalPosition","shiftKey","draggingTaskId","prevMx","maxStartingPosition","minStartingPosition","swap","blocksArray","blockSize","bend","getUIValueFromMousePosition","mouseX","mouseY","valueFn","strokeWidth","separationLineHighlightedStrokeWidth","separationLineHighlightedStrokeColor","separationLineStrokeWidth","adjacentTask","blockAlreadyAnimating","blockTopColor","blockBottomColor","blockEmoji","startSeparationLine","blockMask","blockColorHeight","handleWidth","separationLineStrokeColor","handleStrokeAndFillColor","task_block_class","_bendIntensity","_newStartingPosition","_newTerminalPosition","_applyAttributes","values","currentStartingPosition","currentTerminalPosition","drawingStartPosition","drawingTerminalPosition","blockWidth","padding","radiusY","radiusX","topLine","bottomLine","arc2","blockPath","startPath","strokeAlignment","terminalPath","blockBox","getBBox","emojiSize","clip","destroy","settings","segmentWidth","imageSize","smallImageSize","fillOpacity","leftBox","middle","middleBox","middleIcon","rightBox","middleButton","showCamera","taskDataString","numberOfUserTasks","taskBlockSelected","selectedTaskDetail","userClickedOutsideOfStrip","$apply","userAddedTaskByClickingStrip","selectTask","userIsDraggingTask","insertTaskAfterCurrentlySelectedTask","nextTaskIndex","selectedTaskID","insertedAfterward","taskDonuts","selectedTask","currentDetailView","Utilities","_componentsPiUtilitiesJs","taskFilter","idOrIndex","deselectTasks","createNewTask","firstAvailableTime","newTaskName","deleteCurrentlySelectedTask","removeTaskAfter","insertBreakTask","newBreakTask","angleSize","insertEatTask","newEatTask","insertExerciseTask","newExerciseTask","toggleListView","showListView","selectTaskAfter","afterward","insertTaskFunction","$watch","newEmoji","newTimeAllotment","update","prevIndex","sortableOptions","cancel","ui","parseInt","swapID","_oldTaskStart","$state","$http","camera","Webcam","set","dest_width","dest_height","crop_width","crop_height","image_format","jpeg_quality","attach","Number","isBetween","sleepSliderValue","determineBedtime","_bedTimeModel","sleepForm","bedTimeInput","$setValidity","bedTimeModel","bedTimeMoment","isValid","hasAM","hasPM","adjustBedTime","increaseOrDecrease","oTime","determineRecommendedSleepHoursForAge","_ageModel","recommendedSleepHours","age","ageModel","configureSleep","$valid","alert","taskDonutModel","taskDonutManager","getPhotos","jsonp","instagram_access_token","success","images","instagramObject","currentInstagramImage","getPhotoAtIndex","instagramPhotoIndex","standard_resolution","donutSVG","_TaskDonutJs","donut","mousedown","wait","go","stateLink","redirectURL","photoOption","instagram_auth_url","hideSplash","splash","selectInstagram","skip","setPhoto","selectWebcam","demoTaskDonut","snap","data_uri","shouldShowPrev","shouldShowNext","nextInstagramImage","prevInstagramImage","handleInstagramAuth","search","access_token","error_description","current","Bucket","_taskDonut","_angularSize","taskSliceIsDragging","taskSliceStoppedDragging","taskSliceDraggingOverBucket","taskSliceDraggingAwayFromBucket","taskSliceDroppedInBucket","_initVectors","_calculateDrawingAttributes","angularSize","bucket_group","default_angular_rotation","angularRotation","drawStrip","textRadius","outerTerminalVector","outerStartingVector","textVector","categorySlice","drawingAttributes","textLabel","text-anchor","alignment-baseline","font-size","sliceBbox","assign","assignObj","setText","_text","taskSlice","isPointInside","sliceIndex","droppedTask","BucketRing","_TaskDonut","_presetType","_initWeeklyBuckets","default_angular_size","default_number_of_buckets","presetType","totalAngularSize","numberOfBuckets","buckets","angularSizePerBucket","bucket","_BucketJs","show","selectedEmojiModel","emojis","selectEmoji","sliderValue","element","$interval","refresh","determineMinMax","setWidth","_mapNum","mapped","_findValue","bar","point","bounds","getBoundingClientRect","left","fraction","raw","round","percentage","value_bar","style","moveSliderFromClickOrDrag","pageX","pageY","slider_bar","setDragImage","dataTransfer","img","createElement","src","addEventListener","$watchGroup","calendarDirective","TBODY_SINGLE_ROW_HEIGHT","TBODY_HEIGHT","minDate","maxDate","dateFilter","require","CalendarCtrl","bindToController","controllers","ngModelCtrl","mdCalendarCtrl","configureNgModel","$element","$attrs","$animate","$q","$mdConstant","$mdTheming","$$mdDateUtil","$mdDateLocale","$mdInkRipple","$mdUtil","numMonths","getMonthDistance","keyCode","KEY_CODE","dateUtil","dateLocale","calendarElement","querySelector","calendarScroller","createDateAtMidnight","firstRenderableDate","incrementMonths","nextUniqueId","selectedDate","displayDate","focusDate","isInitialized","isMonthTransitionInProgress","cellClickHandler","cellElement","hasAttribute","timestamp","getAttribute","setNgModelValue","attachCalendarEventListeners","documentElement","isCalendarOpen","isInCalendar","getClosest","closeCalendarPane","$digest","SELECTED_DATE_CLASS","FOCUSED_DATE_CLASS","$render","changeSelectedDate","$viewValue","buildInitialCalendarDisplay","buildWeekHeader","hideVerticalScrollbar","scrollMask","scroller","headerWidth","clientWidth","scrollbarWidth","offsetWidth","paddingRight","handleKeyEvent","pieHandleCalendarScroll","indexAtScrollPosition","scrollTop","monthYear","monthAtScrollPosition","monthAtCurrentScrollPosition","month","yearAtCurrentScrollPosition","year","scrollPosition","approximateIndexFromScrollPosition","floor","date","_moment","which","ESCAPE","TAB","$emit","preventDefault","ENTER","getFocusDateFromKeyEvent","boundDateByMinAndMax","stopPropagation","changeDisplayDate","then","focus","RIGHT_ARROW","incrementDays","LEFT_ARROW","DOWN_ARROW","metaKey","UP_ARROW","PAGE_DOWN","PAGE_UP","HOME","getFirstDateOfMonth","END","getLastDateOfMonth","getSelectedMonthIndex","scrollToMonth","isValidDate","monthDistance","newScrollTop","$setViewValue","opt_date","previousFocus","classList","cellId","getDateId","cell","getElementById","boundDate","Date","getTime","previousSelectedDate","prevDateCell","setAttribute","dateCell","when","animationPromise","animateDateChange","firstDayOfWeek","shortDays","row","th","textContent","appendChild","append","getFullYear","getMonth","getDate","mdCalendarMonthDirective","offset","CalendarMonthCtrl","calendarCtrl","monthCtrl","generateContent","oldOffset","focusAfterAppend","TODAY_CLASS","empty","buildCalendarForMonth","buildDateCell","tabIndex","longDateFormatter","isSameDay","cellText","dates","isDateEnabled","selectionIndicator","isDateWithinRange","isFunction","buildDateRow","rowNumber","weekNumberFormatter","opt_dateInMonth","firstDayOfMonth","firstDayOfTheWeek","getLocaleDay_","numberOfDaysInMonth","getNumberOfDaysInMonth","monthBody","createDocumentFragment","isFinalMonth","blankCellOffset","monthLabelCell","monthLabelRow","insertBefore","dayOfWeek","iterationDate","setDate","childNodes","whitespaceRow","$provide","DateLocaleProvider","months","shortMonths","days","formatDate","parseDate","monthHeaderFormatter","msgCalendar","msgOpenCalendar","$get","$locale","defaultFormatDate","localeTime","toLocaleTimeString","getHours","toLocaleDateString","defaultParseDate","dateString","defaultIsDateComplete","trim","re","defaultMonthHeaderFormatter","service","defaultWeekNumberFormatter","number","defaultLongDateFormatter","defaultShortDays","DATETIME_FORMATS","DAY","pieShortDays","defaultDates","defaultMsgCalendar","defaultMsgOpenCalendar","MONTH","SHORTMONTH","isDateComplete","provider","datePickerDirective","placeholder","DatePickerCtrl","mdDatePickerCtrl","mdInputContainer","Error","$compile","$window","$$rAF","inputElement","ngInputElement","inputContainer","calendarPane","calendarButton","inputMask","isFocused","isDisabled","setDisabled","disabled","isString","calendarPaneOpenedFrom","nextUid","bodyClickHandler","handleBodyClick","windowResizeHandler","debounce","installPropertyInterceptors","attachChangeListeners","attachInteractionListeners","detachCalendarPane","EXTRA_INPUT_SIZE","INVALID_CLASS","DEFAULT_DEBOUNCE_INTERVAL","CALENDAR_PANE_HEIGHT","CALENDAR_PANE_WIDTH","resizeInputElement","updateErrorState","handleInputEvent","keyCodes","openCalendarPane","validateScope","get","clearErrorState","field","size","inputString","parsedDate","setDateTimeToMidnight","isValidInput","attachCalendarPane","elementRect","bodyRect","body","paneTop","top","paneLeft","viewportTop","viewportLeft","scrollLeft","viewportBottom","innerHeight","viewportRight","innerWidth","parentNode","removeChild","disableScrollAround","focusCalendar","nextTick","enableScrolling","removeEventListener","getCalendarCtrl","setFocused","factory","getDateInNextMonth","getDateInPreviousMonth","isSameMonthAndYear","d1","d2","isInNextMonth","startDate","endDate","nextMonth","isInPreviousMonth","previousMonth","getDateMidpoint","getWeekOfMonth","numberOfDays","numberOfMonths","dateInTargetMonth","isNaN","setHours","opt_value","isUndefined","isDate","lastValidatedUIValue","plugin","Element","Paper","global","Fragment","roundToTheNearest","ceil","root","mousePoint","createSVGPoint","transformedPoint","matrixTransform","getScreenCTM","inverse","liveValue","maxValue","minValue","clientHeight","$templateCache","put"],"mappings":"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a,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,YAAa,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,cAAe,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAA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","file":"scripts/app-51664c4202.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* global malarkey:false, moment:false */\n\n\t'use strict';\n\n\tvar _indexConfig = __webpack_require__(1);\n\n\tvar _indexRoute = __webpack_require__(2);\n\n\tvar _indexRun = __webpack_require__(3);\n\n\t__webpack_require__(4);\n\n\tvar _mainMainController = __webpack_require__(5);\n\n\tvar _mainDonut_viewMainDonutviewController = __webpack_require__(15);\n\n\tvar _mainLinear_viewMainLinearviewController = __webpack_require__(16);\n\n\tvar _tourStep_oneTourStep_oneControllerJs = __webpack_require__(17);\n\n\tvar _tourStep_twoTourStep_twoControllerJs = __webpack_require__(18);\n\n\tvar _componentsTaskDonutTaskDonutJs = __webpack_require__(9);\n\n\tvar _componentsTaskDonutTaskDonutDirectiveJs = __webpack_require__(19);\n\n\tvar _componentsTaskDonutTaskSliceJs = __webpack_require__(10);\n\n\tvar _componentsBucketJs = __webpack_require__(20);\n\n\tvar _componentsBucketRingJs = __webpack_require__(21);\n\n\tvar _componentsTaskStripTaskStripJs = __webpack_require__(12);\n\n\tvar _componentsTaskDetailPanelTaskDetailPanelDirective = __webpack_require__(22);\n\n\tvar _componentsEmojiPickerEmojipickerDirectivesJs = __webpack_require__(23);\n\n\tvar _componentsSliderDirectivesSliderJs = __webpack_require__(24);\n\n\t__webpack_require__(25);\n\n\t__webpack_require__(26);\n\n\tangular.module('app', ['ngResource', 'ui.router', 'ui.bootstrap', 'ui.sortable', 'material.components.datepicker']).constant('moment', moment).config(_indexConfig.config).config(_indexRoute.routerConfig).run(_indexRun.runBlock).controller('MainController', _mainMainController.MainController).controller('DonutViewController', _mainDonut_viewMainDonutviewController.DonutViewController).controller('LinearViewController', _mainLinear_viewMainLinearviewController.LinearViewController).controller('TourStepOneController', _tourStep_oneTourStep_oneControllerJs.TourStepOneController).controller('TourStepTwoController', _tourStep_twoTourStep_twoControllerJs.TourStepTwoController).directive('attachWebcam', _tourStep_oneTourStep_oneControllerJs.AttachWebcamDirective).directive('taskDetailPanel', _componentsTaskDetailPanelTaskDetailPanelDirective.TaskDetailPanelDirective).directive('emojiPicker', _componentsEmojiPickerEmojipickerDirectivesJs.EmojiPicker).directive('taskDonut', _componentsTaskDonutTaskDonutDirectiveJs.TaskDonutDirective).directive('taskStrip', _componentsTaskStripTaskStripJs.TaskStripDirective).directive('slider', _componentsSliderDirectivesSliderJs.SliderDirective);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\texports.config = config;\n\n\tfunction config($logProvider) {\n\t  'ngInject';\n\t  // Enable log\n\t  $logProvider.debugEnabled(true);\n\t}\n\tconfig.$inject = [\"$logProvider\"];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\texports.routerConfig = routerConfig;\n\n\tfunction routerConfig($stateProvider, $urlRouterProvider, $locationProvider) {\n\t    'ngInject';\n\n\t    $stateProvider\n\n\t    //.state('tour_splash', {\n\t    //    url: '/tour',\n\t    //    templateUrl: 'app/tour/splash/splash.html'\n\t    //})\n\t    //\n\t    //.state('tour_step_one', {\n\t    //    url: '/tour/you',\n\t    //    templateUrl: 'app/tour/step_one/step_one.html',\n\t    //    controller: 'TourStepOneController'\n\t    //})\n\t    //\n\t    //.state('tour_step_two', {\n\t    //    url: '/tour/step_two',\n\t    //    templateUrl: 'app/tour/step_two/step_two.html',\n\t    //    controller: 'TourStepTwoController'\n\t    //})\n\n\t    .state('home', {\n\t        url: '/main',\n\t        templateUrl: 'app/main/main.html',\n\t        controller: 'MainController',\n\t        controllerAs: 'main',\n\t        abstract: true\n\t    }).state('home.donut', {\n\t        url: '',\n\t        templateUrl: 'app/main/donut_view/donut_view.html',\n\t        controller: 'DonutViewController'\n\t    }).state('home.linear', {\n\t        url: '/linear',\n\t        templateUrl: 'app/main/linear_view/linear_view.html',\n\t        controller: 'LinearViewController'\n\t    });\n\n\t    //instagram router\n\t    $urlRouterProvider.rule(function ($injector, $location) {\n\t        var fullPath = window.location.href.split(window.location.origin)[1];\n\t        if (fullPath.includes(\"/instagram\")) {\n\t            var everythingAfter = fullPath.split(\"/instagram\")[1];\n\t            //hacky\n\t            everythingAfter = everythingAfter.replace(\"#/access_token\", \"?access_token\");\n\t            window.location = window.location.origin + \"/#/tour/you\" + everythingAfter;\n\t        }\n\t    });\n\n\t    $urlRouterProvider.otherwise('/main');\n\t}\n\trouterConfig.$inject = [\"$stateProvider\", \"$urlRouterProvider\", \"$locationProvider\"];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\texports.runBlock = runBlock;\n\n\tfunction runBlock($rootScope, $log) {\n\t  'ngInject';\n\t  $log.debug('runBlock end');\n\n\t  $rootScope.demo_user_settings = {};\n\n\t  $rootScope.$on(\"$stateChangeSuccess\", function (e, to) {\n\t    $rootScope.currentState = to.name;\n\t    console.log($rootScope.currentState);\n\t  });\n\n\t  $rootScope.tourStep = 0;\n\n\t  $rootScope.tourInProgress = true;\n\n\t  $rootScope.advanceTour = function () {\n\t    $rootScope.tourStep += 1;\n\t    console.log(\"Tour\", $rootScope.tourStep);\n\t  };\n\t}\n\trunBlock.$inject = [\"$rootScope\", \"$log\"];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n\t//\n\t// Licensed under the Apache License, Version 2.0 (the \"License\");\n\t// you may not use this file except in compliance with the License.\n\t// You may obtain a copy of the License at\n\t//\n\t// http://www.apache.org/licenses/LICENSE-2.0\n\t//\n\t// Unless required by applicable law or agreed to in writing, software\n\t// distributed under the License is distributed on an \"AS IS\" BASIS,\n\t// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t// See the License for the specific language governing permissions and\n\t// limitations under the License.\n\t// ┌────────────────────────────────────────────────────────────┐ \\\\\n\t// │ Eve 0.5.0 - JavaScript Events Library                      │ \\\\\n\t// ├────────────────────────────────────────────────────────────┤ \\\\\n\t// │ Author Dmitry Baranovskiy (http://dmitry.baranovskiy.com/) │ \\\\\n\t\"use strict\";\n\n\t(function (glob) {\n\t    var version = \"0.5.0\",\n\t        has = \"hasOwnProperty\",\n\t        separator = /[\\.\\/]/,\n\t        comaseparator = /\\s*,\\s*/,\n\t        wildcard = \"*\",\n\t        fun = function fun() {},\n\t        numsort = function numsort(a, b) {\n\t        return a - b;\n\t    },\n\t        current_event,\n\t        stop,\n\t        events = { n: {} },\n\t        firstDefined = function firstDefined() {\n\t        for (var i = 0, ii = this.length; i < ii; i++) {\n\t            if (typeof this[i] != \"undefined\") {\n\t                return this[i];\n\t            }\n\t        }\n\t    },\n\t        lastDefined = function lastDefined() {\n\t        var i = this.length;\n\t        while (--i) {\n\t            if (typeof this[i] != \"undefined\") {\n\t                return this[i];\n\t            }\n\t        }\n\t    },\n\t        objtos = Object.prototype.toString,\n\t        Str = String,\n\t        isArray = Array.isArray || function (ar) {\n\t        return ar instanceof Array || objtos.call(ar) == \"[object Array]\";\n\t    };\n\t    /*\\\n\t     * eve\n\t     [ method ]\n\t      * Fires event with given `name`, given scope and other parameters.\n\t      > Arguments\n\t      - name (string) name of the *event*, dot (`.`) or slash (`/`) separated\n\t     - scope (object) context for the event handlers\n\t     - varargs (...) the rest of arguments will be sent to event handlers\n\t      = (object) array of returned values from the listeners. Array has two methods `.firstDefined()` and `.lastDefined()` to get first or last not `undefined` value.\n\t    \\*/\n\t    eve = function (name, scope) {\n\t        var e = events,\n\t            oldstop = stop,\n\t            args = Array.prototype.slice.call(arguments, 2),\n\t            listeners = eve.listeners(name),\n\t            z = 0,\n\t            f = false,\n\t            l,\n\t            indexed = [],\n\t            queue = {},\n\t            out = [],\n\t            ce = current_event,\n\t            errors = [];\n\t        out.firstDefined = firstDefined;\n\t        out.lastDefined = lastDefined;\n\t        current_event = name;\n\t        stop = 0;\n\t        for (var i = 0, ii = listeners.length; i < ii; i++) if (\"zIndex\" in listeners[i]) {\n\t            indexed.push(listeners[i].zIndex);\n\t            if (listeners[i].zIndex < 0) {\n\t                queue[listeners[i].zIndex] = listeners[i];\n\t            }\n\t        }\n\t        indexed.sort(numsort);\n\t        while (indexed[z] < 0) {\n\t            l = queue[indexed[z++]];\n\t            out.push(l.apply(scope, args));\n\t            if (stop) {\n\t                stop = oldstop;\n\t                return out;\n\t            }\n\t        }\n\t        for (i = 0; i < ii; i++) {\n\t            l = listeners[i];\n\t            if (\"zIndex\" in l) {\n\t                if (l.zIndex == indexed[z]) {\n\t                    out.push(l.apply(scope, args));\n\t                    if (stop) {\n\t                        break;\n\t                    }\n\t                    do {\n\t                        z++;\n\t                        l = queue[indexed[z]];\n\t                        l && out.push(l.apply(scope, args));\n\t                        if (stop) {\n\t                            break;\n\t                        }\n\t                    } while (l);\n\t                } else {\n\t                    queue[l.zIndex] = l;\n\t                }\n\t            } else {\n\t                out.push(l.apply(scope, args));\n\t                if (stop) {\n\t                    break;\n\t                }\n\t            }\n\t        }\n\t        stop = oldstop;\n\t        current_event = ce;\n\t        return out;\n\t    };\n\t    // Undocumented. Debug only.\n\t    eve._events = events;\n\t    /*\\\n\t     * eve.listeners\n\t     [ method ]\n\t      * Internal method which gives you array of all event handlers that will be triggered by the given `name`.\n\t      > Arguments\n\t      - name (string) name of the event, dot (`.`) or slash (`/`) separated\n\t      = (array) array of event handlers\n\t    \\*/\n\t    eve.listeners = function (name) {\n\t        var names = isArray(name) ? name : name.split(separator),\n\t            e = events,\n\t            item,\n\t            items,\n\t            k,\n\t            i,\n\t            ii,\n\t            j,\n\t            jj,\n\t            nes,\n\t            es = [e],\n\t            out = [];\n\t        for (i = 0, ii = names.length; i < ii; i++) {\n\t            nes = [];\n\t            for (j = 0, jj = es.length; j < jj; j++) {\n\t                e = es[j].n;\n\t                items = [e[names[i]], e[wildcard]];\n\t                k = 2;\n\t                while (k--) {\n\t                    item = items[k];\n\t                    if (item) {\n\t                        nes.push(item);\n\t                        out = out.concat(item.f || []);\n\t                    }\n\t                }\n\t            }\n\t            es = nes;\n\t        }\n\t        return out;\n\t    };\n\t    /*\\\n\t     * eve.separator\n\t     [ method ]\n\t      * If for some reasons you don’t like default separators (`.` or `/`) you can specify yours\n\t     * here. Be aware that if you pass a string longer than one character it will be treated as\n\t     * a list of characters.\n\t      - separator (string) new separator. Empty string resets to default: `.` or `/`.\n\t    \\*/\n\t    eve.separator = function (sep) {\n\t        if (sep) {\n\t            sep = Str(sep).replace(/(?=[\\.\\^\\]\\[\\-])/g, \"\\\\\");\n\t            sep = \"[\" + sep + \"]\";\n\t            separator = new RegExp(sep);\n\t        } else {\n\t            separator = /[\\.\\/]/;\n\t        }\n\t    };\n\t    /*\\\n\t     * eve.on\n\t     [ method ]\n\t     **\n\t     * Binds given event handler with a given name. You can use wildcards “`*`” for the names:\n\t     | eve.on(\"*.under.*\", f);\n\t     | eve(\"mouse.under.floor\"); // triggers f\n\t     * Use @eve to trigger the listener.\n\t     **\n\t     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n\t     - f (function) event handler function\n\t     **\n\t     - name (array) if you don’t want to use separators, you can use array of strings\n\t     - f (function) event handler function\n\t     **\n\t     = (function) returned function accepts a single numeric parameter that represents z-index of the handler. It is an optional feature and only used when you need to ensure that some subset of handlers will be invoked in a given order, despite of the order of assignment. \n\t     > Example:\n\t     | eve.on(\"mouse\", eatIt)(2);\n\t     | eve.on(\"mouse\", scream);\n\t     | eve.on(\"mouse\", catchIt)(1);\n\t     * This will ensure that `catchIt` function will be called before `eatIt`.\n\t     *\n\t     * If you want to put your handler before non-indexed handlers, specify a negative value.\n\t     * Note: I assume most of the time you don’t need to worry about z-index, but it’s nice to have this feature “just in case”.\n\t    \\*/\n\t    eve.on = function (name, f) {\n\t        if (typeof f != \"function\") {\n\t            return function () {};\n\t        }\n\t        var names = isArray(name) ? isArray(name[0]) ? name : [name] : Str(name).split(comaseparator);\n\t        for (var i = 0, ii = names.length; i < ii; i++) {\n\t            (function (name) {\n\t                var names = isArray(name) ? name : Str(name).split(separator),\n\t                    e = events,\n\t                    exist;\n\t                for (var i = 0, ii = names.length; i < ii; i++) {\n\t                    e = e.n;\n\t                    e = e.hasOwnProperty(names[i]) && e[names[i]] || (e[names[i]] = { n: {} });\n\t                }\n\t                e.f = e.f || [];\n\t                for (i = 0, ii = e.f.length; i < ii; i++) if (e.f[i] == f) {\n\t                    exist = true;\n\t                    break;\n\t                }\n\t                !exist && e.f.push(f);\n\t            })(names[i]);\n\t        }\n\t        return function (zIndex) {\n\t            if (+zIndex == +zIndex) {\n\t                f.zIndex = +zIndex;\n\t            }\n\t        };\n\t    };\n\t    /*\\\n\t     * eve.f\n\t     [ method ]\n\t     **\n\t     * Returns function that will fire given event with optional arguments.\n\t     * Arguments that will be passed to the result function will be also\n\t     * concated to the list of final arguments.\n\t     | el.onclick = eve.f(\"click\", 1, 2);\n\t     | eve.on(\"click\", function (a, b, c) {\n\t     |     console.log(a, b, c); // 1, 2, [event object]\n\t     | });\n\t     > Arguments\n\t     - event (string) event name\n\t     - varargs (…) and any other arguments\n\t     = (function) possible event handler function\n\t    \\*/\n\t    eve.f = function (event) {\n\t        var attrs = [].slice.call(arguments, 1);\n\t        return function () {\n\t            eve.apply(null, [event, null].concat(attrs).concat([].slice.call(arguments, 0)));\n\t        };\n\t    };\n\t    /*\\\n\t     * eve.stop\n\t     [ method ]\n\t     **\n\t     * Is used inside an event handler to stop the event, preventing any subsequent listeners from firing.\n\t    \\*/\n\t    eve.stop = function () {\n\t        stop = 1;\n\t    };\n\t    /*\\\n\t     * eve.nt\n\t     [ method ]\n\t     **\n\t     * Could be used inside event handler to figure out actual name of the event.\n\t     **\n\t     > Arguments\n\t     **\n\t     - subname (string) #optional subname of the event\n\t     **\n\t     = (string) name of the event, if `subname` is not specified\n\t     * or\n\t     = (boolean) `true`, if current event’s name contains `subname`\n\t    \\*/\n\t    eve.nt = function (subname) {\n\t        var cur = isArray(current_event) ? current_event.join(\".\") : current_event;\n\t        if (subname) {\n\t            return new RegExp(\"(?:\\\\.|\\\\/|^)\" + subname + \"(?:\\\\.|\\\\/|$)\").test(cur);\n\t        }\n\t        return cur;\n\t    };\n\t    /*\\\n\t     * eve.nts\n\t     [ method ]\n\t     **\n\t     * Could be used inside event handler to figure out actual name of the event.\n\t     **\n\t     **\n\t     = (array) names of the event\n\t    \\*/\n\t    eve.nts = function () {\n\t        return isArray(current_event) ? current_event : current_event.split(separator);\n\t    };\n\t    /*\\\n\t     * eve.off\n\t     [ method ]\n\t     **\n\t     * Removes given function from the list of event listeners assigned to given name.\n\t     * If no arguments specified all the events will be cleared.\n\t     **\n\t     > Arguments\n\t     **\n\t     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n\t     - f (function) event handler function\n\t    \\*/\n\t    /*\\\n\t     * eve.unbind\n\t     [ method ]\n\t     **\n\t     * See @eve.off\n\t    \\*/\n\t    eve.off = eve.unbind = function (name, f) {\n\t        if (!name) {\n\t            eve._events = events = { n: {} };\n\t            return;\n\t        }\n\t        var names = isArray(name) ? isArray(name[0]) ? name : [name] : Str(name).split(comaseparator);\n\t        if (names.length > 1) {\n\t            for (var i = 0, ii = names.length; i < ii; i++) {\n\t                eve.off(names[i], f);\n\t            }\n\t            return;\n\t        }\n\t        names = isArray(name) ? name : Str(name).split(separator);\n\t        var e,\n\t            key,\n\t            splice,\n\t            i,\n\t            ii,\n\t            j,\n\t            jj,\n\t            cur = [events];\n\t        for (i = 0, ii = names.length; i < ii; i++) {\n\t            for (j = 0; j < cur.length; j += splice.length - 2) {\n\t                splice = [j, 1];\n\t                e = cur[j].n;\n\t                if (names[i] != wildcard) {\n\t                    if (e[names[i]]) {\n\t                        splice.push(e[names[i]]);\n\t                    }\n\t                } else {\n\t                    for (key in e) if (e[has](key)) {\n\t                        splice.push(e[key]);\n\t                    }\n\t                }\n\t                cur.splice.apply(cur, splice);\n\t            }\n\t        }\n\t        for (i = 0, ii = cur.length; i < ii; i++) {\n\t            e = cur[i];\n\t            while (e.n) {\n\t                if (f) {\n\t                    if (e.f) {\n\t                        for (j = 0, jj = e.f.length; j < jj; j++) if (e.f[j] == f) {\n\t                            e.f.splice(j, 1);\n\t                            break;\n\t                        }\n\t                        !e.f.length && delete e.f;\n\t                    }\n\t                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n\t                        var funcs = e.n[key].f;\n\t                        for (j = 0, jj = funcs.length; j < jj; j++) if (funcs[j] == f) {\n\t                            funcs.splice(j, 1);\n\t                            break;\n\t                        }\n\t                        !funcs.length && delete e.n[key].f;\n\t                    }\n\t                } else {\n\t                    delete e.f;\n\t                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n\t                        delete e.n[key].f;\n\t                    }\n\t                }\n\t                e = e.n;\n\t            }\n\t        }\n\t    };\n\t    /*\\\n\t     * eve.once\n\t     [ method ]\n\t     **\n\t     * Binds given event handler with a given name to only run once then unbind itself.\n\t     | eve.once(\"login\", f);\n\t     | eve(\"login\"); // triggers f\n\t     | eve(\"login\"); // no listeners\n\t     * Use @eve to trigger the listener.\n\t     **\n\t     > Arguments\n\t     **\n\t     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n\t     - f (function) event handler function\n\t     **\n\t     = (function) same return function as @eve.on\n\t    \\*/\n\t    eve.once = function (name, f) {\n\t        var f2 = function f2() {\n\t            eve.off(name, f2);\n\t            return f.apply(this, arguments);\n\t        };\n\t        return eve.on(name, f2);\n\t    };\n\t    /*\\\n\t     * eve.version\n\t     [ property (string) ]\n\t     **\n\t     * Current version of the library.\n\t    \\*/\n\t    eve.version = version;\n\t    eve.toString = function () {\n\t        return \"You are running Eve \" + version;\n\t    };\n\t    typeof module != \"undefined\" && module.exports ? module.exports = eve :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t        return eve;\n\t    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : glob.eve = eve;\n\t})(undefined);\n\t// └────────────────────────────────────────────────────────────┘ \\\\\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\texports.MainController = MainController;\n\n\tvar _componentsPiUtilitiesJs = __webpack_require__(6);\n\n\tvar _componentsTaskManagerJs = __webpack_require__(7);\n\n\tvar _componentsTaskDonutTaskDonutJs = __webpack_require__(9);\n\n\tvar _componentsTaskStripTaskStripJs = __webpack_require__(12);\n\n\tvar _componentsDayHelperJs = __webpack_require__(8);\n\n\tfunction MainController($scope, $timeout, $filter) {\n\n\t    'ngInject';\n\n\t    var today = new _componentsDayHelperJs.Day();\n\n\t    $scope.taskData = {\n\t        picture: \"/assets/terron.jpg\",\n\t        wakeUpTime: today.at(\"7:30 am\"),\n\t        bedTime: today.nextDay().at(\"2:00 am\"),\n\t        sleepGoal: \"08:00\",\n\t        tasks: [{\n\t            name: \"Work at the Studio\",\n\t            start: today.at(\"7:30 am\"),\n\t            end: today.at(\"1:30 pm\"),\n\t            emoji: '1f3c0.png',\n\t            tempData: {}\n\t        }, {\n\t            name: \"Gym\",\n\t            start: today.at(\"3:00 pm\"),\n\t            end: today.at(\"4:00 pm\"),\n\t            color: '#7e3c46',\n\t            emoji: '1f4d0.png',\n\t            tempData: {}\n\t        }, {\n\t            name: \"Return rentals\",\n\t            start: today.at(\"4:00 pm\"),\n\t            end: today.at(\"5:00 pm\"),\n\t            emoji: '1f4de.png',\n\t            tempData: {}\n\t        }, {\n\t            name: \"Finish Paper\",\n\t            start: today.at(\"8:00 pm\"),\n\t            end: today.at(\"11:30 pm\"),\n\t            emoji: '1f62d.png',\n\t            tempData: {}\n\t        }]\n\t    };\n\n\t    $scope.taskManager = new _componentsTaskManagerJs.TaskManager($scope.taskData);\n\t}\n\tMainController.$inject = [\"$scope\", \"$timeout\", \"$filter\"];\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar PiUtilities = {};\n\n\texports.PiUtilities = PiUtilities;\n\tPiUtilities.themes = {};\n\n\tPiUtilities.colors = {\n\t    day: \"#f37342\",\n\t    night: \"#37445c\",\n\t    pieOffWhite: \"#FBFBFB\",\n\t    pieLightGrey: \"#E5E5E5\",\n\t    pieGrey: \"#CCCCCC\",\n\t    pieDarkGrey: \"818285\",\n\t    pieOrange: \"#f37342\",\n\t    pieOrangeCream: \"#f8b978\",\n\t    piePink: \"#f1656f\",\n\t    pieLightBlue: \"#9ec2e1\",\n\t    pieDimBlue: \"#5c6879\",\n\t    pieDarkBlue: \"#37445c\",\n\t    pieYellow: \"#f7ce6e\"\n\t};\n\n\tPiUtilities.today = moment().format(\"YYYY MM DD\");\n\n\tPiUtilities.tomorrow = moment().startOf(\"day\").add(1, 'd').format(\"YYYY MM DD\");\n\n\tPiUtilities.full_format = \"dddd, MMMM Do YYYY, h:mm:ss a\";\n\n\tPiUtilities.short_format = \"YYYY MM DD\";\n\n\tPiUtilities.today_yyyy_mm_dd = moment().format(\"YYYY MM DD\");\n\n\tPiUtilities.task_data_filter = function (task, index, array) {\n\t    return !task.type;\n\t};\n\n\tPiUtilities.toMinutes = function (angleInDegrees) {\n\t    return angleInDegrees * 4;\n\t};\n\n\tPiUtilities.toAngleSize = function (minutes) {\n\t    return minutes * .25;\n\t};\n\n\tPiUtilities.toAngle = function (time_of_day) {\n\n\t    var startOfDay = moment(moment().format(\"YYYY MM DD\")),\n\t        timeOfDay = moment.isMoment(time_of_day) ? time_of_day : moment(time_of_day),\n\t        minutes = timeOfDay.diff(startOfDay, \"m\");\n\n\t    console.log(timeOfDay.format(PiUtilities.full_format), timeOfDay, minutes);\n\n\t    return PiUtilities.toAngleSize(minutes);\n\t};\n\n\tPiUtilities.thisDayAt = function (time_of_day) {\n\t    return moment(time_of_day, \"h:mm a\").format();\n\t};\n\n\tPiUtilities.tomorrowAt = function (time_of_day) {\n\t    return moment(PiUtilities.tomorrow + \" \" + time_of_day, \"YYYY MM DD h:mm a\").format();\n\t};\n\n\tPiUtilities.taskSize = function (_start, _end) {\n\n\t    var start = moment(_start),\n\t        end = moment(_end),\n\t        duration = end.diff(start, \"minutes\");\n\n\t    return duration;\n\t};\n\n\tPiUtilities.toTimeOfDay = function (angleInDegrees, _format) {\n\n\t    var __format = \"dddd, MMMM Do YYYY, h:mm a\";\n\n\t    var format = _format == true ? __format : \"\",\n\t        minutes = PiUtilities.toMinutes(angleInDegrees),\n\t        timeOfDay = moment(moment().format(\"YYYY MM DD\")).add(minutes, 'm');\n\n\t    if (_format) {\n\t        console.log(\"returning string\");\n\t        return timeOfDay.format(format);\n\t    }\n\n\t    return moment(timeOfDay);\n\t};\n\n\tPiUtilities.toLinearSize = function (start, end, scaleMinTime, scaleMaxTime) {\n\t    var startPosition = PiUtilities.toLinearPosition0to1FromTimeOfDay(start, scaleMinTime, scaleMaxTime);\n\t    var terminalPosition = PiUtilities.toLinearPosition0to1FromTimeOfDay(end, scaleMinTime, scaleMaxTime);\n\t    return terminalPosition - startPosition;\n\t};\n\n\tPiUtilities.toLinearSizeFromTaskSize = function (minutes, scaleMinTime, scaleMaxTime) {\n\t    return PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(scaleMinTime).add(minutes, \"minutes\").format(), scaleMinTime, scaleMaxTime);\n\t};\n\n\tPiUtilities.toLinearPosition0to1FromTimeOfDay = function (time, scaleMinTime, scaleMaxTime) {\n\t    var time = moment(time);\n\n\t    var minTime = scaleMinTime ? moment(scaleMinTime) : moment().startOf(\"day\");\n\t    var maxTime = scaleMaxTime ? moment(scaleMaxTime) : moment().endOf(\"day\");\n\n\t    var timeSinceStart = time.diff(minTime, \"minutes\");\n\t    var totalTimeInMinutes = maxTime.diff(minTime, 'minutes');\n\n\t    var linearScaleFactor = timeSinceStart / totalTimeInMinutes;\n\n\t    return linearScaleFactor;\n\t};\n\n\tPiUtilities.toTimeOfDayFromLinearPosition0to1 = function (linearScaleFactor, scaleMinTime, scaleMaxTime) {\n\n\t    var minTime = scaleMinTime ? moment(scaleMinTime) : moment().startOf(\"day\");\n\t    var maxTime = scaleMaxTime ? moment(scaleMaxTime) : moment().endOf(\"day\");\n\t    var totalTimeInMinutes = maxTime.diff(minTime, 'minutes');\n\n\t    var minutesSinceMinTime = linearScaleFactor * totalTimeInMinutes;\n\n\t    var time = minTime.add(minutesSinceMinTime, \"minutes\").seconds(0);\n\n\t    return time.format();\n\t};\n\n\tPiUtilities.toLinearPosition0to1FromArbitraryXPosition = function (xPosition, linearWidth) {\n\t    return xPosition / linearWidth;\n\t};\n\n\tPiUtilities.toXPositionFromLinearPosition0to1 = function (linearPosition, linearWidth) {\n\t    return linearPosition * linearWidth;\n\t};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\texports.TaskManager = TaskManager;\n\n\tvar _PiUtilitiesJs = __webpack_require__(6);\n\n\tvar _DayHelperJs = __webpack_require__(8);\n\n\t/*This serves as\n\t * the main controller\n\t * for set of data\n\t * for one day. it enforces the\n\t * model, validates data,\n\t * provides an API for\n\t * updating data, and will eventually\n\t * persist data to Parse\n\t * */\n\n\tfunction TaskManager(_dayDataObject) {\n\n\t    var self = this,\n\t        userDayObject,\n\t        sleep = [],\n\t        utilities = self.utilities = {};\n\n\t    var REQUIRED_TASK_KEYS = [\"name\", \"start\", \"end\"],\n\t        TASK_TYPES = [\"sleep\", \"temp\"];\n\n\t    var __temp = \"\";\n\n\t    var updateOptions = {};\n\n\t    self.MINIMUM_TASK_SIZE = 15;\n\n\t    function init(_dayDataObject) {\n\n\t        console.log(\"TaskSet Controller initialized w/ a task data\");\n\t        userDayObject = _dayDataObject || utilities.defaultDayObject();\n\n\t        if (_validateDay(userDayObject)) {\n\n\t            window.setTimeout(function () {\n\t                _taskListUpdated();\n\t            }, 0);\n\t        }\n\t    }\n\n\t    // https://gist.github.com/gordonbrander/2230317\n\t    // Generate unique IDs for use as pseudo-private/protected names.\n\t    // Similar in concept to\n\t    // <http://wiki.ecmascript.org/doku.php?id=strawman:names>.\n\t    //\n\t    // The goals of this function are twofold:\n\t    //\n\t    // * Provide a way to generate a string guaranteed to be unique when compared\n\t    //   to other strings generated by this function.\n\t    // * Make the string complex enough that it is highly unlikely to be\n\t    //   accidentally duplicated by hand (this is key if you're using `ID`\n\t    //   as a private/protected name on an object).\n\t    //\n\t    // Use:\n\t    //\n\t    //     var privateName = ID();\n\t    //     var o = { 'public': 'foo' };\n\t    //     o[privateName] = 'bar';\n\n\t    var ID = function ID() {\n\t        // Math.random should be unique because of its seeding algorithm.\n\t        // Convert it to base 36 (numbers + letters), and grab the first 9 characters\n\t        // after the decimal.\n\t        return '_' + Math.random().toString(36).substr(2, 9);\n\t    };\n\n\t    function ___taskWouldHappenOnTheWrongDay(startingTime, terminalTime) {\n\t        if (terminalTime.get('date') != userDayObject.day.get('date') || startingTime.get('date') != userDayObject.day.get('date')) {\n\t            console.log(\"Task cannot happen on a day different than the one specified by the day object\", terminalTime.get('date'), startingTime.get('date'), userDayObject.day.get('date'));\n\t            return true;\n\t        }\n\t        return false;\n\t    }\n\n\t    function ___taskWouldNeitherStartOrEndOnTheRightDay(startingTime, terminalTime) {\n\t        if (terminalTime.get('date') != userDayObject.day.get('date') && startingTime.get('date') != userDayObject.day.get('date')) {\n\t            console.log(\"Task would neither start or end on the day specified by the day object\", terminalTime.get('date'), startingTime.get('date'), userDayObject.day.get('date'));\n\t            return true;\n\t        }\n\t        return false;\n\t    }\n\n\t    function ___taskWouldSpanSeveralDays(startingTime, terminalTime) {\n\t        if (terminalTime.get('date') != startingTime.get('date')) {\n\t            console.log(\"Task cannot span several days\");\n\t            return true;\n\t        }\n\t        return false;\n\t    }\n\n\t    function ___taskWouldEndBeforeItStarts(startingTime, terminalTime) {\n\t        if (terminalTime.isBefore(startingTime) || startingTime.isAfter(terminalTime)) {\n\t            console.log(\"Task cannot end before it starts\");\n\t            return true;\n\t        }\n\t        return false;\n\t    }\n\n\t    function ___taskWouldOverlapPreviousTask(task, taskList) {\n\t        var index = task.index,\n\t            previousIndex = index == 0 ? taskList.length - 1 : index - 1,\n\t            previousTask = taskList[previousIndex],\n\t            previousEndTime = moment(previousTask.end),\n\t            startingTime = moment(task.start);\n\n\t        if (index > 0 && startingTime.isBefore(previousEndTime)) {\n\t            console.log(\"Task can't collide with previous task\");\n\t            return true;\n\t        }\n\t        return false;\n\t    }\n\n\t    function ___taskWouldOverlapNextTask(task, taskList) {\n\t        var index = task.index,\n\t            last = taskList.length - 1,\n\t            nextIndex = index == last ? 0 : index + 1,\n\t            nextTask = taskList[nextIndex],\n\t            nextStartTime = moment(nextTask.start),\n\t            terminalTime = moment(task.end);\n\n\t        if (index < last && nextStartTime.isBefore(terminalTime)) {\n\t            console.log(task.name + \"(\" + task.index + \") can't overlap next task: \" + nextTask.name + \"(\" + nextTask.index + \")\");\n\t            return true;\n\t        }\n\n\t        return false;\n\t    }\n\n\t    function ___taskWouldBeTooSmall(task) {\n\t        var MINIMUM = 10;\n\t        var taskSize = _PiUtilitiesJs.PiUtilities.taskSize(task.start, task.end);\n\t        if (taskSize < MINIMUM) {\n\t            console.log(\"Task can't be too smaller than \" + MINIMUM + \" minimum\", taskSize);\n\t            return true;\n\t        }\n\t        return false;\n\t    }\n\n\t    function __taskWouldBreakPositioningRules(_task, _taskList) {\n\t        var task = _task,\n\t            taskList = _taskList,\n\t            startingTime = moment(task.start),\n\t            terminalTime = moment(task.end);\n\n\t        return(\n\t            //___taskWouldHappenOnTheWrongDay(startingTime, terminalTime)||\n\t            //___taskWouldNeitherStartOrEndOnTheRightDay(startingTime, terminalTime) ||\n\t            //___taskWouldSpanSeveralDays(startingTime, terminalTime)||\n\t            ___taskWouldEndBeforeItStarts(startingTime, terminalTime) || ___taskWouldOverlapNextTask(task, taskList) || ___taskWouldOverlapPreviousTask(task, taskList) || ___taskWouldBeTooSmall(task)\n\t        );\n\t    }\n\n\t    function _validateTask(task, index, _taskList) {\n\t        var valid = true;\n\n\t        //task has temp data\n\t        if (!task.tempData) task.tempData = {};\n\n\t        //task has required keys\n\t        REQUIRED_TASK_KEYS.forEach(function (key, index, array) {\n\t            if (!(key in task)) {\n\t                console.log(\"task is missing required key: \" + key);\n\t                valid = false;\n\t            }\n\t        });\n\n\t        //task has an invalid task type\n\t        if (task.type && TASK_TYPES.indexOf(task.type) == -1) {\n\t            console.log(\"task \" + task.name + \" has an invalid task type \" + task.type);\n\t            valid = false;\n\t        }\n\n\t        //task won't cause overlap\n\t        if (__taskWouldBreakPositioningRules(task, _taskList)) {\n\t            console.log(\"task would cause an overlap \" + task.name);\n\t            valid = false;\n\t        }\n\n\t        //push sleep\n\t        if (task.type == 'sleep') {\n\t            sleep.push(task);\n\t        }\n\n\t        return valid;\n\t    }\n\n\t    function _validateTaskListForDay(__taskList) {\n\n\t        var list = __taskList,\n\t            valid = true;\n\n\t        sleep = [];\n\n\t        self._taskListIsValid = true;\n\n\t        list.sort(function (taskA, taskB) {\n\t            var a = moment(taskA.start);\n\t            var b = moment(taskB.start);\n\n\t            if (a.isBefore(b)) {\n\t                return -1;\n\t            }\n\n\t            if (a.isAfter(b)) {\n\t                return 1;\n\t            }\n\n\t            return 0;\n\t        });\n\n\t        console.log(list);\n\n\t        //make sure each task has an id and an index\n\t        list.forEach(function (task, index) {\n\t            //task has an ID\n\t            if (!task.id) {\n\t                console.log(\"No ID:\", task.name);\n\t                task.id = ID();\n\t            }\n\n\t            task.index = index;\n\t        });\n\n\t        //make sure each task doesn't break any positioning rules\n\t        list.every(function (_task, _taskIndex, _taskList) {\n\t            valid = _validateTask(_task, _taskIndex, _taskList);\n\t            return valid;\n\t        });\n\n\t        self._taskListIsValid = valid;\n\t        return valid;\n\t    }\n\n\t    function _validateDay(__dayData) {\n\t        console.log(\"Validating Day\");\n\n\t        var valid = true,\n\t            taskList = __dayData.tasks;\n\n\t        valid = _validateTaskListForDay(taskList);\n\n\t        if (valid) {\n\t            console.log(\"Passed Validation\");\n\t        }\n\n\t        return valid;\n\t    }\n\n\t    function _updateTasksByInsertAndRipple(taskA, taskB, _updateMethod) {\n\n\t        var place = _updateMethod.split('-')[1];\n\t        console.log(place);\n\n\t        //first figure out if taskA is moving into the future or in the past\n\t        var moveDirection = moment(taskB.start).isAfter(taskA.start) ? \"forward\" : \"past\";\n\n\t        var taskASize = _PiUtilitiesJs.PiUtilities.taskSize(taskA.start, taskA.end);\n\n\t        //insert taskA at taskB\n\t        if (place == \"before\") {\n\t            taskA.start = taskB.start;\n\t            taskA.end = moment(taskA.start).add(taskASize, 'm').format();\n\t        } else if (place == \"after\") {\n\t            taskA.start = taskB.end;\n\t            taskA.end = moment(taskA.start).add(taskASize, 'm').format();\n\t        }\n\n\t        //if taskA is moved into a time in the future...\n\t        if (moveDirection == \"forward\") {\n\n\t            /*\n\t             * If taskA is being inserted at the start of taskB, Push taskB and\n\t             * each task after it taskA-minutes into the future. If taskA is being\n\t             * inserted at the end of taskB, push each task after taskB taskA-minutes\n\t             * into the future\n\t             * */\n\t            var start = place == \"before\" ? taskB.index : taskB.index + 1;\n\n\t            for (var i = start; i < userDayObject.tasks.length; i++) {\n\t                var task = self.getTaskAtIndex(i),\n\t                    taskSize = _PiUtilitiesJs.PiUtilities.taskSize(task.start, task.end);\n\n\t                task.start = moment(task.start).add(taskASize, 'm').format();\n\t                task.end = moment(task.start).add(taskSize, 'm').format();\n\t                console.log(\"shifting forward \" + task.name);\n\t            }\n\n\t            /*\n\t             * Then, each task after taskA's original position\n\t             * need to be shifted taskA-minutes earlier to re-balance\n\t             * the Pie\n\t             * */\n\t            for (var i = taskA.index; i < userDayObject.tasks.length; i++) {\n\t                var task = self.getTaskAtIndex(i),\n\t                    taskSize = _PiUtilitiesJs.PiUtilities.taskSize(task.start, task.end);\n\t                task.start = moment(task.start).subtract(taskASize, 'm').format();\n\t                task.end = moment(task.start).add(taskSize, 'm').format();\n\t                console.log(\"shifting back \" + task.name);\n\t            }\n\t        }\n\n\t        //If taskB is moved into the past\n\t        if (moveDirection == \"past\") {\n\n\t            /*\n\t             * If taskA is being inserted at the start of taskB, push taskB and\n\t             * each task after it, up to taskA's original position, taskA-minutes\n\t             * into the future to re-balance the Pie. If taskA is being inserted\n\t             * at the end of taskB, push each task after taskB, up to taskA's original\n\t             * position taskA-minutes into the future to re-balanace the Pie.\n\t             * */\n\t            var start = place == \"before\" ? taskB.index : taskB.index + 1;\n\t            for (var i = start; i < taskA.index; i++) {\n\t                var task = self.getTaskAtIndex(i),\n\t                    taskSize = _PiUtilitiesJs.PiUtilities.taskSize(task.start, task.end);\n\t                task.start = moment(task.start).add(taskASize, 'm').format();\n\t                task.end = moment(task.start).add(taskSize, 'm').format();\n\t                console.log(\"shifting forward \" + task.name);\n\t            }\n\t        }\n\t    }\n\n\t    /*\n\t     * Similar to a ripple edit in Premiere\n\t     * when you change the size of one task,\n\t     * it shifts all the other tasks earlier\n\t     * or later, accordingly\n\t     * */\n\t    function _updateTaskByPushPull(_dirtyTask, rippleMethod) {\n\n\t        var task = _dirtyTask,\n\t            startingTime = moment(task.start),\n\t            terminalTime = moment(task.end);\n\n\t        console.log(\"starting ripple\");\n\n\t        var rippleHandle = rippleMethod.split('-')[0];\n\n\t        var prevHandle = moment(task.tempData['prev-' + rippleHandle]);\n\t        var newHandle = moment(task[rippleHandle]);\n\n\t        var rippleDifferenceMs = newHandle.diff(prevHandle);\n\n\t        console.log(newHandle.diff(prevHandle, 'm'));\n\n\t        if (rippleMethod == \"end-push-pull\") {\n\t            for (var i = task.index + 1; i < userDayObject.tasks.length; i++) {\n\t                var nextTask = userDayObject.tasks[i];\n\t                var taskSize = _PiUtilitiesJs.PiUtilities.taskSize(nextTask.start, nextTask.end);\n\t                nextTask.start = moment(nextTask.start).add(rippleDifferenceMs, 'ms').format();\n\t                nextTask.end = moment(nextTask.start).add(taskSize, 'minutes').format();\n\t            }\n\t        }\n\n\t        if (rippleMethod == \"start-push-pull\") {\n\t            for (var i = task.index - 1; i > 0; i--) {\n\t                var previousTask = userDayObject.tasks[i];\n\t                var taskSize = _PiUtilitiesJs.PiUtilities.taskSize(previousTask.start, previousTask.end);\n\t                var oldEnd = previousTask.end;\n\t                previousTask.end = moment(previousTask.end).add(rippleDifferenceMs, 'ms').format();\n\t                previousTask.start = moment(previousTask.end).subtract(taskSize, 'minutes').format();\n\t            }\n\t        }\n\t    }\n\n\t    function _taskListUpdateFailed() {\n\t        console.log(\"task list update failed, restoring using cached data\");\n\t        eve(\"taskListUpdateFailed\");\n\t        userDayObject.tasks = self.__temp();\n\t        _validateDay(userDayObject);\n\t        eve(\"taskListUpdated\");\n\t    }\n\n\t    function _taskListUpdated() {\n\t        console.log(\"task list successfully updated, caching new validated data\");\n\t        self._taskListIsDirty = false;\n\t        __temp = JSON.stringify(userDayObject.tasks);\n\t        eve(\"taskListUpdated\", {}, updateOptions.animate);\n\t    }\n\n\t    self.__temp = function () {\n\t        return JSON.parse(__temp);\n\t    };\n\n\t    self.addTask = function (task) {\n\t        userDayObject.tasks.push(task);\n\t        self.updateTasks();\n\t        return task.id;\n\t    };\n\n\t    self.getTask = function (taskID) {\n\t        return userDayObject.tasks.find(function (task) {\n\t            return task.id == taskID;\n\t        });\n\t    };\n\n\t    self.getTaskAtIndex = function (taskIndex) {\n\t        return userDayObject.tasks[taskIndex];\n\t    };\n\n\t    self.removeTask = function () {};\n\n\t    self.updateTasks = function (options) {\n\n\t        options = options || {};\n\n\t        self._taskListIsDirty = true;\n\n\t        updateOptions.animate = options.animate == null || options.animate == false ? false : options.animate;\n\n\t        var fullUpdate = options.fullUpdate == null || options.fullUpdate == true ? true : options.fullUpdate;\n\n\t        var clean = false;\n\t        var updateMethod = options.updateMethod || \"regular\";\n\t        var dirtyTasks = !options.tasks || options.tasks == [] || options.tasks == \"all\" ? userDayObject.tasks : options.tasks.map(function (id) {\n\t            return self.getTask(id);\n\t        });\n\n\t        console.log(\"Updating Tasks \" + updateMethod, dirtyTasks);\n\n\t        if (updateMethod.includes(\"insert\")) {\n\n\t            var taskA = dirtyTasks[0];\n\t            var taskB = dirtyTasks[1];\n\n\t            _updateTasksByInsertAndRipple(taskA, taskB, updateMethod);\n\t        }\n\n\t        if (updateMethod.includes(\"push-pull\")) {\n\t            dirtyTasks.forEach(function (dirtyTask, index, array) {\n\t                _updateTaskByPushPull(dirtyTask, updateMethod);\n\t            });\n\t        }\n\n\t        if (fullUpdate) {\n\t            clean = _validateDay(userDayObject);\n\t            if (clean) {\n\t                _taskListUpdated();\n\t            } else {\n\t                _taskListUpdateFailed();\n\t            }\n\t        }\n\t    };\n\n\t    //various setters and getters\n\n\t    self.getDay = function () {\n\t        return userDayObject.day;\n\t    };\n\n\t    self.getTasks = function () {\n\t        return userDayObject.tasks;\n\t    };\n\n\t    self.getProductiveTimeInMinutes = function () {\n\t        var sum = 0;\n\t        userDayObject.tasks.forEach(function (task) {\n\t            sum += _PiUtilitiesJs.PiUtilities.taskSize(task.start, task.end);\n\t        });\n\t        return sum;\n\t    };\n\n\t    self.getTaskCount = function () {\n\t        return userDayObject.tasks.length;\n\t    };\n\n\t    self.getSleepTasks = function () {\n\t        return sleep;\n\t    };\n\n\t    self.getSleepGoalInMinutes = function () {\n\t        return moment.duration(userDayObject.sleepGoal).asMinutes();\n\t    };\n\n\t    self.wakeUpTime = function (newWakeUpTime) {\n\t        if (newWakeUpTime) userDayObject.wakeUpTime = newWakeUpTime;\n\n\t        return userDayObject.wakeUpTime;\n\t    };\n\n\t    self.bedTime = function (newBedTime) {\n\t        if (newBedTime) userDayObject.bedTime = newBedTime;\n\t        return userDayObject.bedTime;\n\t    };\n\n\t    self.picture = function (newPhotoUrl) {\n\t        if (newPhotoUrl) userDayObject.picture = newPhotoUrl;\n\n\t        return userDayObject.picture;\n\t    };\n\n\t    self.getSleepDetails = function () {\n\n\t        return {\n\t            wakeUpTime: userDayObject.wakeUpTime,\n\t            bedTime: userDayObject.bedTime\n\t        };\n\t    };\n\n\t    self.getAnticipatedSleepTime = function () {\n\t        var sleep = self.getSleepDetails(),\n\t            tonightBedTime = sleep.bedTime,\n\n\t        /*this should query storage\n\t         for tomorrows schedule and\n\t         uses tomorrows wake up time\n\t         not todays wake up time. but\n\t         for now we're just gonna\n\t         assume they're the same\n\t         */\n\n\t        tomorrowWakeTime = moment(sleep.wakeUpTime).add(1, \"day\"),\n\t            sleepTimeInMinutes = moment(tomorrowWakeTime).diff(moment(tonightBedTime), \"minutes\");\n\n\t        return sleepTimeInMinutes;\n\t    };\n\n\t    //sum sleep minutes\n\t    self.getSleepTimeInMinutes = function () {\n\t        var sleep = self.getSleepTasks();\n\t        var sumSleepTimeInMinutes = 0;\n\n\t        sleep.forEach(function (e, i, a) {\n\t            sumSleepTimeInMinutes += _PiUtilitiesJs.PiUtilities.taskSize(e.start, e.end);\n\t        });\n\n\t        return sumSleepTimeInMinutes;\n\t    };\n\n\t    self.taskListIsValid = function () {\n\t        return self._taskListIsValid;\n\t    };\n\n\t    self.taskListIsDirty = function () {\n\t        return self._taskListIsDirty;\n\t    };\n\n\t    utilities.taskIsValid = function (task) {\n\t        return _validateTask(task, task.index, userDayObject.tasks);\n\t    };\n\n\t    utilities.getTaskLatestPossibleStartTime = function (taskIndex) {\n\t        var task = self.getTaskAtIndex(taskIndex);\n\t        return moment(task.end).subtract(self.MINIMUM_TASK_SIZE, 'minutes').format();\n\t    };\n\n\t    utilities.getTaskEarliestPossibleEndTime = function (taskIndex) {\n\t        var task = self.getTaskAtIndex(taskIndex);\n\t        return moment(task.start).add(self.MINIMUM_TASK_SIZE, 'minutes').format();\n\t    };\n\n\t    utilities.defaultDayObject = function () {\n\t        var today = new _DayHelperJs.Day();\n\t        return {\n\t            day: today.string,\n\t            wakeUpTime: today.at(\"7:30 am\"),\n\t            bedTime: today.nextDay().at(\"2:00 am\"),\n\t            sleepGoal: \"08:00\",\n\t            tasks: []\n\t        };\n\t    };\n\n\t    utilities.firstAvailableOpening = function (minutes, timeFrameStart, timeFrameEnd) {\n\t        var newStartingTime;\n\t        var i = 0;\n\n\t        !userDayObject.tasks.every(function (task, index, array) {\n\t            if (moment(task.start).isSameOrAfter(timeFrameStart)) {\n\n\t                var prevTaskEnd;\n\t                var nextTaskStart;\n\t                var nextTask = array[index + 1];\n\n\t                if (i == 0) {\n\t                    prevTaskEnd = timeFrameStart;\n\t                    var spaceBetweenMinTimeAndFirstTaskIsBigEnough = moment(task.start).isSameOrAfter(moment(prevTaskEnd).add(minutes, \"m\"));\n\t                    if (spaceBetweenMinTimeAndFirstTaskIsBigEnough) {\n\t                        newStartingTime = timeFrameStart;\n\t                        return false;\n\t                    }\n\t                }\n\n\t                if (nextTask) {\n\t                    nextTaskStart = moment(nextTask.start);\n\t                    if (moment(nextTaskStart).isSameOrAfter(timeFrameEnd)) {\n\t                        nextTaskStart = timeFrameEnd;\n\t                    }\n\t                } else {\n\t                    nextTaskStart = moment(timeFrameEnd);\n\t                }\n\n\t                var spaceIsBigEnoughToHoldTask = nextTaskStart.isSameOrAfter(moment(task.end).add(minutes, 'm')),\n\t                    spaceIsWithinTimeFrame = moment(task.end).isSameOrAfter(timeFrameStart) && moment(nextTaskStart).isSameOrBefore(timeFrameEnd);\n\n\t                if (spaceIsBigEnoughToHoldTask && spaceIsWithinTimeFrame) {\n\t                    newStartingTime = task.end;\n\t                    return false;\n\t                }\n\n\t                i++;\n\t            }\n\n\t            return true;\n\t        });\n\n\t        return newStartingTime || false;\n\t    };\n\n\t    init(_dayDataObject);\n\t}\n\n\t/*\n\t * I can imagine a version of this for\n\t * teams.. a project manager assigns a task\n\t * to someone for a particular day, and\n\t * it will automatically reject if the pie\n\t * calculates that you can't complete it\n\t *\n\t * at jawbone i liked the idea of points\n\t * but it's too arbitrary.. it was like\n\t * throwing a dart at the wall.. one was\n\t * expected to guess how many \"points\"\n\t * something was worth without regard to\n\t * the day... was a point = time?\n\t * difficulty ?\n\t *\n\t * i think the gem with this is\n\t * the design will help you to think\n\t * through the tasks you have so that you\n\t * can better estimate how long it will\n\t * take you... since the design changes\n\t * as you allocate more time to an object\n\t * you will be able to see how one\n\t * task directly affects another\n\t * its all about balance\n\t *\n\t * */\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Created by jordanbradley on 3/19/16.\n\t */\n\n\t//simple moment wrapper\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Day = Day;\n\n\tfunction Day(day_string_yyyy_mm_dd) {\n\n\t    var day = day_string_yyyy_mm_dd || moment().startOf('day').format(\"YYYY MM DD\");\n\n\t    this.string = moment(day).format();\n\n\t    this.at = function (time_string_hh_mm_a) {\n\t        return moment(day + \" \" + time_string_hh_mm_a, \"YYYY MM DD h:mm a\").format();\n\t    };\n\n\t    this.nextDay = function () {\n\t        var next_day = moment(day).startOf('day').add(1, 'day').format(\"YYYY MM DD\");\n\t        return new Day(next_day);\n\t    };\n\n\t    this.previousDay = function () {\n\t        var prev_day = moment(day).startOf('day').subtract(1, 'day').format(\"YYYY MM DD\");\n\t        return new Day(prev_day);\n\t    };\n\t}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Created by jordanbradley on 12/1/15.\n\t */\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\texports.TaskDonut = TaskDonut;\n\n\tvar _TaskSliceJs = __webpack_require__(10);\n\n\tvar _PiUtilitiesJs = __webpack_require__(6);\n\n\tvar _EmitterJs = __webpack_require__(11);\n\n\tfunction TaskDonut(svgArea, _taskManager) {\n\n\t  var self = this;\n\t  var init;\n\t  var determineSize;\n\t  var determineAngleOffset;\n\t  var drawingArea = svgArea;\n\t  var pattern, patternImg;\n\t  var taskManager = _taskManager;\n\t  var tasks;\n\t  var picture;\n\n\t  self.dispatchedEvents = {};\n\t  self.taskManager = taskManager;\n\t  self.slices = [];\n\t  self.sliceDataObjects = [];\n\t  self.picture = null;\n\n\t  init = function () {\n\n\t    tasks = taskManager.getTasks();\n\n\t    patternImg = drawingArea.image(\"http://www.transparenttextures.com/patterns/debut-light.png\", 0, 0, 100, 100).attr({ \"opacity\": 1 });\n\t    pattern = patternImg.toPattern(0, 0, 100, 100);\n\n\t    self.drawingArea = drawingArea;\n\t    self.slices = [];\n\t    self.total = 0;\n\n\t    determineSize();\n\n\t    self.p = drawingArea.circle(self.centerX, self.centerY, 10);\n\t    self.p.attr({ transform: \"rotate(\" + self.angle_offset + \" \" + self.centerX + \" \" + self.centerY + \")\" });\n\n\t    self.picture = self.taskManager.picture() || null;\n\n\t    console.log(self.picture);\n\n\t    eve.on(\"taskListUpdated\", tasksListUpdated);\n\t  };\n\n\t  function tasksListUpdated(_animate) {\n\t    if (taskManager.taskListIsValid()) {\n\t      console.log(\"Tasks are valid, redrawing\");\n\t      self.drawSlices(_animate);\n\t    } else {\n\t      console.log(\"Tasks not valid, not redrawing\");\n\t    }\n\t  }\n\n\t  function calculateSleepAngleSize() {\n\t    var anticipatedSleepTimeInMinutes = taskManager.getAnticipatedSleepTime(),\n\t        wholeDayInMinutes = moment.duration(24, \"hours\").as(\"minutes\"),\n\t        sleep_ratio = anticipatedSleepTimeInMinutes / wholeDayInMinutes;\n\n\t    return sleep_ratio * 360;\n\t  }\n\n\t  function calculateProductiveTimeAngleSize() {\n\t    return _PiUtilitiesJs.PiUtilities.toAngleSize(taskManager.getProductiveTimeInMinutes());\n\t  }\n\n\t  determineSize = function () {\n\n\t    self.svgNode = $(self.drawingArea.node);\n\n\t    self.outerRadius = 100;\n\t    self.radius = self.outerRadius;\n\t    self.sliceBorderRadius = self.radius / 1.03;\n\t    self.innerSliceRadius = self.sliceBorderRadius;\n\n\t    self.pictureRadius = self.innerSliceRadius / 1.036;\n\n\t    self.centerX = self.outerRadius;\n\t    self.centerY = self.outerRadius;\n\t  };\n\n\t  self.toXY = function (angleInRadians, r) {\n\t    return {\n\t      x: self.centerX + r * Math.cos(angleInRadians),\n\t      y: self.centerY + r * Math.sin(angleInRadians)\n\t    };\n\t  };\n\n\t  self.toPolar = function (x, y) {\n\t    return {\n\t      angle: Math.atan2(y, x).mod(Math.TWOPI),\n\t      r: math.distance([x, y], [self.centerX, self.centerY])\n\t    };\n\t  };\n\n\t  self.draw = function (_animate) {\n\n\t    self.angle_offset = 90 - calculateSleepAngleSize() / 2;\n\n\t    //outermost circle, white border w/ drop shadow\n\t    var borderCircle = drawingArea.circle();\n\t    var shadow = drawingArea.filter(Snap.filter.shadow(0, 0, 2, 'black', .2));\n\t    borderCircle.attr({ \"cx\": self.centerX, \"cy\": self.centerY, \"r\": self.outerRadius, \"fill\": \"white\", 'fill-opacity': \"1\" });\n\n\t    if (picture) {\n\t      picture.remove();\n\t    }\n\n\t    //self portrait\n\t    var pictureWidth = self.pictureRadius * 2;\n\t    var pictureHeight = pictureWidth;\n\t    var pictureX = self.centerX - pictureWidth / 2;\n\t    var pictureY = self.centerY - pictureHeight / 2;\n\t    picture = drawingArea.image(self.picture, pictureX, pictureY, pictureWidth, pictureHeight);\n\n\t    //mask self portrait\n\n\t    //.attr({filter: drawingArea.filter(Snap.filter.grayscale(.5))})\n\t    var pictureMask = drawingArea.circle();\n\t    pictureMask.attr({ \"cx\": self.centerX, \"cy\": self.centerY, \"r\": self.pictureRadius, \"fill\": \"white\" });\n\t    picture.attr({ mask: pictureMask });\n\n\t    //ring group\n\t    self.donut_group = self.drawingArea.g();\n\n\t    //task ring, categories\n\t    var circle = drawingArea.circle();\n\t    circle.attr({ \"cx\": self.centerX, \"cy\": self.centerY, \"r\": self.radius, \"fill\": \"#cccccc\", 'fill-opacity': \"1\" });\n\n\t    //create mask\n\t    var donutMaskCircle = drawingArea.circle(self.centerX, self.centerY, self.outerRadius + 5).attr({ \"fill\": \"white\" });\n\t    var donutMaskInnerCircle = drawingArea.circle(self.centerX, self.centerY, self.innerSliceRadius);\n\t    var donutMask = drawingArea.g().add(donutMaskCircle, donutMaskInnerCircle);\n\t    self.donut_group.add(borderCircle, circle);\n\n\t    self.drawSlices(_animate);\n\n\t    //draw task slice handles\n\t    //apply masks\n\t    self.donut_group.attr({ mask: donutMask });\n\t    self.donut_group.attr({ transform: \"rotate(\" + self.angle_offset + \" \" + self.centerX + \" \" + self.centerY + \")\" });\n\t  };\n\n\t  self.redraw = function (_animate) {\n\t    self.drawingArea.clear();\n\n\t    init();\n\t    self.draw(_animate);\n\t  };\n\n\t  self.drawSlices = function (_animate) {\n\n\t    if (!self.picture) return;\n\n\t    var sleepSize = calculateSleepAngleSize(),\n\t        productiveSize = calculateProductiveTimeAngleSize(),\n\t        sleepSlice = {\n\t      name: \"sleep\",\n\t      startAngle: 0,\n\t      endAngle: sleepSize\n\t    };\n\n\t    var productiveSlice = { name: \"tasks\", color: \"grey\", startAngle: sleepSlice.endAngle };\n\t    productiveSlice.endAngle = productiveSlice.startAngle + productiveSize;\n\n\t    self.sliceDataObjects.push(sleepSlice, productiveSlice);\n\n\t    self.sliceDataObjects.forEach(function (_sliceDataObject) {\n\n\t      var slice = self.slices.find(function (slice) {\n\t        return slice.data.name == _sliceDataObject.name;\n\t      });\n\n\t      if (!slice) {\n\t        slice = new _TaskSliceJs.TaskSlice(self, _sliceDataObject);\n\t        self.slices.push(slice);\n\t      } else {\n\t        slice.redraw(true);\n\t      }\n\t    });\n\t  };\n\n\t  self.refreshPhoto = function (uri) {\n\t    console.log(\"refreshing\");\n\t    self.picture = uri;\n\t    self.redraw();\n\t  };\n\n\t  init();\n\n\t  if (taskManager.taskListIsValid()) {\n\t    self.draw();\n\t  }\n\t}\n\n\t/*\n\t * I wrote this a few days ago as a rewrite of ^\n\t * I think this gets the idea more:\n\t *\n\t * A programmer is tasked with dictating to a machine in great\n\t * detail, his needs and concerns. The machine listens and works\n\t * to serve the programmer. However, as is the case with any situation\n\t * in life, one must have an understanding of an issue before exploring\n\t * a solution. So, in the case of creating tools and expressions with\n\t * code, those aesthetic or contextual issues exist at a personal\n\t * level, and therefore require a personal meditation to conquer.\n\t *\n\t * Thus, code becomes a medium. It becomes a deeply personal thing in\n\t * which a programmer becomes more an artist or craftsperson. He is\n\t * tasked with molding and shaping with his voice, a satisfying,\n\t * functioning image.. an attempt at representing answers to a persons\n\t * most challenging and persistent questions\n\t *\n\t * */\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.TaskSlice = TaskSlice;\n\n\tvar _PiUtilitiesJs = __webpack_require__(6);\n\n\tfunction findRelativeMouseAngle(mx, my, TaskDonut) {\n\t  var mousePoint = findRelativeMousePoints(mx, my, TaskDonut);\n\t  var relative_mx = mousePoint.x;\n\t  var relative_my = mousePoint.y;\n\t  var relative_center_x = TaskDonut.centerX;\n\t  var relative_center_y = TaskDonut.centerY;\n\t  var mouseAngle = Math.atan2(relative_my - relative_center_y, relative_mx - relative_center_x).mod(Math.TWOPI);\n\t  return Math.round(Snap.deg(mouseAngle));\n\t}\n\n\tfunction TaskSlice(TaskDonut, _sliceDataObject) {\n\n\t  //private\n\t  var self = this;\n\t  var HANDLE_SLICE_SIZE = 3;\n\t  var sleepGradient = TaskDonut.drawingArea.gradient(\"l(0, 0, 1, 0)#F8B978-#5C6879\");\n\t  var mainSlicePath;\n\t  var sliceAlreadyAnimating;\n\n\t  //exposed\n\t  self.borderSlice = TaskDonut.drawingArea.path();\n\t  self.mainSlice = TaskDonut.drawingArea.path();\n\t  self.tempSlice = TaskDonut.drawingArea.path();\n\t  self.terminalHandle = TaskDonut.drawingArea.path();\n\t  self.startingHandle = TaskDonut.drawingArea.path();\n\t  self.innerStartingVectorLine = TaskDonut.drawingArea.line();\n\t  self.innerTerminalVectorLine = TaskDonut.drawingArea.line();\n\t  self.label = TaskDonut.drawingArea.text();\n\t  self.mainSliceRadius = TaskDonut.sliceBorderRadius;\n\t  self.tempData = {};\n\n\t  TaskDonut.donut_group.add(self.borderSlice, self.mainSlice, self.innerStartingVectorLine, self.innerTerminalVectorLine, self.label, self.startingHandle, self.terminalHandle);\n\n\t  function init(_sliceDataObject) {\n\n\t    self.startingAngle = 0;\n\t    self.terminalAngle = 0;\n\n\t    self.data = _sliceDataObject;\n\n\t    var drawingAngles = findDrawingAngles(self.data.startAngle, self.data.endAngle);\n\t    self.draw(drawingAngles.startingAngle, drawingAngles.terminalAngle);\n\n\t    console.log(drawingAngles);\n\t  }\n\n\t  function findDrawingAngles(_start, _end) {\n\t    return {\n\t      \"startingAngle\": Snap.rad(_start).mod(Math.TWOPI),\n\t      \"terminalAngle\": Snap.rad(_end).mod(Math.TWOPI)\n\t    };\n\t  }\n\n\t  function findVectors(_startingAngle, _terminalAngle) {\n\n\t    var angleSize = _terminalAngle - _startingAngle;\n\n\t    return {\n\t      startingVector: TaskDonut.toXY(_startingAngle, TaskDonut.radius),\n\t      terminalVector: TaskDonut.toXY(_terminalAngle, TaskDonut.radius),\n\t      innerStartingVector: TaskDonut.toXY(_startingAngle, self.mainSliceRadius),\n\t      innerTerminalVector: TaskDonut.toXY(_terminalAngle, self.mainSliceRadius)\n\t    };\n\t  }\n\n\t  function makeBorderSliceString(outerStartX, outerStartY, outerRadius, outerEndX, outerEndY, innerStartX, innerStartY, innerRadius, innerEndX, innerEndY, _sweep) {\n\n\t    var sweep = _sweep,\n\t        move = \"M\" + innerStartX + \",\" + innerStartY,\n\t        arc = \"A\" + innerRadius + \",\" + innerRadius + \" 0 \" + sweep + \" 1 \" + innerEndX + \",\" + innerEndY,\n\t        lineTo = \"L\" + outerEndX + \",\" + outerEndY,\n\t        outerArc = \"A\" + outerRadius + \",\" + outerRadius + \" 0 \" + sweep + \" 0 \" + outerStartX + \",\" + outerStartY,\n\t        close = \"L\" + innerStartX + \",\" + innerStartY + \" z\";\n\n\t    return [move, arc, lineTo, outerArc, close].join(\" \");\n\t  }\n\n\t  function makeSliceString(startX, startY, terminalX, terminalY, radius) {\n\n\t    var startingMoveTo = \"M\" + TaskDonut.centerX + \",\" + TaskDonut.centerY,\n\t        startingLineTo = \"L\" + startX + \",\" + startY,\n\t        startingArc = \"A\" + radius + \",\" + radius + \" 0 0 1 \" + terminalX + \",\" + terminalY + \" z\";\n\n\t    return [startingMoveTo, startingLineTo, startingArc].join(\" \");\n\t  }\n\n\t  self.redraw = function (_animate) {\n\n\t    var drawingAngles = findDrawingAngles(self.data.startAngle, self.data.endAngle);\n\t    var speed = _animate ? 200 : 0;\n\n\t    self.draw(drawingAngles.startingAngle, drawingAngles.terminalAngle, function () {}, speed);\n\t  };\n\n\t  self.draw = function (newStartAngle, newEndAngle, callback, _speed) {\n\t    var speed = _speed || 0;\n\t    return Snap.animate([self.startingAngle, self.terminalAngle], [newStartAngle, newEndAngle], function (val) {\n\n\t      console.log(\"Animating\");\n\t      sliceAlreadyAnimating = true;\n\n\t      var currentStartAngle = val[0];\n\t      var currentEndAngle = val[1];\n\n\t      var vectors = findVectors(currentStartAngle, currentEndAngle);\n\t      var sweep = currentEndAngle - currentStartAngle > Math.PI ? 1 : 0;\n\n\t      //border slice\n\t      var borderSlice = makeBorderSliceString(vectors.startingVector.x, vectors.startingVector.y, TaskDonut.radius, vectors.terminalVector.x, vectors.terminalVector.y, vectors.innerStartingVector.x, vectors.innerStartingVector.y, self.mainSliceRadius, vectors.innerTerminalVector.x, vectors.innerTerminalVector.y, sweep);\n\n\t      self.borderSlice.attr({ stroke: \"transparent\", \"stroke-width\": 0, \"fill\": self.data.color || _PiUtilitiesJs.PiUtilities.colors.pieOrangeCream, 'd': borderSlice });\n\n\t      if (self.data.name && self.data.name == \"sleep\") {\n\t        self.innerStartingVectorLine.attr({ \"stroke-width\": 0 });\n\t        self.innerTerminalVectorLine.attr({ \"stroke-width\": 0 });\n\t        self.borderSlice.attr({ \"fill\": sleepGradient, \"fill-opacity\": 1, 'stroke-width': 0 });\n\t        self.mainSlice.attr({ \"fill\": sleepGradient, \"fill-opacity\": 1, 'stroke-width': 0 });\n\t      }\n\t    }, speed, function () {\n\n\t      self.startingAngle = newStartAngle;\n\t      self.terminalAngle = newEndAngle;\n\n\t      sliceAlreadyAnimating = false;\n\n\t      if (callback) callback();\n\t    });\n\t  };\n\n\t  //constructor\n\t  init(_sliceDataObject);\n\t}\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Emitter = Emitter;\n\n\tfunction Emitter() {}\n\n\tvar e = $('body');\n\n\tEmitter.on = function () {\n\t    console.log(\"hi\");e.bind.apply(this, arguments);\n\t};\n\n\tEmitter.trigger = e.trigger;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Created by jordanbradley on 3/10/16.\n\t */\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\texports.TaskStrip = TaskStrip;\n\texports.TaskStripDirective = TaskStripDirective;\n\n\tvar _TaskBlock = __webpack_require__(13);\n\n\tvar _ThreeSegmentButton = __webpack_require__(14);\n\n\tvar _PiUtilities = __webpack_require__(6);\n\n\tvar _DayHelper = __webpack_require__(8);\n\n\tfunction TaskStrip(svgArea, _taskManager) {\n\n\t    var self = this,\n\t        tasks,\n\t        drawingArea = svgArea,\n\t        taskManager = _taskManager;\n\t    self.drawingArea = drawingArea;\n\n\t    var stripBarBorderRadius;\n\n\t    var viewBox;\n\n\t    var tabWidth, tabHeight, tabTopOffset;\n\n\t    var sleepBarHeight, sleepBarWidth, sleepBarTopOffset, sleepBarLeftOffset, sleepBarLabelTopOffset, sleepBarLabelLeftOffset, sleepBarLabelWidth, sleepBarLabelTextSize, sleepBarLabelHeight;\n\n\t    var _selectedTask;\n\n\t    var morningTab = drawingArea.rect(),\n\t        nightTab = drawingArea.rect(),\n\t        strip = drawingArea.rect(),\n\t        roundedRectangleMask = drawingArea.rect(),\n\t        sleepBarLabel = drawingArea.text(),\n\t        sleepGradient = drawingArea.gradient(\"l(0, 0, 1, 0)#F8B978-#5C6879\"),\n\t        totalBar = drawingArea.rect(),\n\t        sleepBar = drawingArea.rect(),\n\t        morningSleepAdjustmentButton,\n\t        nightSleepAdjustmentButton;\n\n\t    self.group = drawingArea.g();\n\t    self.group.add(strip);\n\t    self.group.attr({ mask: roundedRectangleMask });\n\n\t    var now = moment(new _DayHelper.Day().at(\"2:30pm\"));\n\n\t    function init() {\n\n\t        viewBox = drawingArea.node.attributes[1].nodeValue.split(\" \");\n\n\t        self.taskManager = _taskManager;\n\n\t        self.totalWidth = viewBox[2]; // should be 100\n\t        self.totalHeight = viewBox[3]; // should be 25\n\n\t        self.blocks = [];\n\n\t        self.scale = determineScale();\n\n\t        //values assuming a 100 by 25 responsive viewbox\n\n\t        tabTopOffset = 0;\n\t        tabWidth = 0;\n\t        tabHeight = 0;\n\n\t        stripBarBorderRadius = .75;\n\n\t        self.sleepAdjustmentButtonLeftOffset = tabWidth + stripBarBorderRadius;\n\t        self.sleepAdjustmentButtonTopOffset = 0;\n\t        self.sleepAdjustmentButtonWidth = 7.899;\n\t        self.sleepAdjustmentButtonHeight = 2.774;\n\n\t        self.stripTopOffset = 4.5;\n\t        self.stripLeftOffset = tabWidth;\n\t        self.stripWidth = self.totalWidth - 2 * self.stripLeftOffset;\n\t        self.stripHeight = 12.5;\n\n\t        sleepBarHeight = .81;\n\n\t        sleepBarLabelTopOffset = self.totalHeight - sleepBarHeight;\n\t        sleepBarLabelLeftOffset = stripBarBorderRadius;\n\t        sleepBarLabelWidth = 0;\n\t        sleepBarLabelTextSize = 1;\n\t        sleepBarLabelHeight = sleepBarHeight;\n\n\t        sleepBarWidth = self.stripWidth - (2 * stripBarBorderRadius + sleepBarLabelWidth);\n\t        sleepBarLeftOffset = sleepBarLabelLeftOffset + sleepBarLabelWidth;\n\t        sleepBarTopOffset = self.totalHeight - sleepBarHeight - 0.2;\n\n\t        if (taskManager.taskListIsValid()) {\n\t            draw();\n\t        }\n\n\t        eve.on(\"taskListUpdated\", taskListUpdated);\n\n\t        strip.click(createNewTaskInEmptySpace);\n\n\t        $(document).click(function (e) {\n\t            var target = e.target;\n\t            if ($(\"#MainSpace\").is(target) || $(\"#Space\").is(target)) {\n\t                eve(\"userClickedOutsideOfStrip\");\n\t                console.log(\"clicked outside of strip\");\n\t            }\n\t        });\n\t    }\n\n\t    function taskListUpdated(_animateBlocks) {\n\t        console.log(\"Task list updated, redrawing\");\n\t        if (taskManager.taskListIsValid()) {\n\t            self.redraw(_animateBlocks);\n\t        }\n\t    }\n\n\t    function determineScale() {\n\n\t        var sleep = self.taskManager.getSleepDetails(),\n\t            scaleStart = sleep.wakeUpTime,\n\t            scaleEnd = sleep.bedTime,\n\t            scaleTruncated = false;\n\n\t        /*but you're creating a plan for\n\t        today, you've obviously are already\n\t        awake.. so the scale needs to start\n\t        right now\n\t        */\n\n\t        var dayPlanIsForToday = moment(self.taskManager.getDay()).startOf(\"day\").isSame(moment(now).startOf(\"day\"));\n\n\t        if (moment(sleep.wakeUpTime).isBefore(now) && dayPlanIsForToday) {\n\t            scaleStart = now.format();\n\t            scaleTruncated = true;\n\t            console.log(\"the user is planning today but wake up time has already passed. starting strip at current moment\");\n\t        }\n\n\t        console.log(\"Scale\", moment(scaleStart).format(_PiUtilities.PiUtilities.full_format), moment(scaleEnd).format(_PiUtilities.PiUtilities.full_format));\n\n\t        return {\n\t            truncated: scaleTruncated,\n\t            min: scaleStart,\n\t            max: scaleEnd\n\t        };\n\t    }\n\n\t    function disableMorningSleepAdjustment() {\n\t        morningSleepAdjustmentButton.hide();\n\t    }\n\n\t    function calculateSleepBarScaleFactor() {\n\n\t        /*\n\t        * find the amount of time betwen\n\t        * todays bedTime and tomorrows\n\t        * wake up time, if set\n\t        * */\n\n\t        var sleepTimeInMinutes = taskManager.getAnticipatedSleepTime();\n\n\t        var sleepBarScaleFactor = sleepTimeInMinutes / self.taskManager.getSleepGoalInMinutes();\n\n\t        if (sleepBarScaleFactor > 1) sleepBarScaleFactor = 1;\n\n\t        return sleepBarScaleFactor;\n\t    }\n\n\t    self.selectedTaskBlock = function (id) {\n\n\t        if (id) {\n\t            _selectedTask = id;\n\t            eve(\"taskBlockSelected\", {}, id);\n\t        }\n\n\t        return _selectedTask;\n\t    };\n\n\t    self.redraw = function (_animateBlocks) {\n\t        self.scale = determineScale();\n\t        draw(_animateBlocks);\n\t    };\n\n\t    function createNewTaskInEmptySpace(e, mx, my) {\n\t        var scaled_mx = drawingArea.relativeMousePoints(mx, my).x / self.stripWidth;\n\t        var halfSize = _PiUtilities.PiUtilities.toLinearSizeFromTaskSize(taskManager.MINIMUM_TASK_SIZE + 10, self.scale.min, self.scale.max) / 2;\n\t        var startingPosition = scaled_mx - halfSize;\n\n\t        var newTask = taskManager.addTask({\n\t            name: \"\",\n\t            start: _PiUtilities.PiUtilities.toTimeOfDayFromLinearPosition0to1(startingPosition, self.scale.min, self.scale.max),\n\t            end: _PiUtilities.PiUtilities.toTimeOfDayFromLinearPosition0to1(scaled_mx + halfSize, self.scale.min, self.scale.max),\n\t            emoji: '1f3c0.png',\n\t            tempData: {}\n\t        });\n\n\t        eve(\"userAddedTaskByClickingStrip\", {}, newTask);\n\t    }\n\n\t    function draw(_animateBlocks) {\n\n\t        morningTab.attr({ x: 0, y: tabTopOffset, width: tabWidth, height: tabHeight, fill: \"#f8b978\" });\n\t        nightTab.attr({ x: self.stripWidth + tabWidth, y: tabTopOffset, width: tabWidth, height: tabHeight, fill: \"#37445c\" });\n\n\t        strip.attr({ x: self.stripLeftOffset, y: self.stripTopOffset, width: self.stripWidth, height: self.stripHeight, \"fill\": \"#7e3c46\", \"fill-opacity\": .1 });\n\n\t        //only create the buttons once\n\t        if (!morningSleepAdjustmentButton) {\n\t            morningSleepAdjustmentButton = new _ThreeSegmentButton.ThreeSegmentButton(self, {\n\t                x: self.sleepAdjustmentButtonLeftOffset,\n\t                y: self.sleepAdjustmentButtonTopOffset,\n\t                width: self.sleepAdjustmentButtonWidth,\n\t                height: self.sleepAdjustmentButtonHeight,\n\t                image: \"/assets/sun.png\",\n\t                leftIcon: \"/assets/plus.svg\",\n\t                rightIcon: \"/assets/minus.svg\"\n\t            });\n\t            morningSleepAdjustmentButton.leftButton.click(wakeUpEarlier);\n\t            morningSleepAdjustmentButton.rightButton.click(wakeUpLater);\n\t        }\n\n\t        if (!nightSleepAdjustmentButton) {\n\t            nightSleepAdjustmentButton = new _ThreeSegmentButton.ThreeSegmentButton(self, {\n\t                x: self.totalWidth - stripBarBorderRadius - self.sleepAdjustmentButtonWidth,\n\t                y: self.sleepAdjustmentButtonTopOffset,\n\t                width: self.sleepAdjustmentButtonWidth,\n\t                height: self.sleepAdjustmentButtonHeight,\n\t                image: \"/assets/moon.png\",\n\t                leftIcon: \"/assets/minus.svg\",\n\t                rightIcon: \"/assets/plus.svg\"\n\t            });\n\n\t            nightSleepAdjustmentButton.leftButton.click(goToBedEarlier);\n\t            nightSleepAdjustmentButton.rightButton.click(goToBedLater);\n\t        }\n\n\t        if (self.scale.truncated) {\n\t            disableMorningSleepAdjustment();\n\t        }\n\n\t        var tasks = taskManager.getTasks();\n\n\t        tasks.forEach(function (task, index, array) {\n\n\t            var block = self.blocks.find(function (block, blockIndex, blackArray) {\n\t                return block.task.id == task.id;\n\t            });\n\n\t            if (!block) {\n\t                block = new _TaskBlock.TaskBlock(self, task.id);\n\t                self.blocks.push(block);\n\t            } else {\n\t                block.redraw(_animateBlocks);\n\t            }\n\n\t            console.log(block.task.name, block.task.id, block.task.index);\n\t        });\n\n\t        console.log(self.blocks);\n\n\t        roundedRectangleMask.attr({ x: self.stripLeftOffset, y: self.stripTopOffset, width: self.stripWidth, height: self.stripHeight, rx: stripBarBorderRadius, ry: stripBarBorderRadius, fill: \"white\" });\n\n\t        //sleepBarLabel.attr({x: sleepBarLabelLeftOffset, y: sleepBarLabelTopOffset, text:\"Sleep:\", fontSize: 1.31, width: sleepBarLabelWidth, alignmentBaseline: \"central\", fontFamily: \"apercu_medium\", fill: \"#808080\"});\n\n\t        totalBar.attr({ x: sleepBarLeftOffset, y: sleepBarTopOffset, width: sleepBarWidth, height: sleepBarHeight });\n\t        sleepBar.attr({ x: sleepBarLeftOffset, y: sleepBarTopOffset, width: sleepBarWidth * calculateSleepBarScaleFactor(), height: sleepBarHeight });\n\n\t        sleepBar.attr({ rx: sleepBarHeight / 2, ry: sleepBarHeight / 2, \"fill\": sleepGradient });\n\t        totalBar.attr({ rx: sleepBarHeight / 2, ry: sleepBarHeight / 2, \"fill\": \"#7e3c46\", \"fill-opacity\": .1 });\n\t    };\n\n\t    function wakeUpEarlier() {\n\t        //create more time for tasks in the morning\n\t        console.log(\"waking up earlier\");\n\t        var sleep = taskManager.getSleepTasks();\n\t        sleep[0].end = moment(sleep[0].end).subtract(30, \"minutes\").format();\n\t        taskManager.updateTasks();\n\t    }\n\n\t    function wakeUpLater() {\n\t        //take away time for tasks in the morning\n\t        console.log(\"waking up later\");\n\t        var sleep = taskManager.getSleepTasks();\n\t        sleep[0].end = moment(sleep[0].end).add(30, \"minutes\").format();\n\t        taskManager.updateTasks();\n\t    }\n\n\t    function goToBedEarlier() {\n\t        //take away time for tasks in the morning\n\t        console.log(\"go to bed earlier\");\n\t        taskManager.bedTime(moment(taskManager.bedTime()).subtract(30, \"minutes\").format());\n\t        taskManager.updateTasks();\n\t    }\n\n\t    function goToBedLater() {\n\t        //take away time for tasks in the morning\n\t        console.log(\"go to bed later\");\n\t        taskManager.bedTime(moment(taskManager.bedTime()).add(30, \"minutes\").format());\n\t        taskManager.updateTasks();\n\t    }\n\n\t    init();\n\t}\n\n\tfunction TaskStripDirective() {\n\n\t    return {\n\t        restrict: 'E',\n\t        replace: true,\n\t        template: '<svg viewBox=\"0 0 200 200\" class=\"TaskStrip\"></svg>',\n\t        link: function link($scope, el, attr) {\n\t            var newStrip = new TaskStrip(Snap(el[0]), $scope.taskData.tasks);\n\t        }\n\t    };\n\t}\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Created by jordanbradley on 3/10/16.\n\t */\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.TaskBlock = TaskBlock;\n\n\tvar _PiUtilitiesJs = __webpack_require__(6);\n\n\tfunction TaskBlock(TaskStrip, _taskID) {\n\n\t    //construct\n\n\t    var self = this,\n\t        taskStrip = TaskStrip,\n\t        drawingArea = TaskStrip.drawingArea,\n\t        taskManager = TaskStrip.taskManager;\n\n\t    var block = drawingArea.rect(),\n\t        blockTopColor = drawingArea.rect(),\n\t        blockBottomColor = drawingArea.rect(),\n\t        blockEmoji = drawingArea.image(),\n\t        blockStartingHandle = drawingArea.rect(),\n\t        blockTerminalHandle = drawingArea.rect(),\n\t        blockMiddleHandle = drawingArea.rect(),\n\t        terminalSeparationLine = drawingArea.path(),\n\t        startSeparationLine = drawingArea.path(),\n\t        blockGroup = drawingArea.g(),\n\t        blockMask = drawingArea.path(),\n\t        dragClone;\n\n\t    var blockColorHeight = taskStrip.stripHeight * (1 / 22),\n\t        handleWidth = 1.1;\n\n\t    var separationLineStrokeWidth = .6,\n\t        separationLineStrokeColor = \"#e2e2e2\",\n\t        separationLineHighlightedStrokeWidth = .6,\n\t        separationLineHighlightedStrokeColor = \"#3fa9f5\";\n\n\t    var handleStrokeWidth = .1,\n\t        handleStrokeAndFillColor = \"transparent\";\n\n\t    var canResizeAdjacentTaskRight, canResizeAdjacentTaskLeft;\n\n\t    var isInSingleSelectionMode = false;\n\n\t    var single_selection_mode_class = \"in-single-selection-mode\";\n\t    var task_block_class = \"task-block\";\n\n\t    var blockAlreadyAnimating;\n\n\t    var taskID = _taskID;\n\n\t    blockGroup.addClass(task_block_class);\n\t    blockGroup.add(block, blockTopColor, blockBottomColor, blockEmoji, blockStartingHandle, blockMiddleHandle, blockTerminalHandle, terminalSeparationLine, startSeparationLine);\n\n\t    self.blockGroup = blockGroup;\n\t    TaskStrip.group.add(blockGroup);\n\n\t    attachUIHandlersAndEvents();\n\n\t    function init(_taskID, _taskIndex) {\n\n\t        self.startingPosition = 0;\n\t        self.terminalPosition = 0;\n\n\t        self.task = taskManager.getTask(_taskID);\n\n\t        determineUIAbilitiesAndClasses();\n\n\t        var drawingPosition = findBlockPosition();\n\t        self.draw(drawingPosition.startingPosition, drawingPosition.terminalPosition);\n\t    }\n\n\t    function refreshTask() {\n\t        self.task = taskManager.getTask(taskID);\n\t    }\n\n\t    function findBlockPosition(_task, start, end) {\n\t        var task = self.task || _task;\n\n\t        //a decimal from 0-1 that when multipled by the width of the task strip give the pixel positions for drawing\n\t        return {\n\t            \"startingPosition\": _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(task.start || start, TaskStrip.scale.min, TaskStrip.scale.max) + TaskStrip.stripLeftOffset,\n\t            \"terminalPosition\": _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(task.end || end, TaskStrip.scale.min, TaskStrip.scale.max) + TaskStrip.stripLeftOffset\n\t        };\n\t    }\n\n\t    function canUserResizeAdjacentTask() {\n\t        canResizeAdjacentTaskRight = false;\n\t        var adjacentTaskRight = taskManager.getTaskAtIndex(self.task.index + 1);\n\t        if (adjacentTaskRight && moment(adjacentTaskRight.start).isSame(moment(self.task.end))) canResizeAdjacentTaskRight = true;\n\t    }\n\n\t    /*\n\t    * since each block is recylced, we\n\t    * need to re apply ui classes if neccessary\n\t    * */\n\t    function determineUIAbilitiesAndClasses() {\n\t        canUserResizeAdjacentTask();\n\t    }\n\n\t    function attachUIHandlersAndEvents() {\n\n\t        blockStartingHandle.drag(resizeTaskSliceByDraggingStartingHandle, null, cancelResizeTaskSliceByDraggingStartOrEndHandle);\n\t        blockTerminalHandle.drag(resizeTaskSliceByDraggingTerminalHandle, null, cancelResizeTaskSliceByDraggingStartOrEndHandle);\n\t        blockMiddleHandle.dblclick(selectTaskBlock);\n\t        blockMiddleHandle.drag(moveTaskLeftOrRightByDraggingMiddleHandle, start_moveTaskLeftOrRightByDraggingMiddleHandle, endMoveTaskLeftOrRightByDraggingMiddleHandle);\n\t        terminalSeparationLine.drag(resizeAdjacentTaskRightByDraggingTerminalSeparationLine, null, cancelResizeAdjacentTaskRightByDraggingTerminalSeparationLine);\n\t        terminalSeparationLine.hover(highlightTerminalSeparationLine, unHighlightSeparationLine);\n\t        eve.on(\"userDraggingTaskInSingleSelectionMode\", determineIfTaskCanBeInsertedHere);\n\t        eve.on(\"taskBlockSelected\", selectTaskBlock);\n\t    }\n\n\t    /*\n\t    * Misc temp variables\n\t    * for drag and hover events.\n\t    * */\n\n\t    var minPushPullPosition = null,\n\t        maxPushPullPosition = null,\n\t        pushPullDirection = null,\n\t        originalMiddleHandleStartPosition = null,\n\t        running_dx = null;\n\n\t    function _bringToFront() {\n\t        var lastBlock = $('.task-block').last();\n\t        $(self.blockGroup.node).insertAfter(lastBlock);\n\t    }\n\n\t    function _nextTaskStartOrScaleMax() {\n\t        return self.task.index < taskManager.getTaskCount() - 1 ? taskManager.getTaskAtIndex(self.task.index + 1).start : taskStrip.scale.max;\n\t    }\n\n\t    function _prevTaskEndOrScaleMin() {\n\t        var min;\n\n\t        if (self.task.index == 0) {\n\t            min = taskStrip.scale.min;\n\t        } else if (self.task.index > 0) {\n\t            var prevTask = taskManager.getTaskAtIndex(self.task.index - 1);\n\n\t            min = taskManager.getTaskAtIndex(self.task.index - 1).end;\n\n\t            if (taskStrip.scale.truncated && moment(prevTask.start).isBefore(moment(taskStrip.scale.min))) {\n\t                min = taskStrip.scale.min;\n\t            }\n\t        }\n\n\t        return min;\n\t    }\n\n\t    function _determineLimitsForPushPull(direction) {\n\n\t        var min, max;\n\n\t        if (direction == \"start\") {\n\n\t            if (minPushPullPosition === null) {\n\n\t                var originalStartPosition = self.startingPosition;\n\t                var firstTaskStartPosition = _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(taskManager.getTaskAtIndex(1).start, taskStrip.scale.min, taskStrip.scale.max);\n\t                var scaleMin = _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(taskStrip.scale.min, taskStrip.scale.min, taskStrip.scale.max);\n\t                var originalSpaceBetweenFirstTaskAndScaleMin = firstTaskStartPosition - scaleMin;\n\n\t                minPushPullPosition = originalStartPosition - originalSpaceBetweenFirstTaskAndScaleMin;\n\t            }\n\n\t            min = minPushPullPosition;\n\t            max = _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(self.task.end).subtract(taskManager.MINIMUM_TASK_SIZE, \"minutes\"), taskStrip.scale.min, taskStrip.scale.max);\n\t        } else if (direction == \"end\") {\n\n\t            if (maxPushPullPosition === null) {\n\n\t                var originalTerminalPosition = self.terminalPosition;\n\t                var lastTaskTerminalPosition = _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(taskManager.getTaskAtIndex(taskManager.getTaskCount() - 1).end, taskStrip.scale.min, taskStrip.scale.max);\n\t                var scaleMax = _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(taskStrip.scale.max, taskStrip.scale.min, taskStrip.scale.max);\n\t                var originalSpaceBetweenLastTaskAndScaleMax = lastTaskTerminalPosition - scaleMax;\n\n\t                maxPushPullPosition = originalTerminalPosition - originalSpaceBetweenLastTaskAndScaleMax;\n\t            }\n\n\t            max = maxPushPullPosition;\n\t            min = _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(self.task.start).add(taskManager.MINIMUM_TASK_SIZE, \"minutes\"), taskStrip.scale.min, taskStrip.scale.max);\n\t        }\n\n\t        console.log(\"Direction: \" + direction);\n\n\t        return { minPosition: min, maxPosition: max };\n\t    }\n\n\t    function _clearLimitsForPushPull() {\n\t        minPushPullPosition = null;\n\t        maxPushPullPosition = null;\n\t        pushPullDirection = null;\n\t    }\n\n\t    function _clearSingleSelection() {\n\t        $('body').removeClass(\"task-block-selected\");\n\t        taskStrip.blocks.forEach(function (block) {\n\t            block.blockGroup.removeClass(\"selected\");\n\t        });\n\t    }\n\n\t    function selectTaskBlock(idOrEvent, trigger) {\n\n\t        var givenID = typeof idOrEvent == \"string\" && idOrEvent == self.task.id,\n\t            clicked = idOrEvent instanceof MouseEvent;\n\n\t        if (givenID || clicked) {\n\n\t            if (givenID) {\n\t                if (trigger == \"api\") {\n\t                    eve('taskBlockSelected', {}, self.task.id, \"api\");\n\t                    console.log(\"Selected via api call\", self.task.name);\n\t                }\n\t            }\n\n\t            if (clicked) {\n\t                if (trigger != \"clicked\") {\n\t                    eve('taskBlockSelected', {}, self.task.id, \"clicked\");\n\t                    console.log(\"Selected via click\", self.task.name);\n\t                }\n\t            }\n\n\t            _clearSingleSelection();\n\t            $('body').addClass(\"task-block-selected\");\n\t            self.blockGroup.addClass(\"selected\");\n\t        }\n\n\t        eve.on('userClickedOutsideOfStrip', _clearSingleSelection);\n\t    }\n\n\t    function pushPullTaskByHoldingShiftWhileDraggingMiddleHandle(dx, dy, mx, my, e) {\n\n\t        var scaled_dx = dx * drawingArea.getCurrentPixelRatio().x / taskStrip.stripWidth;\n\t        var taskSize = _PiUtilitiesJs.PiUtilities.taskSize(self.task.start, self.task.end);\n\t        var linearSize = _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(self.task.end, taskStrip.scale.min, taskStrip.scale.max) - _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(self.task.start, taskStrip.scale.min, taskStrip.scale.max);\n\n\t        pushPullDirection = e.altKey ? \"end\" : \"start\";\n\n\t        var farLimits = _determineLimitsForPushPull(pushPullDirection);\n\n\t        var limits = {};\n\n\t        console.log(\"Direction: \" + pushPullDirection);\n\n\t        if (pushPullDirection == \"start\") {\n\n\t            limits.minPosition = farLimits.minPosition;\n\t            limits.maxPosition = _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(_nextTaskStartOrScaleMax()).subtract(taskSize, \"minutes\"), taskStrip.scale.min, taskStrip.scale.max);\n\t        } else if (pushPullDirection == \"end\") {\n\n\t            limits.minPosition = _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(_prevTaskEndOrScaleMin()), taskStrip.scale.min, taskStrip.scale.max);\n\t            limits.maxPosition = farLimits.maxPosition - linearSize;\n\t        }\n\n\t        //drawingArea.circle(limits.minPosition * taskStrip.stripWidth, 7, .5).attr({\"fill\": \"green\"});\n\t        //drawingArea.circle(limits.maxPosition * taskStrip.stripWidth, 7, .5).attr({\"fill\": \"red\"});\n\n\t        console.log(\"DX:\" + dx);\n\n\t        var newStartingPosition = drawingArea.limitUIValueIfNecessary(originalMiddleHandleStartPosition + scaled_dx, limits.minPosition, limits.maxPosition).limitedValue;\n\n\t        self.task.tempData['prev-start'] = self.task.start;\n\t        self.task.tempData['prev-end'] = self.task.end;\n\n\t        self.task.start = _PiUtilitiesJs.PiUtilities.toTimeOfDayFromLinearPosition0to1(newStartingPosition, taskStrip.scale.min, taskStrip.scale.max);\n\t        self.task.end = moment(self.task.start).add(taskSize, 'm').format();\n\n\t        taskManager.updateTasks({\n\t            tasks: [self.task.id],\n\t            updateMethod: pushPullDirection + \"-push-pull\"\n\t        });\n\t    }\n\n\t    function pushPullTaskByHoldingShiftWhileDraggingStartOrEndHandle(handle, dx, dy, mx, my) {\n\n\t        //this = terminal mode or starting mode\n\t        var handleKey = handle.split(\"-\")[0],\n\t            taskIDs = [self.task.id];\n\n\t        var limits = _determineLimitsForPushPull(handleKey);\n\n\t        var horizontalMousePosition = drawingArea.limitUIValueIfNecessary(_PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromArbitraryXPosition(drawingArea.relativeMousePoints(mx, my).x, taskStrip.stripWidth), limits.minPosition, limits.maxPosition).limitedValue;\n\n\t        var newTime = _PiUtilitiesJs.PiUtilities.toTimeOfDayFromLinearPosition0to1(horizontalMousePosition, taskStrip.scale.min, taskStrip.scale.max);\n\n\t        self.task.tempData['prev-' + handleKey] = self.task[handleKey];\n\t        self.task[handleKey] = newTime;\n\n\t        taskManager.updateTasks({\n\t            tasks: taskIDs,\n\t            updateMethod: handleKey + \"-push-pull\",\n\t            fullUpdate: false\n\t        });\n\n\t        taskStrip.redraw();\n\t    }\n\n\t    function determineIfTaskCanBeInsertedHere(blockIndex, draggingTaskName, draggingStartingPosition, draggingTerminalPosition) {}\n\n\t    function start_moveTaskLeftOrRightByDraggingMiddleHandle() {\n\t        _bringToFront();\n\t        originalMiddleHandleStartPosition = self.startingPosition;\n\t    }\n\n\t    var prevMx, direction;\n\n\t    function moveTaskLeftOrRightByDraggingMiddleHandle(dx, dy, mx, my, e) {\n\n\t        if (e.shiftKey) {\n\t            pushPullTaskByHoldingShiftWhileDraggingMiddleHandle(dx, dy, mx, my, e);\n\t            return;\n\t        }\n\n\t        var scaled_dx = dx * drawingArea.getCurrentPixelRatio().x / taskStrip.stripWidth;\n\t        var scaled_mx = drawingArea.relativeMousePoints(mx, my).x / taskStrip.stripWidth;\n\n\t        var taskSize = _PiUtilitiesJs.PiUtilities.taskSize(self.task.start, self.task.end);\n\n\t        var draggingTaskId = self.task.id;\n\n\t        var diff = prevMx - scaled_mx;\n\t        if (diff < 0) {\n\t            direction = \"forward\";\n\t        } else if (diff > 0) {\n\t            direction = \"backward\";\n\t        }\n\n\t        var maxStartingPosition = _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(_nextTaskStartOrScaleMax()).subtract(taskSize, 'minutes'), taskStrip.scale.min, taskStrip.scale.max);\n\t        var minStartingPosition = _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(_prevTaskEndOrScaleMin()), taskStrip.scale.min, taskStrip.scale.max);\n\t        var newStartingPosition = drawingArea.limitUIValueIfNecessary(originalMiddleHandleStartPosition + scaled_dx, minStartingPosition, maxStartingPosition);\n\n\t        var swap = taskStrip.blocks.find(function (block, blockIndex, blocksArray) {\n\t            var blockSize = _PiUtilitiesJs.PiUtilities.toLinearSize(block.task.start, block.task.end, taskStrip.scale.min, taskStrip.scale.max);\n\t            if (draggingTaskId != block.task.id) {\n\t                if (direction == \"forward\" && scaled_mx > _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(self.task.start, taskStrip.scale.min, taskStrip.scale.max) && scaled_mx > block.startingPosition && scaled_mx < block.terminalPosition) {\n\t                    self.bend(.2);\n\t                    if (scaled_mx > block.startingPosition + blockSize * .55) {\n\t                        taskManager.updateTasks({\n\t                            tasks: [draggingTaskId, block.task.id],\n\t                            updateMethod: \"insert-after-ripple\",\n\t                            animate: true\n\t                        });\n\t                    }\n\t                    return true;\n\t                } else if (direction == \"backward\" && scaled_mx < _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(self.task.start, taskStrip.scale.min, taskStrip.scale.max) && scaled_mx > block.startingPosition && scaled_mx < block.terminalPosition) {\n\t                    self.bend(-.2);\n\t                    if (scaled_mx < block.terminalPosition - blockSize * .55) {\n\t                        taskManager.updateTasks({\n\t                            tasks: [draggingTaskId, block.task.id],\n\t                            updateMethod: \"insert-before-ripple\",\n\t                            animate: true\n\t                        });\n\t                    }\n\t                    return true;\n\t                }\n\t            }\n\t        });\n\n\t        if (!swap) {\n\t            self.task.start = _PiUtilitiesJs.PiUtilities.toTimeOfDayFromLinearPosition0to1(newStartingPosition.limitedValue, taskStrip.scale.min, taskStrip.scale.max);\n\t            self.task.end = moment(self.task.start).add(taskSize, 'm').format();\n\t            self.redraw();\n\t        }\n\n\t        prevMx = scaled_mx;\n\n\t        eve(\"userIsDraggingTask\");\n\n\t        //drawingArea.circle(newStartingPosition.liveValue * taskStrip.stripWidth, 7, .5).attr({\"fill\": \"blue\"});\n\t        //drawingArea.circle(scaled_mx, 7, .5).attr({\"fill\": \"green\"});\n\t        //drawingArea.circle(minStartingPosition * taskStrip.stripWidth, 7, .5).attr({\"fill\": \"red\"});\n\t    }\n\n\t    function resizeTaskSliceByDraggingStartingHandle(dx, dy, mx, my, e) {\n\n\t        if (e.shiftKey) {\n\t            pushPullTaskByHoldingShiftWhileDraggingStartOrEndHandle(\"start-handle\", dx, dy, mx, my);\n\t            return;\n\t        }\n\n\t        var horizontalMousePosition = drawingArea.getUIValueFromMousePosition({\n\t            mouseX: mx,\n\t            mouseY: my,\n\t            valueFn: function valueFn(mx, my) {\n\t                return drawingArea.relativeMousePoints(mx, my).x / taskStrip.stripWidth;\n\t            },\n\t            max: _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(self.task.end).subtract(taskManager.MINIMUM_TASK_SIZE, 'minutes').format(), taskStrip.scale.min, taskStrip.scale.max),\n\t            min: _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(_prevTaskEndOrScaleMin(), taskStrip.scale.min, taskStrip.scale.max)\n\t        });\n\n\t        self.task.start = _PiUtilitiesJs.PiUtilities.toTimeOfDayFromLinearPosition0to1(horizontalMousePosition, taskStrip.scale.min, taskStrip.scale.max);\n\t        self.redraw();\n\t    }\n\n\t    function resizeTaskSliceByDraggingTerminalHandle(dx, dy, mx, my, e) {\n\n\t        if (e.shiftKey) {\n\t            pushPullTaskByHoldingShiftWhileDraggingStartOrEndHandle(\"end-handle\", dx, dy, mx, my);\n\t            return;\n\t        }\n\n\t        var horizontalMousePosition = drawingArea.getUIValueFromMousePosition({\n\t            mouseX: mx,\n\t            mouseY: my,\n\t            valueFn: function valueFn(mx, my) {\n\t                return drawingArea.relativeMousePoints(mx, my).x / taskStrip.stripWidth;\n\t            },\n\t            max: _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(_nextTaskStartOrScaleMax(), taskStrip.scale.min, taskStrip.scale.max),\n\t            min: _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(self.task.start).add(taskManager.MINIMUM_TASK_SIZE, 'minutes').format(), taskStrip.scale.min, taskStrip.scale.max)\n\t        });\n\n\t        self.task.end = _PiUtilitiesJs.PiUtilities.toTimeOfDayFromLinearPosition0to1(horizontalMousePosition, taskStrip.scale.min, taskStrip.scale.max);\n\t        self.redraw();\n\t    }\n\n\t    function highlightTerminalSeparationLine() {\n\t        if (canResizeAdjacentTaskRight) {\n\t            terminalSeparationLine.attr({ strokeWidth: separationLineHighlightedStrokeWidth, stroke: separationLineHighlightedStrokeColor });\n\t        }\n\t    }\n\n\t    function unHighlightSeparationLine() {\n\t        if (canResizeAdjacentTaskRight) {\n\t            terminalSeparationLine.attr({ strokeWidth: separationLineStrokeWidth, stroke: \"#e6e6e5\" });\n\t        }\n\t    }\n\n\t    function resizeAdjacentTaskRightByDraggingTerminalSeparationLine(dx, dy, mx, my) {\n\t        console.log(\"adjacent: \", canResizeAdjacentTaskRight);\n\t        if (canResizeAdjacentTaskRight) {\n\t            var adjacentTask = taskManager.getTaskAtIndex(self.task.index + 1);\n\t            var horizontalMousePosition = drawingArea.limitUIValueIfNecessary(_PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromArbitraryXPosition(drawingArea.relativeMousePoints(mx, my).x, taskStrip.stripWidth), _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(taskManager.utilities.getTaskEarliestPossibleEndTime(self.task.index), taskStrip.scale.min, taskStrip.scale.max), _PiUtilitiesJs.PiUtilities.toLinearPosition0to1FromTimeOfDay(taskManager.utilities.getTaskLatestPossibleStartTime(self.task.index + 1), taskStrip.scale.min, taskStrip.scale.max)).limitedValue;\n\n\t            var newTime = _PiUtilitiesJs.PiUtilities.toTimeOfDayFromLinearPosition0to1(horizontalMousePosition, taskStrip.scale.min, taskStrip.scale.max);\n\t            self.task.end = newTime;\n\t            adjacentTask.start = newTime;\n\t            taskManager.updateTasks();\n\t            highlightTerminalSeparationLine();\n\t        }\n\t    }\n\n\t    function cancelResizeAdjacentTaskRightByDraggingTerminalSeparationLine() {\n\t        unHighlightSeparationLine();\n\t    }\n\n\t    function endMoveTaskLeftOrRightByDraggingMiddleHandle() {\n\n\t        taskManager.updateTasks();\n\n\t        prevMx = null;\n\t        direction = null;\n\n\t        originalMiddleHandleStartPosition = null;\n\t        _clearLimitsForPushPull();\n\t    }\n\n\t    function cancelResizeTaskSliceByDraggingStartOrEndHandle(e) {\n\n\t        taskManager.updateTasks({\n\t            tasks: [self.task.id],\n\t            updateMethod: \"regular\",\n\t            animate: false\n\t        });\n\n\t        _clearLimitsForPushPull();\n\t    }\n\n\t    self.redraw = function (_animate) {\n\t        refreshTask();\n\t        determineUIAbilitiesAndClasses(); //re determine UI capabilities\n\t        var drawingPosition = findBlockPosition(); //find the new drawing position\n\t        var speed = _animate ? 300 : 0; //animate the redraw\n\t        self.draw(drawingPosition.startingPosition, drawingPosition.terminalPosition, function () {}, speed); //draw\n\t    };\n\n\t    self.bend = function (_bendIntensity) {\n\t        self.draw(self.startingPosition, self.terminalPosition, null, null, _bendIntensity);\n\t    };\n\n\t    self.draw = function (_newStartingPosition, _newTerminalPosition, callback, _speed, _bendIntensity) {\n\n\t        var speed = _speed || 0;\n\n\t        var startingPosition = self.startingPosition,\n\t            terminalPosition = self.terminalPosition;\n\n\t        function _applyAttributes(values) {\n\n\t            var currentStartingPosition = values[0];\n\t            var currentTerminalPosition = values[1];\n\n\t            var drawingStartPosition = currentStartingPosition * taskStrip.stripWidth;\n\t            var drawingTerminalPosition = currentTerminalPosition * taskStrip.stripWidth;\n\n\t            var blockWidth = drawingTerminalPosition - drawingStartPosition,\n\t                padding = blockWidth * .25;\n\n\t            var bend = _bendIntensity || 0;\n\n\t            var sweep = bend > 0 ? 1 : 0,\n\t                radiusY = 1,\n\t                radiusX = radiusY * bend,\n\t                move = \"M\" + drawingStartPosition + \",\" + taskStrip.stripTopOffset,\n\t                topLine = \"L\" + (drawingStartPosition + blockWidth) + \",\" + taskStrip.stripTopOffset,\n\t                arc = \"A\" + radiusX + \",\" + radiusY + \" 0  0 \" + sweep + \" \" + (drawingStartPosition + blockWidth) + \",\" + (taskStrip.stripTopOffset + taskStrip.stripHeight),\n\t                bottomLine = \"L\" + drawingStartPosition + \",\" + (taskStrip.stripTopOffset + taskStrip.stripHeight),\n\t                arc2 = \"A\" + radiusX + \",\" + radiusY + \" 0  0 \" + (sweep ? 0 : 1) + \" \" + drawingStartPosition + \",\" + taskStrip.stripTopOffset + \" z\";\n\n\t            var blockPath = [move, topLine, arc, bottomLine, arc2].join(\" \");\n\n\t            //the block itself\n\t            block.attr({ x: drawingStartPosition - padding / 2, y: taskStrip.stripTopOffset, width: blockWidth + padding, height: taskStrip.stripHeight, fill: \"white\" });\n\n\t            //top and bottom strips\n\t            blockTopColor.attr({ x: drawingStartPosition - padding / 2, y: taskStrip.stripTopOffset, width: blockWidth + padding, height: blockColorHeight, fill: self.task.color || _PiUtilitiesJs.PiUtilities.colors.pieOrangeCream });\n\t            blockBottomColor.attr({ x: drawingStartPosition - padding / 2, y: taskStrip.stripTopOffset + taskStrip.stripHeight - blockColorHeight, width: blockWidth + padding, height: blockColorHeight, fill: self.task.color || _PiUtilitiesJs.PiUtilities.colors.pieOrangeCream });\n\n\t            //handles\n\t            blockStartingHandle.attr({ x: drawingStartPosition, y: taskStrip.stripTopOffset, width: handleWidth, height: taskStrip.stripHeight, fill: handleStrokeAndFillColor, stroke: handleStrokeAndFillColor, \"stroke-width\": .1 });\n\t            blockTerminalHandle.attr({ x: drawingTerminalPosition - handleWidth, y: taskStrip.stripTopOffset, width: handleWidth, height: taskStrip.stripHeight, fill: handleStrokeAndFillColor, stroke: handleStrokeAndFillColor, \"stroke-width\": .1 });\n\t            blockMiddleHandle.attr({ x: drawingStartPosition + handleWidth, y: taskStrip.stripTopOffset, width: blockWidth - 2 * handleWidth, height: taskStrip.stripHeight, fill: \"transparent\", stroke: handleStrokeAndFillColor, \"stroke-width\": .1 });\n\n\t            var move = \"M\" + drawingStartPosition + \",\" + taskStrip.stripTopOffset,\n\t                arc = \"A\" + radiusX + \",\" + radiusY + \" 0 0 \" + sweep + \" \" + drawingStartPosition + \",\" + (taskStrip.stripTopOffset + taskStrip.stripHeight),\n\t                startPath = [move, arc].join(\" \");\n\n\t            startSeparationLine.attr({ d: startPath, \"stroke-width\": 0, \"stroke\": separationLineStrokeColor, fill: \"transparent\", strokeAlignment: \"inner\" });\n\n\t            if (bend) {\n\t                startSeparationLine.attr({ d: startPath, \"stroke-width\": separationLineStrokeWidth, \"stroke\": separationLineStrokeColor, fill: \"transparent\", strokeAlignment: \"inner\" });\n\t            }\n\n\t            //separator lines\n\t            var move = \"M\" + (drawingStartPosition + blockWidth) + \",\" + taskStrip.stripTopOffset,\n\t                arc = \"A\" + radiusX + \",\" + radiusY + \" 0 0 \" + sweep + \" \" + (drawingStartPosition + blockWidth) + \",\" + (taskStrip.stripTopOffset + taskStrip.stripHeight),\n\t                terminalPath = [move, arc].join(\" \");\n\n\t            terminalSeparationLine.attr({ d: terminalPath, \"stroke-width\": separationLineStrokeWidth, \"stroke\": separationLineStrokeColor, fill: \"transparent\", strokeAlignment: \"inner\" });\n\n\t            //emoji\n\t            if (self.task.type != \"sleep\") {\n\t                var blockBox = block.getBBox(),\n\t                    emojiSize = 2.1;\n\n\t                if (blockEmoji) {\n\t                    blockEmoji.remove();\n\t                }\n\n\t                blockEmoji = drawingArea.image(\"/assets/emojis/72x72/\" + self.task.emoji || \"1f0cf.png\", blockBox.cx - emojiSize / 2 + radiusX, blockBox.cy - emojiSize / 2, emojiSize, emojiSize);\n\t                blockGroup.add(blockEmoji);\n\t            }\n\n\t            //apply mask\n\t            blockMask.attr({ d: blockPath, fill: \"white\", stroke: \"transparent\" });\n\t            self.blockGroup.attr({ clip: blockMask });\n\t        }\n\n\t        if (speed > 0) {\n\n\t            if (blockAlreadyAnimating) return;\n\n\t            blockAlreadyAnimating = true;\n\t            Snap.animate([startingPosition, terminalPosition], [_newStartingPosition, _newTerminalPosition], function (values) {\n\t                _applyAttributes(values);\n\t            }, speed, function () {\n\t                self.startingPosition = _newStartingPosition;\n\t                self.terminalPosition = _newTerminalPosition;\n\t                blockAlreadyAnimating = false;\n\t                if (callback) callback();\n\t            });\n\t        } else {\n\t            _applyAttributes([_newStartingPosition, _newTerminalPosition]);\n\n\t            self.startingPosition = _newStartingPosition;\n\t            self.terminalPosition = _newTerminalPosition;\n\t        }\n\t    };\n\n\t    self.destroy = function () {\n\t        blockGroup.remove();\n\t        self = null;\n\t    };\n\n\t    init(_taskID);\n\t}\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Created by jordanbradley on 3/17/16.\n\t */\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.ThreeSegmentButton = ThreeSegmentButton;\n\n\tfunction ThreeSegmentButton(taskStrip, settings) {\n\n\t    var self = this,\n\t        drawingArea = taskStrip.drawingArea;\n\n\t    var segmentWidth = settings.width / 3;\n\n\t    var imageSize = 1.3;\n\t    var smallImageSize = 1.05;\n\n\t    var leftButton = drawingArea.rect();\n\t    leftButton.attr({ x: settings.x, y: settings.y, width: segmentWidth, height: settings.height, fill: \"#ffffff\", fillOpacity: .8, stroke: \"#cccccc\", strokeWidth: .03 });\n\t    var leftBox = leftButton.getBBox();\n\t    var leftIcon = drawingArea.image(settings.leftIcon || \"app/assets/plus.svg\", leftBox.cx - smallImageSize / 2, leftBox.cy - smallImageSize / 2, smallImageSize, smallImageSize);\n\n\t    var middle = drawingArea.rect();\n\t    middle.attr({ x: settings.x + segmentWidth, y: settings.y, width: segmentWidth, height: settings.height, fill: \"#f7f1eb\" });\n\t    var middleBox = middle.getBBox();\n\t    var middleIcon = drawingArea.image(settings.image, middleBox.cx - imageSize / 2, middleBox.cy - imageSize / 2, imageSize, imageSize);\n\n\t    var rightButton = drawingArea.rect();\n\t    rightButton.attr({ x: settings.x + segmentWidth * 2, y: settings.y, width: segmentWidth, height: settings.height, fill: \"#ffffff\", fillOpacity: .8, stroke: \"#cccccc\", strokeWidth: .03 });\n\t    var rightBox = rightButton.getBBox();\n\t    var rightIcon = drawingArea.image(settings.rightIcon || \"app/assets/minus.svg\", rightBox.cx - smallImageSize / 2, rightBox.cy - smallImageSize / 2, smallImageSize, smallImageSize);\n\n\t    self.leftButton = drawingArea.g();\n\t    self.leftButton.add(leftButton, leftIcon);\n\n\t    self.middleButton = drawingArea.g();\n\t    self.middleButton.add(middle, middleIcon);\n\n\t    self.rightButton = drawingArea.g();\n\t    self.rightButton.add(rightButton, rightIcon);\n\n\t    self.hide = function () {\n\t        $([self.leftButton.node, self.middleButton.node, self.rightButton.node]).hide();\n\t    };\n\t}\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\texports.DonutViewController = DonutViewController;\n\n\tvar _componentsPiUtilitiesJs = __webpack_require__(6);\n\n\tvar _componentsTaskManagerJs = __webpack_require__(7);\n\n\tvar _componentsTaskDonutTaskDonutJs = __webpack_require__(9);\n\n\tvar _componentsTaskStripTaskStripJs = __webpack_require__(12);\n\n\tvar _componentsDayHelperJs = __webpack_require__(8);\n\n\tfunction DonutViewController($scope, $timeout, $filter) {\n\n\t    'ngInject';\n\n\t    var today = new _componentsDayHelperJs.Day();\n\n\t    $scope.taskData = {\n\t        picture: \"/assets/terron.jpg\",\n\t        wakeUpTime: today.at(\"7:30 am\"),\n\t        bedTime: today.nextDay().at(\"2:00 am\"),\n\t        sleepGoal: \"08:00\",\n\t        tasks: []\n\t    };\n\n\t    $scope.taskManager = new _componentsTaskManagerJs.TaskManager($scope.taskData);\n\n\t    $scope.showCamera = false;\n\t}\n\tDonutViewController.$inject = [\"$scope\", \"$timeout\", \"$filter\"];\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\texports.LinearViewController = LinearViewController;\n\n\tvar _componentsPiUtilitiesJs = __webpack_require__(6);\n\n\tvar _componentsTaskManagerJs = __webpack_require__(7);\n\n\tvar _componentsTaskDonutTaskDonutJs = __webpack_require__(9);\n\n\tvar _componentsTaskStripTaskStripJs = __webpack_require__(12);\n\n\tvar _componentsDayHelperJs = __webpack_require__(8);\n\n\tfunction LinearViewController($scope, $timeout, $rootScope) {\n\n\t    'ngInject';\n\n\t    var taskStrip;\n\n\t    var today = new _componentsDayHelperJs.Day();\n\n\t    $scope.taskData = {\n\t        picture: \"/assets/terron.jpg\",\n\t        wakeUpTime: today.at(\"7:30 am\"),\n\t        bedTime: today.nextDay().at(\"2:00 am\"),\n\t        sleepGoal: \"08:00\",\n\t        tasks: [{\n\t            name: \"Gym\",\n\t            start: today.at(\"3:00 pm\"),\n\t            end: today.at(\"4:00 pm\"),\n\t            color: '#7e3c46',\n\t            emoji: '1f4d0.png',\n\t            tempData: {}\n\t        }, {\n\t            name: \"Return rentals\",\n\t            start: today.at(\"4:00 pm\"),\n\t            end: today.at(\"5:00 pm\"),\n\t            emoji: '1f4de.png',\n\t            tempData: {}\n\t        }, {\n\t            name: \"Finish Paper\",\n\t            start: today.at(\"8:00 pm\"),\n\t            end: today.at(\"11:30 pm\"),\n\t            emoji: '1f62d.png',\n\t            tempData: {}\n\t        }]\n\t    };\n\n\t    $scope.taskManager = new _componentsTaskManagerJs.TaskManager($scope.taskData);\n\n\t    taskStrip = new _componentsTaskStripTaskStripJs.TaskStrip(Snap(\"#task-strip\"), $scope.taskManager);\n\n\t    $scope.selectedTask = null;\n\t    $scope.selectedTaskDetail = {};\n\t    $scope.currentDetailView = \"basic-details\";\n\n\t    eve.on(\"taskListUpdated\", taskListUpdated);\n\t    eve.on(\"taskBlockSelected\", taskBlockSelected);\n\t    eve.on(\"userClickedOutsideOfStrip\", userClickedOutsideOfStrip);\n\t    eve.on(\"userAddedTaskByClickingStrip\", userAddedTaskByClickingStrip);\n\t    eve.on(\"userIsDraggingTask\", userIsDraggingTask);\n\n\t    function taskListUpdated() {\n\t        $timeout(function () {\n\t            $scope.taskDataString = JSON.stringify($scope.taskData, null, 4);\n\t            $scope.numberOfUserTasks = $scope.taskManager.getTaskCount();\n\t        });\n\t    }\n\n\t    function taskBlockSelected(taskID) {\n\t        console.log(\"task block clicked\");\n\t        $timeout(function () {\n\t            $scope.selectedTaskDetail = $scope.taskManager.getTask(taskID);\n\t            //$scope.showListView = true;\n\t        });\n\t    }\n\n\t    function userClickedOutsideOfStrip() {\n\t        $scope.$apply(function () {\n\t            $scope.selectedTaskDetail = null;\n\t            //$scope.showListView = false;\n\t        });\n\t    }\n\n\t    function userAddedTaskByClickingStrip(id) {\n\t        console.log(id);\n\t        $timeout(function () {\n\t            $scope.selectTask(id);\n\t            if ($rootScope.tourInProgress && $rootScope.tourStep == 4) {\n\t                $rootScope.advanceTour();\n\t            }\n\t        });\n\t    }\n\n\t    function userIsDraggingTask() {\n\t        $timeout(function () {\n\t            if ($rootScope.tourInProgress && $rootScope.tourStep == 6) {\n\t                $rootScope.advanceTour();\n\t            }\n\t        });\n\t    }\n\n\t    $scope.Utilities = _componentsPiUtilitiesJs.PiUtilities;\n\t    $scope.taskFilter = _componentsPiUtilitiesJs.PiUtilities.task_data_filter;\n\n\t    $scope.toLinearSize = function (minutes) {\n\t        return _componentsPiUtilitiesJs.PiUtilities.toLinearSizeFromTaskSize(minutes, taskStrip.scale.min, taskStrip.scale.max);\n\t    };\n\n\t    $scope.redraw = function () {\n\t        eve(\"taskListUpdated\");\n\t    };\n\n\t    $scope.selectTask = function (idOrIndex) {\n\n\t        if (typeof idOrIndex == \"number\") $scope.selectedTaskDetail = $scope.taskManager.getTaskAtIndex(idOrIndex);\n\n\t        if (typeof idOrIndex == \"string\") $scope.selectedTaskDetail = $scope.taskManager.getTask(idOrIndex);\n\n\t        $scope.selectedTaskID = $scope.selectedTaskDetail.id;\n\t        taskStrip.selectedTaskBlock($scope.selectedTaskID);\n\t    };\n\n\t    $scope.deselectTasks = function () {\n\t        $scope.selectedTaskDetail = null;\n\t        $scope.selectedTaskID = null;\n\t        console.log($scope.selectedTaskID);\n\t    };\n\n\t    $scope.createNewTask = function () {\n\t        var firstAvailableTime = $scope.taskManager.utilities.firstAvailableOpening($scope.taskManager.MINIMUM_TASK_SIZE, taskStrip.scale.min, taskStrip.scale.max);\n\t        if (firstAvailableTime) {\n\t            var taskID = $scope.taskManager.addTask({\n\t                name: $scope.newTaskName,\n\t                start: firstAvailableTime,\n\t                end: moment(firstAvailableTime).add(15, 'm').format(),\n\t                color: \"#9ec2e1\"\n\t            });\n\t            $scope.newTaskName = \"\";\n\t            $scope.selectTask(taskID);\n\t        }\n\t    };\n\n\t    $scope.deleteCurrentlySelectedTask = function () {\n\t        $scope.taskData.tasks.splice($scope.selectedTaskID, 1);\n\t        if ($scope.taskData.tasks.length - 1 > 0) {\n\t            $scope.selectTask($scope.taskData.tasks.length - 1);\n\t        } else {\n\t            $scope.deselectTasks();\n\t        }\n\t        $scope.taskDonuts[0].redraw();\n\t    };\n\n\t    function insertTaskAfterCurrentlySelectedTask(task) {\n\t        var nextTaskIndex = $scope.selectedTaskID + 1;\n\t        var nextTask = $scope.taskData.tasks[nextTaskIndex];\n\t        if (nextTask) {\n\t            console.log(\"next: \" + nextTask.name);\n\t            if (nextTask.insertedAfterward) {\n\t                $scope.taskData.tasks.splice(nextTaskIndex, 1, task);\n\t            } else {\n\t                $scope.taskData.tasks.splice(nextTaskIndex, 0, task);\n\t            }\n\t        } else {\n\t            $scope.taskData.tasks.push(task);\n\t        }\n\n\t        $scope.taskDonuts[0].redraw();\n\t    }\n\n\t    $scope.removeTaskAfter = function () {\n\t        var nextTask = $scope.taskData.tasks[$scope.selectedTaskID + 1];\n\t        if (nextTask && nextTask.insertedAfterward) {\n\t            $scope.taskData.tasks.splice($scope.selectedTaskID + 1, 1);\n\t            $scope.taskDonuts[0].redraw();\n\t        }\n\t        $scope.selectTask($scope.selectedTaskID);\n\t    };\n\n\t    $scope.insertBreakTask = function () {\n\t        var newBreakTask = {\n\t            name: '30 Minute Break',\n\t            angleSize: _componentsPiUtilitiesJs.PiUtilities.toAngleSize(30),\n\t            color: _componentsPiUtilitiesJs.PiUtilities.colors.night,\n\t            type: 'break',\n\t            insertedAfterward: true\n\t        };\n\t        insertTaskAfterCurrentlySelectedTask(newBreakTask);\n\t    };\n\n\t    $scope.insertEatTask = function () {\n\t        var newEatTask = {\n\t            name: 'Eat',\n\t            angleSize: _componentsPiUtilitiesJs.PiUtilities.toAngleSize(45),\n\t            color: _componentsPiUtilitiesJs.PiUtilities.colors.day,\n\t            type: 'break',\n\t            insertedAfterward: true\n\t        };\n\t        insertTaskAfterCurrentlySelectedTask(newEatTask);\n\t    };\n\n\t    $scope.insertExerciseTask = function () {\n\t        var newExerciseTask = {\n\t            name: 'Exercise',\n\t            angleSize: _componentsPiUtilitiesJs.PiUtilities.toAngleSize(45),\n\t            color: _componentsPiUtilitiesJs.PiUtilities.colors.day,\n\t            insertedAfterward: true\n\t        };\n\t        insertTaskAfterCurrentlySelectedTask(newExerciseTask);\n\t    };\n\n\t    $scope.toggleListView = function () {\n\t        $scope.showListView = !$scope.showListView;\n\t        console.log(\"List View: \" + $scope.showListView);\n\t    };\n\n\t    $scope.selectTaskAfter = function () {\n\t        var key = $scope.selectedTaskDetail.afterward;\n\t        if (key) {\n\t            var insertTaskFunction = \"insert\" + key + \"Task\";\n\t            if (insertTaskFunction in $scope) {\n\t                $scope[insertTaskFunction]();\n\t            }\n\t        } else {\n\t            $scope.removeTaskAfter();\n\t        }\n\t    };\n\n\t    $scope.$watch('selectedTaskDetail.emoji', function () {\n\t        var newEmoji = $scope.selectedTaskDetail.emoji;\n\t        if (newEmoji) {\n\t            $scope.taskManager.updateTasks();\n\t        }\n\t    });\n\n\t    $scope.$watch('selectedTaskDetail.angleSize', function () {\n\t        var newTimeAllotment = $scope.selectedTaskDetail.angleSize;\n\t        if (newTimeAllotment) {\n\t            var slice = $scope.taskDonuts[0].slices[$scope.selectedTaskID];\n\t            slice.update({\n\t                angleSize: newTimeAllotment\n\t            });\n\t            console.log(\"Angle \" + newTimeAllotment + \" Minutes: \" + _componentsPiUtilitiesJs.PiUtilities.toMinutes(newTimeAllotment));\n\t        }\n\t    });\n\n\t    var prevIndex;\n\n\t    $scope.sortableOptions = {\n\t        cancel: 'input',\n\t        start: function start(e, ui) {\n\t            prevIndex = ui.item.index();\n\t        },\n\n\t        update: function update(event, ui) {\n\n\t            $timeout(function () {\n\t                var taskID = parseInt($(ui.item).attr('data-task-id'));\n\t                var swapID = parseInt($('.task-li[data-index=' + prevIndex + ']').attr('data-task-id'));\n\n\t                prevIndex = null;\n\n\t                var task = $scope.taskData.tasks[taskID],\n\t                    _oldTaskStart = task.start;\n\n\t                var swap = $scope.taskData.tasks[swapID];\n\n\t                task.start = swap.start;\n\t                task.end = moment(task.start).add(_componentsPiUtilitiesJs.PiUtilities.taskSize(_oldTaskStart, task.end), 'm').format();\n\n\t                $scope.taskManager.updateTasks([taskID], \"end-ripple\");\n\t            });\n\t        },\n\n\t        stop: function stop(e, ui) {\n\t            //console.log(ui.item.index(), t);\n\t            //$scope.taskManager.updateTasks();\n\t        }\n\n\t    };\n\n\t    //init\n\t    $scope.selectTask(1);\n\t    $scope.showListView = true;\n\t}\n\tLinearViewController.$inject = [\"$scope\", \"$timeout\", \"$rootScope\"];\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Created by jordanbradley on 4/23/16.\n\t */\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.TourStepOneController = TourStepOneController;\n\texports.AttachWebcamDirective = AttachWebcamDirective;\n\n\tvar _componentsTaskManager = __webpack_require__(7);\n\n\tvar _componentsTaskDonutTaskDonut = __webpack_require__(9);\n\n\tvar _componentsDayHelper = __webpack_require__(8);\n\n\tfunction TourStepOneController($rootScope, $scope, $timeout, $state, $location, $http) {\n\t    'ngInject';\n\t}\n\tTourStepOneController.$inject = [\"$rootScope\", \"$scope\", \"$timeout\", \"$state\", \"$location\", \"$http\"];\n\n\tfunction AttachWebcamDirective() {\n\t    return {\n\t        restrict: 'A',\n\t        link: function link(scope, el, attr) {\n\n\t            var camera = el,\n\t                height = camera.height(),\n\t                width = 240;\n\n\t            Webcam.set({\n\t                // live preview size\n\t                width: 320,\n\t                height: 240,\n\n\t                // device capture size\n\t                dest_width: 640,\n\t                dest_height: 480,\n\n\t                // final cropped size\n\t                crop_width: 480,\n\t                crop_height: 480,\n\n\t                // format and quality\n\t                image_format: 'jpeg',\n\t                jpeg_quality: 90\n\t            });\n\n\t            Webcam.attach(el[0]);\n\t        }\n\t    };\n\t}\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Created by jordanbradley on 5/7/16.\n\t */\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.TourStepTwoController = TourStepTwoController;\n\n\tvar _componentsTaskManager = __webpack_require__(7);\n\n\tvar _componentsTaskDonutTaskDonut = __webpack_require__(9);\n\n\tvar _componentsDayHelper = __webpack_require__(8);\n\n\tfunction TourStepTwoController($scope, $rootScope) {\n\t    'ngInject';\n\n\t    Number.prototype.isBetween = function (a, b) {\n\t        return this >= a && this <= b;\n\t    };\n\n\t    $scope.sleepSliderValue = 0;\n\n\t    $scope.determineBedtime = function (_bedTimeModel) {\n\n\t        $scope.sleepForm.bedTimeInput.$setValidity(\"valid\", true);\n\n\t        var bedTimeModel = _bedTimeModel || $scope.bedTimeModel;\n\t        var bedTimeMoment = moment(bedTimeModel, \"h:mma\");\n\n\t        if (!bedTimeMoment.isValid()) {\n\t            $scope.sleepForm.bedTimeInput.$setValidity(\"valid\", false);\n\t            return;\n\t        }\n\n\t        $scope.bedTime = bedTimeMoment;\n\n\t        var hasAM = bedTimeModel.includes(\"am\") || bedTimeModel.includes(\"a\") || bedTimeModel.includes(\"AM\") || bedTimeModel.includes(\"A\"),\n\t            hasPM = bedTimeModel.includes(\"pm\") || bedTimeModel.includes(\"p\") || bedTimeModel.includes(\"PM\") || bedTimeModel.includes(\"P\");\n\n\t        if (!hasAM && !hasPM) {\n\t            console.log(\"doesn't have am or pm\");\n\t            $scope.sleepForm.bedTimeInput.$setValidity(\"valid\", false);\n\t            return;\n\t        }\n\n\t        if (hasAM) {\n\t            $scope.bedTime.add(1, 'day');\n\t        }\n\n\t        console.log($scope.bedTime);\n\t        return $scope.bedTime;\n\t    };\n\n\t    $scope.adjustBedTime = function (increaseOrDecrease) {\n\n\t        var oTime = $scope.determineBedtime($scope.bedTimeModel);\n\n\t        if (increaseOrDecrease == \"+\") {\n\t            oTime.add(\"30\", \"m\");\n\t        } else if (increaseOrDecrease == \"-\") {\n\t            oTime.subtract(\"30\", \"m\");\n\t        }\n\n\t        $scope.bedTimeModel = oTime.format(\"h:mma\");\n\t        $scope.determineBedtime($scope.bedTimeModel);\n\t    };\n\n\t    $scope.determineRecommendedSleepHoursForAge = function (_ageModel) {\n\n\t        var age = _ageModel || $scope.ageModel,\n\t            recommendedSleepHours;\n\n\t        if (!age) return;\n\n\t        if (age.isBetween(6, 13)) {\n\t            recommendedSleepHours = [9, 11];\n\t        } else if (age.isBetween(14, 17)) {\n\t            recommendedSleepHours = [8, 10];\n\t        } else if (age.isBetween(18, 25)) {\n\t            recommendedSleepHours = [7, 9];\n\t        } else if (age.isBetween(26, 64)) {\n\t            recommendedSleepHours = [7, 9];\n\t        } else if (age >= 65) {\n\t            recommendedSleepHours = [7, 8];\n\t        }\n\n\t        if (recommendedSleepHours) {\n\t            $scope.recommendedSleepHours = recommendedSleepHours;\n\t            $scope.sleepSliderValue = $scope.recommendedSleepHours[0] + 1;\n\t        }\n\t    };\n\n\t    $scope.configureSleep = function () {\n\t        if (!$scope.sleepForm.$valid) {\n\t            if (!$scope.sleepForm.bedTimeInput.valid) {\n\t                alert(\"Be sure to specify a bed time in the correct format, with AM or PM. ie: 10:30pm or 1:00am\");\n\t            }\n\t            return;\n\t        }\n\t        if ($rootScope.tourInProgress) {\n\t            $rootScope.advanceTour();\n\t        }\n\t    };\n\t}\n\tTourStepTwoController.$inject = [\"$scope\", \"$rootScope\"];\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\texports.TaskDonutDirective = TaskDonutDirective;\n\n\tvar _TaskDonutJs = __webpack_require__(9);\n\n\tvar _TaskManager = __webpack_require__(7);\n\n\tfunction TaskDonutDirective($state, $timeout, $rootScope) {\n\n\t  'ngInject';\n\n\t  return {\n\t    restrict: 'E',\n\t    scope: {\n\t      taskDonutModel: \"=\",\n\t      taskDonutManager: \"=\",\n\t      showCamera: '='\n\t    },\n\n\t    templateUrl: 'app/components/TaskDonut/TaskDonutDirective.html',\n\t    link: function link($scope, el, attr) {\n\n\t      var donutSVG = el.find(\"svg.donut\")[0];\n\t      console.log(donutSVG);\n\t      console.log($scope.taskDonutManager);\n\t      $scope.taskDonutModel = new _TaskDonutJs.TaskDonut(Snap(donutSVG), $scope.taskDonutManager);\n\n\t      var donut = $(\".TaskDonut\", this);\n\n\t      el.mousedown(function () {\n\t        if ($rootScope.tourInProgress && $rootScope.tourStep < 4) return false;\n\t        donut.addClass(\"push-donut\");\n\t      });\n\n\t      el.click(function () {\n\t        if ($rootScope.tourInProgress && $rootScope.tourStep < 4) return false;\n\n\t        var wait = 0;\n\t        donut.addClass(\"push-donut\");\n\n\t        wait += 300;\n\t        $timeout(function () {\n\t          donut.removeClass(\"push-donut\");\n\t        }, wait);\n\n\t        wait += 100;\n\t        $timeout(function () {\n\t          $state.go($scope.stateLink || attr.stateLink || 'home.linear');\n\t        }, wait);\n\t      });\n\n\t      var redirectURL = window.location.origin + \"main/instagram\";\n\n\t      $scope.instagramPhotoIndex = 0;\n\t      $scope.images = [];\n\n\t      $scope.photoOption = null;\n\t      $scope.settings = $rootScope.demo_user_settings;\n\t      $scope.instagram_auth_url = \"https://api.instagram.com/oauth/authorize/?client_id=823677c4bf4544f6a90daf2b6134b0c3&redirect_uri=\" + redirectURL + \"&response_type=token\";\n\n\t      $scope.hideSplash = function () {\n\t        $scope.splash = false;\n\t      };\n\n\t      $scope.selectInstagram = function () {\n\t        window.location = $scope.instagram_auth_url;\n\t      };\n\n\t      $scope.skip = function () {\n\t        $scope.setPhoto();\n\t      };\n\n\t      $scope.selectWebcam = function () {\n\t        $scope.photoOption = \"webcam\";\n\t      };\n\n\t      $scope.$watch(\"demoTaskDonut\", function () {\n\t        console.log($scope.demoTaskDonut);\n\t      });\n\n\t      $scope.setPhoto = function () {\n\n\t        var picture;\n\n\t        if ($scope.photoOption == \"instagram\") {\n\t          picture = getPhotoAtIndex($scope.instagramPhotoIndex);\n\t        }\n\n\t        if ($scope.photoOption == \"webcam\") {\n\n\t          Webcam.snap(function (data_uri) {\n\t            picture = data_uri;\n\t          });\n\t        }\n\n\t        $scope.photoOption = null;\n\t        $scope.showCamera = false;\n\t        $scope.taskDonutManager.picture(picture);\n\t        $scope.taskDonutModel.redraw();\n\n\t        if ($rootScope.tourInProgress) {\n\t          $rootScope.advanceTour();\n\t        }\n\t      };\n\n\t      function getPhotos() {\n\t        $http.jsonp(\"https://api.instagram.com/v1/users/self/media/recent/?access_token=\" + $rootScope.instagram_access_token + \"&callback=JSON_CALLBACK\").success(function (data) {\n\n\t          $scope.images = data.data.filter(function (instagramObject) {\n\t            return instagramObject.type == \"image\";\n\t          });\n\n\t          $scope.currentInstagramImage = getPhotoAtIndex($scope.instagramPhotoIndex);\n\t        });\n\t      }\n\n\t      function getPhotoAtIndex(i) {\n\t        return $scope.images[i].images.standard_resolution.url;\n\t      }\n\n\t      $scope.shouldShowPrev = function () {\n\t        return $scope.instagramPhotoIndex > 0;\n\t      };\n\n\t      $scope.shouldShowNext = function () {\n\t        return $scope.instagramPhotoIndex < $scope.images.length - 1;\n\t      };\n\n\t      $scope.nextInstagramImage = function () {\n\t        if (!$scope.shouldShowNext()) return;\n\t        $scope.instagramPhotoIndex += 1;\n\t        $scope.currentInstagramImage = getPhotoAtIndex($scope.instagramPhotoIndex);\n\t      };\n\n\t      $scope.prevInstagramImage = function () {\n\t        if (!$scope.shouldShowPrev()) return;\n\t        $scope.instagramPhotoIndex -= 1;\n\t        $scope.currentInstagramImage = getPhotoAtIndex($scope.instagramPhotoIndex);\n\t      };\n\n\t      $scope.handleInstagramAuth = function () {\n\t        var search = $location.search();\n\n\t        if (search.access_token) {\n\t          $scope.photoOption = \"instagram\";\n\t          $rootScope.instagram_access_token = search.access_token;\n\t          getPhotos();\n\t        } else if (search.error_description) {\n\t          console.log(\"Instagram Error\");\n\t        }\n\t      };\n\n\t      if ($state.current.name == \"tour_step_one\") {\n\t        $scope.handleInstagramAuth();\n\t      }\n\t    }\n\n\t  };\n\t}\n\tTaskDonutDirective.$inject = [\"$state\", \"$timeout\", \"$rootScope\"];\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Created by jordanbradley on 12/1/15.\n\t */\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Bucket = Bucket;\n\n\tfunction Bucket(_taskDonut, _startingAngle, _angularSize) {\n\n\t  //private\n\t  var self = this,\n\t      init,\n\t      TaskDonut = _taskDonut,\n\t      startingAngle = _startingAngle,\n\t      angularSize = _angularSize,\n\t      taskSliceIsDragging,\n\t      taskSliceStoppedDragging,\n\t      taskSliceDraggingOverBucket,\n\t      taskSliceDraggingAwayFromBucket,\n\t      taskSliceDroppedInBucket,\n\t      slice = TaskDonut.drawingArea.path(),\n\t      text = TaskDonut.drawingArea.text(),\n\t      bucket_group = TaskDonut.drawingArea.g(),\n\t      default_angular_rotation = 120,\n\t      _initVectors,\n\t      _calculateDrawingAttributes;\n\n\t  init = function (startingAngle, angularSize, angularRotation) {\n\n\t    _initVectors(startingAngle, angularSize, angularRotation);\n\t    self.drawStrip();\n\t    bucket_group.add(slice, text);\n\t  };\n\n\t  _initVectors = function (startingAngle, angularSize, angularRotation) {\n\n\t    self.angularRotation = (angularRotation || default_angular_rotation) + TaskDonut.angle_offset;\n\n\t    self.startingAngle = startingAngle + Snap.rad(self.angularRotation);\n\t    self.terminalAngle = self.startingAngle + angularSize;\n\n\t    self.outerRadius = TaskDonut.outerRadius * 1.25;\n\t    self.textRadius = self.outerRadius / 1.07;\n\t    self.innerRadius = self.outerRadius / 1.17;\n\n\t    self.outerTerminalVector = [TaskDonut.centerX + self.outerRadius * Math.cos(self.terminalAngle), TaskDonut.centerY + self.outerRadius * Math.sin(self.terminalAngle)];\n\n\t    self.outerStartingVector = [TaskDonut.centerX + self.outerRadius * Math.cos(self.startingAngle), TaskDonut.centerY + self.outerRadius * Math.sin(self.startingAngle)];\n\n\t    self.textVector = [TaskDonut.centerX + self.textRadius * Math.cos(self.startingAngle + angularSize / 2), TaskDonut.centerY + self.textRadius * Math.sin(self.startingAngle + angularSize / 2)];\n\n\t    self.innerStartingVector = [TaskDonut.centerX + self.innerRadius * Math.cos(self.startingAngle), TaskDonut.centerY + self.innerRadius * Math.sin(self.startingAngle)];\n\n\t    self.innerTerminalVector = [TaskDonut.centerX + self.innerRadius * Math.cos(self.terminalAngle), TaskDonut.centerY + self.innerRadius * Math.sin(self.terminalAngle)];\n\t  };\n\n\t  _calculateDrawingAttributes = function () {\n\n\t    var sweep = self.terminalAngle.mod(2 * Math.PI) - self.startingAngle.mod(2 * Math.PI) > Math.PI ? 1 : 0;\n\n\t    //category slice\n\t    var move = \"M\" + self.innerStartingVector[0] + \",\" + self.innerStartingVector[1];\n\t    var arc = \"A\" + self.innerRadius + \",\" + self.innerRadius + \" 0 \" + sweep + \" 1 \" + self.innerTerminalVector[0] + \",\" + self.innerTerminalVector[1];\n\t    var lineTo = \"L\" + self.outerTerminalVector[0] + \",\" + self.outerTerminalVector[1];\n\t    var outerArc = \"A\" + self.outerRadius + \",\" + self.outerRadius + \" 0 \" + sweep + \" 0 \" + self.outerStartingVector[0] + \",\" + self.outerStartingVector[1];\n\t    var close = \"L\" + self.innerStartingVector[0] + \",\" + self.innerStartingVector[1] + \" z\";\n\t    var categorySlice = [move, arc, lineTo, outerArc, close].join(\" \");\n\t    var fill = \"white\";\n\n\t    return {\n\t      \"d\": categorySlice,\n\t      \"stroke\": \"#ededed\",\n\t      \"stroke-width\": .15,\n\t      \"fill\": fill\n\t    };\n\t  };\n\n\t  self.drawStrip = function () {\n\t    var drawingAttributes = _calculateDrawingAttributes();\n\n\t    slice.attr(drawingAttributes);\n\n\t    if (self.textLabel) {\n\t      text.attr({\n\t        \"text\": self.textLabel,\n\t        \"text-anchor\": \"middle\",\n\t        \"alignment-baseline\": \"central\",\n\t        \"font-size\": 3,\n\t        \"fill\": \"#cccccc\"\n\t      });\n\n\t      var sliceBbox = slice.getBBox();\n\n\t      text.attr({\n\t        \"x\": sliceBbox.cx,\n\t        \"y\": sliceBbox.cy\n\t      });\n\t    }\n\t  };\n\n\t  self.assign = function (assignObj) {\n\t    self.setText(assignObj.label);\n\t  };\n\n\t  self.setText = function (_text) {\n\t    self.textLabel = _text;\n\t    self.drawStrip();\n\t  };\n\n\t  self.g = function () {\n\t    return bucket_group;\n\t  };\n\n\t  //Events\n\t  taskSliceIsDragging = function (taskSlice, x, y) {\n\t    if (Snap.path.isPointInside(slice.toString(), x, y)) {\n\t      taskSliceDraggingOverBucket(taskSlice, x, y);\n\t    } else {\n\t      taskSliceDraggingAwayFromBucket(taskSlice, x, y);\n\t    }\n\t  };\n\n\t  taskSliceStoppedDragging = function (taskSlice, x, y) {\n\t    if (Snap.path.isPointInside(slice.toString(), x, y)) {\n\t      console.log(\"bucket \" + self.textLabel + \" accepted drop from \" + taskSlice.sliceIndex);\n\t      taskSliceDroppedInBucket(taskSlice, x, y);\n\t      eve(\"successfulTaskDropInBucket\" + taskSlice.sliceIndex, {}, taskSlice);\n\t    } else {\n\t      console.log(\"bucket \" + self.textLabel + \" rejected drop from \" + taskSlice.sliceIndex);\n\t      eve(\"cancelledTaskSliceDropInBucket\" + taskSlice.sliceIndex, {}, taskSlice);\n\t    }\n\t  };\n\n\t  taskSliceDroppedInBucket = function (droppedTask) {\n\t    console.log(\"The task has been dropped in a bucket\");\n\t    bucket_group.removeClass(\"dragOver\");\n\t  };\n\n\t  taskSliceDraggingOverBucket = function (taskSlice, x, y) {\n\t    bucket_group.addClass(\"dragOver\");\n\t  };\n\n\t  taskSliceDraggingAwayFromBucket = function (taskSlice, x, y) {\n\t    bucket_group.removeClass(\"dragOver\");\n\t  };\n\n\t  eve.on('taskSliceDragging', taskSliceIsDragging);\n\t  eve.on('taskSliceStoppedDragging', taskSliceStoppedDragging);\n\n\t  init(startingAngle, angularSize);\n\t}\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Created by jordanbradley on 12/1/15.\n\t */\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.BucketRing = BucketRing;\n\n\tvar _BucketJs = __webpack_require__(20);\n\n\tfunction BucketRing(_TaskDonut, _presetType) {\n\n\t  //private\n\t  var self = this,\n\t      init,\n\t      _initWeeklyBuckets,\n\t      default_angular_size = 120,\n\t      default_number_of_buckets = 6,\n\t      TaskDonut = _TaskDonut,\n\t      group = TaskDonut.drawingArea.g(),\n\t      presetType = _presetType;\n\n\t  _initWeeklyBuckets = function (angularRotation, totalAngularSize, numberOfBuckets) {\n\t    self.buckets = [];\n\n\t    var totalAngularSize = Snap.rad(totalAngularSize || default_angular_size),\n\t        numberOfBuckets = numberOfBuckets || default_number_of_buckets;\n\n\t    //create evenly sized numberOfBuckets within totalAngularSize\n\t    var angularSizePerBucket = totalAngularSize / numberOfBuckets;\n\n\t    for (var i = 0; i < numberOfBuckets; i++) {\n\t      var startingAngle = i * angularSizePerBucket;\n\n\t      var bucket = new _BucketJs.Bucket(TaskDonut, startingAngle, angularSizePerBucket);\n\t      self.buckets.push(bucket);\n\t      group.add(bucket.g());\n\t    }\n\n\t    self.buckets[0].assign({ \"label\": \"M\" });\n\t    self.buckets[1].assign({ \"label\": \"T\" });\n\t    self.buckets[2].assign({ \"label\": \"W\" });\n\t    self.buckets[3].assign({ \"label\": \"TH\" });\n\t    self.buckets[4].assign({ \"label\": \"F\" });\n\t    self.buckets[5].assign({ \"label\": \"S\" });\n\n\t    group.attr({ opacity: 0 });\n\t  };\n\n\t  init = function (presetType) {\n\n\t    if (presetType == \"weekly\") {\n\t      _initWeeklyBuckets(default_angular_size, default_angular_size, default_number_of_buckets);\n\t    }\n\t  };\n\n\t  self.show = function () {\n\t    group.animate({ opacity: 1 }, 30);\n\t  };\n\n\t  self.hide = function () {\n\t    group.animate({ opacity: 0 }, 30);\n\t  };\n\n\t  init(presetType || \"weekly\");\n\t}\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\texports.TaskDetailPanelDirective = TaskDetailPanelDirective;\n\n\tfunction TaskDetailPanelDirective() {\n\n\t    return {\n\t        restrict: 'E',\n\t        replace: true,\n\t        templateUrl: 'app/components/TaskDetailPanel/TaskDetailPanel.html',\n\t        link: function link($scope, el, attr) {}\n\t    };\n\t}\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Created by jordanbradley on 11/28/15.\n\t */\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\texports.EmojiPicker = EmojiPicker;\n\n\tfunction EmojiPicker() {\n\t  'ngInject';\n\n\t  return {\n\t    restrict: 'E',\n\t    scope: {\n\t      selectedEmojiModel: '='\n\t    },\n\t    replace: true,\n\t    templateUrl: 'app/components/emoji-picker/emojipicker.html',\n\t    link: function link($scope, el, attr) {\n\t      $scope.emojis = [\"1f0cf.png\", \"1f1e6.png\", \"1f1e7.png\", \"1f1e8-1f1f3.png\", \"1f1e8.png\", \"1f1e9-1f1ea.png\", \"1f1e9.png\", \"1f1ea-1f1f8.png\", \"1f1ea.png\", \"1f1eb-1f1f7.png\", \"1f1eb.png\", \"1f1ec-1f1e7.png\", \"1f1ec.png\", \"1f1ed.png\", \"1f1ee-1f1f9.png\", \"1f1ee.png\", \"1f1ef-1f1f5.png\", \"1f1ef.png\", \"1f1f0-1f1f7.png\", \"1f1f0.png\", \"1f1f1.png\", \"1f1f2.png\", \"1f1f3.png\", \"1f1f4.png\", \"1f1f5.png\", \"1f1f6.png\", \"1f1f7-1f1fa.png\", \"1f1f7.png\", \"1f1f8.png\", \"1f1f9.png\", \"1f1fa-1f1f8.png\", \"1f1fa.png\", \"1f1fb.png\", \"1f1fc.png\", \"1f1fd.png\", \"1f1fe.png\", \"1f1ff.png\", \"1f3a0.png\", \"1f3a1.png\", \"1f3a2.png\", \"1f3a3.png\", \"1f3a4.png\", \"1f3a5.png\", \"1f3a6.png\", \"1f3a7.png\", \"1f3a8.png\", \"1f3a9.png\", \"1f3aa.png\", \"1f3ab.png\", \"1f3ac.png\", \"1f3ad.png\", \"1f3ae.png\", \"1f3af.png\", \"1f3b0.png\", \"1f3b1.png\", \"1f3b2.png\", \"1f3b3.png\", \"1f3b4.png\", \"1f3b5.png\", \"1f3b6.png\", \"1f3b7.png\", \"1f3b8.png\", \"1f3b9.png\", \"1f3ba.png\", \"1f3bb.png\", \"1f3bc.png\", \"1f3bd.png\", \"1f3be.png\", \"1f3bf.png\", \"1f3c0.png\", \"1f3c1.png\", \"1f3c2.png\", \"1f3c3.png\", \"1f3c4.png\", \"1f3c6.png\", \"1f3c7.png\", \"1f3c8.png\", \"1f3c9.png\", \"1f3ca.png\", \"1f3e0.png\", \"1f3e1.png\", \"1f3e2.png\", \"1f3e3.png\", \"1f3e4.png\", \"1f3e5.png\", \"1f3e6.png\", \"1f3e7.png\", \"1f3e8.png\", \"1f3e9.png\", \"1f3ea.png\", \"1f3eb.png\", \"1f3ec.png\", \"1f3ed.png\", \"1f3ee.png\", \"1f3ef.png\", \"1f3f0.png\", \"1f004.png\", \"1f4a0.png\", \"1f4a1.png\", \"1f4a2.png\", \"1f4a3.png\", \"1f4a4.png\", \"1f4a5.png\", \"1f4a6.png\", \"1f4a7.png\", \"1f4a8.png\", \"1f4a9.png\", \"1f4aa.png\", \"1f4ab.png\", \"1f4ac.png\", \"1f4ad.png\", \"1f4ae.png\", \"1f4af.png\", \"1f4b0.png\", \"1f4b1.png\", \"1f4b2.png\", \"1f4b3.png\", \"1f4b4.png\", \"1f4b5.png\", \"1f4b6.png\", \"1f4b7.png\", \"1f4b8.png\", \"1f4b9.png\", \"1f4ba.png\", \"1f4bb.png\", \"1f4bc.png\", \"1f4bd.png\", \"1f4be.png\", \"1f4bf.png\", \"1f4c0.png\", \"1f4c1.png\", \"1f4c2.png\", \"1f4c3.png\", \"1f4c4.png\", \"1f4c5.png\", \"1f4c6.png\", \"1f4c7.png\", \"1f4c8.png\", \"1f4c9.png\", \"1f4ca.png\", \"1f4cb.png\", \"1f4cc.png\", \"1f4cd.png\", \"1f4ce.png\", \"1f4cf.png\", \"1f4d0.png\", \"1f4d1.png\", \"1f4d2.png\", \"1f4d3.png\", \"1f4d4.png\", \"1f4d5.png\", \"1f4d6.png\", \"1f4d7.png\", \"1f4d8.png\", \"1f4d9.png\", \"1f4da.png\", \"1f4db.png\", \"1f4dc.png\", \"1f4dd.png\", \"1f4de.png\", \"1f4df.png\", \"1f4e0.png\", \"1f4e1.png\", \"1f4e2.png\", \"1f4e3.png\", \"1f4e4.png\", \"1f4e5.png\", \"1f4e6.png\", \"1f4e7.png\", \"1f4e8.png\", \"1f4e9.png\", \"1f4ea.png\", \"1f4eb.png\", \"1f4ec.png\", \"1f4ed.png\", \"1f4ee.png\", \"1f4ef.png\", \"1f4f0.png\", \"1f4f1.png\", \"1f4f2.png\", \"1f4f3.png\", \"1f4f4.png\", \"1f4f5.png\", \"1f4f6.png\", \"1f4f7.png\", \"1f4f9.png\", \"1f4fa.png\", \"1f4fb.png\", \"1f4fc.png\", \"1f5fb.png\", \"1f5fc.png\", \"1f5fd.png\", \"1f5fe.png\", \"1f5ff.png\", \"1f6a0.png\", \"1f6a1.png\", \"1f6a2.png\", \"1f6a3.png\", \"1f6a4.png\", \"1f6a5.png\", \"1f6a6.png\", \"1f6a7.png\", \"1f6a8.png\", \"1f6a9.png\", \"1f6aa.png\", \"1f6ab.png\", \"1f6ac.png\", \"1f6ad.png\", \"1f6ae.png\", \"1f6af.png\", \"1f6b0.png\", \"1f6b1.png\", \"1f6b2.png\", \"1f6b3.png\", \"1f6b4.png\", \"1f6b5.png\", \"1f6b6.png\", \"1f6b7.png\", \"1f6b8.png\", \"1f6b9.png\", \"1f6ba.png\", \"1f6bb.png\", \"1f6bc.png\", \"1f6bd.png\", \"1f6be.png\", \"1f6bf.png\", \"1f6c0.png\", \"1f6c1.png\", \"1f6c2.png\", \"1f6c3.png\", \"1f6c4.png\", \"1f6c5.png\", \"1f17e.png\", \"1f17f.png\", \"1f18e.png\", \"1f19a.png\", \"1f21a.png\", \"1f22f.png\", \"1f23a.png\", \"1f30a.png\", \"1f30b.png\", \"1f30c.png\", \"1f30d.png\", \"1f30e.png\", \"1f30f.png\", \"1f31a.png\", \"1f31b.png\", \"1f31c.png\", \"1f31d.png\", \"1f31e.png\", \"1f31f.png\", \"1f33a.png\", \"1f33b.png\", \"1f33c.png\", \"1f33d.png\", \"1f33e.png\", \"1f33f.png\", \"1f34a.png\", \"1f34b.png\", \"1f34c.png\", \"1f34d.png\", \"1f34e.png\", \"1f34f.png\", \"1f35a.png\", \"1f35b.png\", \"1f35c.png\", \"1f35d.png\", \"1f35e.png\", \"1f35f.png\", \"1f36a.png\", \"1f36b.png\", \"1f36c.png\", \"1f36d.png\", \"1f36e.png\", \"1f36f.png\", \"1f37a.png\", \"1f37b.png\", \"1f37c.png\", \"1f38a.png\", \"1f38b.png\", \"1f38c.png\", \"1f38d.png\", \"1f38e.png\", \"1f38f.png\", \"1f40a.png\", \"1f40b.png\", \"1f40c.png\", \"1f40d.png\", \"1f40e.png\", \"1f40f.png\", \"1f41a.png\", \"1f41b.png\", \"1f41c.png\", \"1f41d.png\", \"1f41e.png\", \"1f41f.png\", \"1f42a.png\", \"1f42b.png\", \"1f42c.png\", \"1f42d.png\", \"1f42e.png\", \"1f42f.png\", \"1f43a.png\", \"1f43b.png\", \"1f43c.png\", \"1f43d.png\", \"1f43e.png\", \"1f44a.png\", \"1f44b.png\", \"1f44c.png\", \"1f44d.png\", \"1f44e.png\", \"1f44f.png\", \"1f45a.png\", \"1f45b.png\", \"1f45c.png\", \"1f45d.png\", \"1f45e.png\", \"1f45f.png\", \"1f46a.png\", \"1f46b.png\", \"1f46c.png\", \"1f46d.png\", \"1f46e.png\", \"1f46f.png\", \"1f47a.png\", \"1f47b.png\", \"1f47c.png\", \"1f47d.png\", \"1f47e.png\", \"1f47f.png\", \"1f48a.png\", \"1f48b.png\", \"1f48c.png\", \"1f48d.png\", \"1f48e.png\", \"1f48f.png\", \"1f49a.png\", \"1f49b.png\", \"1f49c.png\", \"1f49d.png\", \"1f49e.png\", \"1f49f.png\", \"1f50a.png\", \"1f50b.png\", \"1f50c.png\", \"1f50d.png\", \"1f50e.png\", \"1f50f.png\", \"1f51a.png\", \"1f51b.png\", \"1f51c.png\", \"1f51d.png\", \"1f51e.png\", \"1f51f.png\", \"1f52a.png\", \"1f52b.png\", \"1f52c.png\", \"1f52d.png\", \"1f52e.png\", \"1f52f.png\", \"1f53a.png\", \"1f53b.png\", \"1f53c.png\", \"1f53d.png\", \"1f55a.png\", \"1f55b.png\", \"1f55c.png\", \"1f55d.png\", \"1f55e.png\", \"1f55f.png\", \"1f60a.png\", \"1f60b.png\", \"1f60c.png\", \"1f60d.png\", \"1f60e.png\", \"1f60f.png\", \"1f61a.png\", \"1f61b.png\", \"1f61c.png\", \"1f61d.png\", \"1f61e.png\", \"1f61f.png\", \"1f62a.png\", \"1f62b.png\", \"1f62c.png\", \"1f62d.png\", \"1f62e.png\", \"1f62f.png\", \"1f63a.png\", \"1f63b.png\", \"1f63c.png\", \"1f63d.png\", \"1f63e.png\", \"1f63f.png\", \"1f64a.png\", \"1f64b.png\", \"1f64c.png\", \"1f64d.png\", \"1f64e.png\", \"1f64f.png\", \"1f68a.png\", \"1f68b.png\", \"1f68c.png\", \"1f68d.png\", \"1f68e.png\", \"1f68f.png\", \"1f69a.png\", \"1f69b.png\", \"1f69c.png\", \"1f69d.png\", \"1f69e.png\", \"1f69f.png\", \"1f170.png\", \"1f171.png\", \"1f191.png\", \"1f192.png\", \"1f193.png\", \"1f194.png\", \"1f195.png\", \"1f196.png\", \"1f197.png\", \"1f198.png\", \"1f199.png\", \"1f201.png\", \"1f202.png\", \"1f232.png\", \"1f233.png\", \"1f234.png\", \"1f235.png\", \"1f236.png\", \"1f237.png\", \"1f238.png\", \"1f239.png\", \"1f250.png\", \"1f251.png\", \"1f300.png\", \"1f301.png\", \"1f302.png\", \"1f303.png\", \"1f304.png\", \"1f305.png\", \"1f306.png\", \"1f307.png\", \"1f308.png\", \"1f309.png\", \"1f310.png\", \"1f311.png\", \"1f312.png\", \"1f313.png\", \"1f314.png\", \"1f315.png\", \"1f316.png\", \"1f317.png\", \"1f318.png\", \"1f319.png\", \"1f320.png\", \"1f330.png\", \"1f331.png\", \"1f332.png\", \"1f333.png\", \"1f334.png\", \"1f335.png\", \"1f337.png\", \"1f338.png\", \"1f339.png\", \"1f340.png\", \"1f341.png\", \"1f342.png\", \"1f343.png\", \"1f344.png\", \"1f345.png\", \"1f346.png\", \"1f347.png\", \"1f348.png\", \"1f349.png\", \"1f350.png\", \"1f351.png\", \"1f352.png\", \"1f353.png\", \"1f354.png\", \"1f355.png\", \"1f356.png\", \"1f357.png\", \"1f358.png\", \"1f359.png\", \"1f360.png\", \"1f361.png\", \"1f362.png\", \"1f363.png\", \"1f364.png\", \"1f365.png\", \"1f366.png\", \"1f367.png\", \"1f368.png\", \"1f369.png\", \"1f370.png\", \"1f371.png\", \"1f372.png\", \"1f373.png\", \"1f374.png\", \"1f375.png\", \"1f376.png\", \"1f377.png\", \"1f378.png\", \"1f379.png\", \"1f380.png\", \"1f381.png\", \"1f382.png\", \"1f383.png\", \"1f384.png\", \"1f385.png\", \"1f386.png\", \"1f387.png\", \"1f388.png\", \"1f389.png\", \"1f390.png\", \"1f391.png\", \"1f392.png\", \"1f393.png\", \"1f400.png\", \"1f401.png\", \"1f402.png\", \"1f403.png\", \"1f404.png\", \"1f405.png\", \"1f406.png\", \"1f407.png\", \"1f408.png\", \"1f409.png\", \"1f410.png\", \"1f411.png\", \"1f412.png\", \"1f413.png\", \"1f414.png\", \"1f415.png\", \"1f416.png\", \"1f417.png\", \"1f418.png\", \"1f419.png\", \"1f420.png\", \"1f421.png\", \"1f422.png\", \"1f423.png\", \"1f424.png\", \"1f425.png\", \"1f426.png\", \"1f427.png\", \"1f428.png\", \"1f429.png\", \"1f430.png\", \"1f431.png\", \"1f432.png\", \"1f433.png\", \"1f434.png\", \"1f435.png\", \"1f436.png\", \"1f437.png\", \"1f438.png\", \"1f439.png\", \"1f440.png\", \"1f442.png\", \"1f443.png\", \"1f444.png\", \"1f445.png\", \"1f446.png\", \"1f447.png\", \"1f448.png\", \"1f449.png\", \"1f450.png\", \"1f451.png\", \"1f452.png\", \"1f453.png\", \"1f454.png\", \"1f455.png\", \"1f456.png\", \"1f457.png\", \"1f458.png\", \"1f459.png\", \"1f460.png\", \"1f461.png\", \"1f462.png\", \"1f463.png\", \"1f464.png\", \"1f465.png\", \"1f466.png\", \"1f467.png\", \"1f468.png\", \"1f469.png\", \"1f470.png\", \"1f471.png\", \"1f472.png\", \"1f473.png\", \"1f474.png\", \"1f475.png\", \"1f476.png\", \"1f477.png\", \"1f478.png\", \"1f479.png\", \"1f480.png\", \"1f481.png\", \"1f482.png\", \"1f483.png\", \"1f484.png\", \"1f485.png\", \"1f486.png\", \"1f487.png\", \"1f488.png\", \"1f489.png\", \"1f490.png\", \"1f491.png\", \"1f492.png\", \"1f493.png\", \"1f494.png\", \"1f495.png\", \"1f496.png\", \"1f497.png\", \"1f498.png\", \"1f499.png\", \"1f500.png\", \"1f501.png\", \"1f502.png\", \"1f503.png\", \"1f504.png\", \"1f505.png\", \"1f506.png\", \"1f507.png\", \"1f508.png\", \"1f509.png\", \"1f510.png\", \"1f511.png\", \"1f512.png\", \"1f513.png\", \"1f514.png\", \"1f515.png\", \"1f516.png\", \"1f517.png\", \"1f518.png\", \"1f519.png\", \"1f520.png\", \"1f521.png\", \"1f522.png\", \"1f523.png\", \"1f524.png\", \"1f525.png\", \"1f526.png\", \"1f527.png\", \"1f528.png\", \"1f529.png\", \"1f530.png\", \"1f531.png\", \"1f532.png\", \"1f533.png\", \"1f534.png\", \"1f535.png\", \"1f536.png\", \"1f537.png\", \"1f538.png\", \"1f539.png\", \"1f550.png\", \"1f551.png\", \"1f552.png\", \"1f553.png\", \"1f554.png\", \"1f555.png\", \"1f556.png\", \"1f557.png\", \"1f558.png\", \"1f559.png\", \"1f560.png\", \"1f561.png\", \"1f562.png\", \"1f563.png\", \"1f564.png\", \"1f565.png\", \"1f566.png\", \"1f567.png\", \"1f600.png\", \"1f601.png\", \"1f602.png\", \"1f603.png\", \"1f604.png\", \"1f605.png\", \"1f606.png\", \"1f607.png\", \"1f608.png\", \"1f609.png\", \"1f610.png\", \"1f611.png\", \"1f612.png\", \"1f613.png\", \"1f614.png\", \"1f615.png\", \"1f616.png\", \"1f617.png\", \"1f618.png\", \"1f619.png\", \"1f620.png\", \"1f621.png\", \"1f622.png\", \"1f623.png\", \"1f624.png\", \"1f625.png\", \"1f626.png\", \"1f627.png\", \"1f628.png\", \"1f629.png\", \"1f630.png\", \"1f631.png\", \"1f632.png\", \"1f633.png\", \"1f634.png\", \"1f635.png\", \"1f636.png\", \"1f637.png\", \"1f638.png\", \"1f639.png\", \"1f640.png\", \"1f645.png\", \"1f646.png\", \"1f647.png\", \"1f648.png\", \"1f649.png\", \"1f680.png\", \"1f681.png\", \"1f682.png\", \"1f683.png\", \"1f684.png\", \"1f685.png\", \"1f686.png\", \"1f687.png\", \"1f688.png\", \"1f689.png\", \"1f690.png\", \"1f691.png\", \"1f692.png\", \"1f693.png\", \"1f694.png\", \"1f695.png\", \"1f696.png\", \"1f697.png\", \"1f698.png\", \"1f699.png\", \"2b1b.png\", \"2b1c.png\", \"2b05.png\", \"2b06.png\", \"2b07.png\", \"2b50.png\", \"2b55.png\", \"21a9.png\", \"21aa.png\", \"23-20e3.png\", \"23e9.png\", \"23ea.png\", \"23eb.png\", \"23ec.png\", \"23f0.png\", \"23f3.png\", \"24c2.png\", \"25aa.png\", \"25ab.png\", \"25b6.png\", \"25c0.png\", \"25fb.png\", \"25fc.png\", \"25fd.png\", \"25fe.png\", \"26a0.png\", \"26a1.png\", \"26aa.png\", \"26ab.png\", \"26bd.png\", \"26be.png\", \"26c4.png\", \"26c5.png\", \"26ce.png\", \"26d4.png\", \"26ea.png\", \"26f2.png\", \"26f3.png\", \"26f5.png\", \"26fa.png\", \"26fd.png\", \"27a1.png\", \"27b0.png\", \"27bf.png\", \"30-20e3.png\", \"31-20e3.png\", \"32-20e3.png\", \"33-20e3.png\", \"34-20e3.png\", \"35-20e3.png\", \"36-20e3.png\", \"37-20e3.png\", \"38-20e3.png\", \"39-20e3.png\", \"203c.png\", \"231a.png\", \"231b.png\", \"260e.png\", \"261d.png\", \"263a.png\", \"264a.png\", \"264b.png\", \"264c.png\", \"264d.png\", \"264e.png\", \"264f.png\", \"267b.png\", \"267f.png\", \"270a.png\", \"270b.png\", \"270c.png\", \"270f.png\", \"274c.png\", \"274e.png\", \"303d.png\", \"2049.png\", \"2122.png\", \"2139.png\", \"2194.png\", \"2195.png\", \"2196.png\", \"2197.png\", \"2198.png\", \"2199.png\", \"2600.png\", \"2601.png\", \"2611.png\", \"2614.png\", \"2615.png\", \"2648.png\", \"2649.png\", \"2650.png\", \"2651.png\", \"2652.png\", \"2653.png\", \"2660.png\", \"2663.png\", \"2665.png\", \"2666.png\", \"2668.png\", \"2693.png\", \"2702.png\", \"2705.png\", \"2708.png\", \"2709.png\", \"2712.png\", \"2714.png\", \"2716.png\", \"2728.png\", \"2733.png\", \"2734.png\", \"2744.png\", \"2747.png\", \"2753.png\", \"2754.png\", \"2755.png\", \"2757.png\", \"2764.png\", \"2795.png\", \"2796.png\", \"2797.png\", \"2934.png\", \"2935.png\", \"3030.png\", \"3297.png\", \"3299.png\", \"a9.png\", \"ae.png\", \"e50a.png\"];\n\n\t      $scope.selectEmoji = function (i) {\n\t        $scope.selectedEmojiModel = $scope.emojis[i];\n\t      };\n\t    }\n\t  };\n\t}\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\texports.SliderDirective = SliderDirective;\n\n\tvar _PiUtilitiesJs = __webpack_require__(6);\n\n\tfunction SliderDirective() {\n\n\t    return {\n\t        restrict: 'E',\n\t        replace: false,\n\t        scope: {\n\t            sliderValue: '=',\n\t            min: '=',\n\t            max: '='\n\t        },\n\t        templateUrl: 'app/components/slider/slider.html',\n\t        link: function link($scope, element, attr, $interval) {\n\n\t            var slider_bar = angular.element('.slider-bar', element),\n\t                value_bar = angular.element('.value-bar', slider_bar),\n\t                handle = angular.element('.handle', slider_bar),\n\t                min,\n\t                max;\n\n\t            //1x1 pixel transparent image for the dragging ghost\n\t            var img = document.createElement(\"img\");\n\t            img.src = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\n\n\t            function refresh() {\n\t                determineMinMax();\n\t                setWidth();\n\t            }\n\n\t            function determineMinMax() {\n\t                min = $scope.min || 0;\n\t                max = $scope.max || 100;\n\t                console.log(min, max);\n\t            }\n\n\t            function _xBound(element, point) {\n\t                var bounds = element.getBoundingClientRect();\n\t                return point.x <= bounds.right + handle.width() && point.x >= bounds.left - handle.width();\n\t            }\n\n\t            function _mapNum(i) {\n\t                var mapped = (i - min) / (max - min) * 100;\n\t                return snap(mapped);\n\t            }\n\n\t            function _findValue(bar, point) {\n\n\t                var bounds = bar.getBoundingClientRect(),\n\t                    i = point.x - bounds.left,\n\t                    total = bounds.width,\n\t                    fraction = i / total,\n\t                    raw = Math.round(fraction * max),\n\t                    percentage = raw / max * 100;\n\n\t                if (raw <= min) {\n\t                    raw = min;\n\t                }\n\n\t                if (raw >= max) {\n\t                    raw = max;\n\t                }\n\n\t                return {\n\t                    \"percentage\": percentage,\n\t                    \"raw\": raw\n\t                };\n\t            }\n\n\t            function setWidth(value) {\n\t                var sliderValue = value || $scope.sliderValue;\n\t                if (sliderValue != undefined) {\n\t                    value_bar[0].style.width = _mapNum(sliderValue) + \"%\";\n\t                }\n\t            }\n\n\t            function snap(x, i) {\n\t                var i = i || 1;\n\t                return Math.round(x / i) * i;\n\t            }\n\n\t            function moveSliderFromClickOrDrag(e) {\n\n\t                var point = { x: e.pageX, y: e.pageY },\n\t                    value = _findValue(slider_bar[0], point);\n\n\t                if (!point.x && !point.y) return;\n\n\t                $scope.sliderValue = value.raw;\n\t                $scope.$apply();\n\t                console.log(value);\n\t            }\n\n\t            function setDragImage(e) {\n\t                e.dataTransfer.setDragImage(img, 0, 0);\n\t            }\n\n\t            slider_bar[0].addEventListener(\"click\", moveSliderFromClickOrDrag);\n\t            slider_bar[0].addEventListener(\"dragstart\", setDragImage);\n\t            slider_bar[0].addEventListener(\"drag\", moveSliderFromClickOrDrag);\n\n\t            $scope.$watchGroup(['sliderValue', 'min', 'max'], function () {\n\t                refresh();\n\t            });\n\t        }\n\t    };\n\t}\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\t/*\n\t* modified for use in Pie\n\t* */\n\t'use strict';\n\n\t(function (window, angular, undefined) {\n\t  \"use strict\";\n\n\t  (function () {\n\t    'use strict';\n\n\t    /**\n\t     * @ngdoc module\n\t     * @name material.components.datepicker\n\t     * @description Datepicker\n\t     */\n\t    angular.module('material.components.datepicker', ['material.core', 'material.components.icon', 'material.components.virtualRepeat']).directive('mdCalendar', calendarDirective);\n\n\t    // POST RELEASE\n\t    // TODO(jelbourn): Mac Cmd + left / right == Home / End\n\t    // TODO(jelbourn): Clicking on the month label opens the month-picker.\n\t    // TODO(jelbourn): Minimum and maximum date\n\t    // TODO(jelbourn): Refactor month element creation to use cloneNode (performance).\n\t    // TODO(jelbourn): Define virtual scrolling constants (compactness) users can override.\n\t    // TODO(jelbourn): Animated month transition on ng-model change (virtual-repeat)\n\t    // TODO(jelbourn): Scroll snapping (virtual repeat)\n\t    // TODO(jelbourn): Remove superfluous row from short months (virtual-repeat)\n\t    // TODO(jelbourn): Month headers stick to top when scrolling.\n\t    // TODO(jelbourn): Previous month opacity is lowered when partially scrolled out of view.\n\t    // TODO(jelbourn): Support md-calendar standalone on a page (as a tabstop w/ aria-live\n\t    //     announcement and key handling).\n\t    // Read-only calendar (not just date-picker).\n\n\t    /**\n\t     * Height of one calendar month tbody. This must be made known to the virtual-repeat and is\n\t     * subsequently used for scrolling to specific months.\n\t     */\n\t    var TBODY_HEIGHT = 252;\n\n\t    /**\n\t     * Height of a calendar month with a single row. This is needed to calculate the offset for\n\t     * rendering an extra month in virtual-repeat that only contains one row.\n\t     */\n\t    var TBODY_SINGLE_ROW_HEIGHT = 45;\n\n\t    function calendarDirective() {\n\t      return {\n\t        template: '<table aria-hidden=\"true\" class=\"md-calendar-day-header\"><thead><tr><th colspan=\"7\" class=\"currentMonthYear\" style=\"text-align: left;\"><span class=\"currentMonth\">{{ monthAtCurrentScrollPosition }}</span> <span class=\"currentYear\">{{ yearAtCurrentScrollPosition }}</span></th></tr></thead></table>' + '<div class=\"md-calendar-scroll-mask\">' + '<md-virtual-repeat-container class=\"md-calendar-scroll-container\" ' + 'md-offset-size=\"' + (TBODY_SINGLE_ROW_HEIGHT - TBODY_HEIGHT) + '\">' + '<table role=\"grid\" tabindex=\"0\" class=\"md-calendar\" aria-readonly=\"true\">' + '<tbody role=\"rowgroup\" md-virtual-repeat=\"i in ctrl.items\" md-calendar-month ' + 'md-month-offset=\"$index\" class=\"md-calendar-month\" ' + 'md-start-index=\"ctrl.getSelectedMonthIndex()\" ' + 'md-item-size=\"' + TBODY_HEIGHT + '\"></tbody>' + '</table>' + '</md-virtual-repeat-container>' + '</div>',\n\t        scope: {\n\t          minDate: '=mdMinDate',\n\t          maxDate: '=mdMaxDate',\n\t          dateFilter: '=mdDateFilter'\n\t        },\n\t        require: ['ngModel', 'mdCalendar'],\n\t        controller: CalendarCtrl,\n\t        controllerAs: 'ctrl',\n\t        bindToController: true,\n\t        link: function link(scope, element, attrs, controllers) {\n\t          var ngModelCtrl = controllers[0];\n\t          var mdCalendarCtrl = controllers[1];\n\t          mdCalendarCtrl.configureNgModel(ngModelCtrl);\n\t        }\n\t      };\n\t    }\n\n\t    /** Class applied to the selected date cell/. */\n\t    var SELECTED_DATE_CLASS = 'md-calendar-selected-date';\n\n\t    /** Class applied to the focused date cell/. */\n\t    var FOCUSED_DATE_CLASS = 'md-focus';\n\n\t    /** Next identifier for calendar instance. */\n\t    var nextUniqueId = 0;\n\n\t    /** The first renderable date in the virtual-scrolling calendar (for all instances). */\n\t    var firstRenderableDate = null;\n\n\t    /**\n\t     * Controller for the mdCalendar component.\n\t     * ngInject @constructor\n\t     */\n\t    function CalendarCtrl($element, $attrs, $scope, $animate, $q, $mdConstant, $mdTheming, $$mdDateUtil, $mdDateLocale, $mdInkRipple, $mdUtil) {\n\t      $mdTheming($element);\n\t      /**\n\t       * Dummy array-like object for virtual-repeat to iterate over. The length is the total\n\t       * number of months that can be viewed. This is shorter than ideal because of (potential)\n\t       * Firefox bug https://bugzilla.mozilla.org/show_bug.cgi?id=1181658.\n\t       */\n\t      this.items = { length: 2000 };\n\n\t      if (this.maxDate && this.minDate) {\n\t        // Limit the number of months if min and max dates are set.\n\t        var numMonths = $$mdDateUtil.getMonthDistance(this.minDate, this.maxDate) + 1;\n\t        numMonths = Math.max(numMonths, 1);\n\t        // Add an additional month as the final dummy month for rendering purposes.\n\t        numMonths += 1;\n\t        this.items.length = numMonths;\n\t      }\n\n\t      /** @final {!angular.$animate} */\n\t      this.$animate = $animate;\n\n\t      /** @final {!angular.$q} */\n\t      this.$q = $q;\n\n\t      /** @final */\n\t      this.$mdInkRipple = $mdInkRipple;\n\n\t      /** @final */\n\t      this.$mdUtil = $mdUtil;\n\n\t      /** @final */\n\t      this.keyCode = $mdConstant.KEY_CODE;\n\n\t      /** @final */\n\t      this.dateUtil = $$mdDateUtil;\n\n\t      /** @final */\n\t      this.dateLocale = $mdDateLocale;\n\n\t      /** @final {!angular.JQLite} */\n\t      this.$element = $element;\n\n\t      /** @final {!angular.Scope} */\n\t      this.$scope = $scope;\n\n\t      /** @final {HTMLElement} */\n\t      this.calendarElement = $element[0].querySelector('.md-calendar');\n\n\t      /** @final {HTMLElement} */\n\t      this.calendarScroller = $element[0].querySelector('.md-virtual-repeat-scroller');\n\n\t      /** @final {Date} */\n\t      this.today = this.dateUtil.createDateAtMidnight();\n\n\t      /** @type {Date} */\n\t      this.firstRenderableDate = this.dateUtil.incrementMonths(this.today, -this.items.length / 2);\n\n\t      if (this.minDate && this.minDate > this.firstRenderableDate) {\n\t        this.firstRenderableDate = this.minDate;\n\t      } else if (this.maxDate) {\n\t        // Calculate the difference between the start date and max date.\n\t        // Subtract 1 because it's an inclusive difference and 1 for the final dummy month.\n\t        //\n\t        var monthDifference = this.items.length - 2;\n\t        this.firstRenderableDate = this.dateUtil.incrementMonths(this.maxDate, -(this.items.length - 2));\n\t      }\n\n\t      /** @final {number} Unique ID for this calendar instance. */\n\t      this.id = nextUniqueId++;\n\n\t      /** @type {!angular.NgModelController} */\n\t      this.ngModelCtrl = null;\n\n\t      /**\n\t       * The selected date. Keep track of this separately from the ng-model value so that we\n\t       * can know, when the ng-model value changes, what the previous value was before its updated\n\t       * in the component's UI.\n\t       *\n\t       * @type {Date}\n\t       */\n\t      this.selectedDate = null;\n\n\t      /**\n\t       * The date that is currently focused or showing in the calendar. This will initially be set\n\t       * to the ng-model value if set, otherwise to today. It will be updated as the user navigates\n\t       * to other months. The cell corresponding to the displayDate does not necesarily always have\n\t       * focus in the document (such as for cases when the user is scrolling the calendar).\n\t       * @type {Date}\n\t       */\n\t      this.displayDate = null;\n\n\t      /**\n\t       * The date that has or should have focus.\n\t       * @type {Date}\n\t       */\n\t      this.focusDate = null;\n\n\t      /** @type {boolean} */\n\t      this.isInitialized = false;\n\n\t      /** @type {boolean} */\n\t      this.isMonthTransitionInProgress = false;\n\n\t      // Unless the user specifies so, the calendar should not be a tab stop.\n\t      // This is necessary because ngAria might add a tabindex to anything with an ng-model\n\t      // (based on whether or not the user has turned that particular feature on/off).\n\t      if (!$attrs['tabindex']) {\n\t        $element.attr('tabindex', '-1');\n\t      }\n\n\t      var self = this;\n\n\t      /**\n\t       * Handles a click event on a date cell.\n\t       * Created here so that every cell can use the same function instance.\n\t       * @this {HTMLTableCellElement} The cell that was clicked.\n\t       */\n\t      this.cellClickHandler = function () {\n\t        var cellElement = this;\n\t        if (this.hasAttribute('data-timestamp')) {\n\t          $scope.$apply(function () {\n\t            var timestamp = Number(cellElement.getAttribute('data-timestamp'));\n\t            self.setNgModelValue(self.dateUtil.createDateAtMidnight(timestamp));\n\t          });\n\t        }\n\t      };\n\n\t      this.attachCalendarEventListeners();\n\n\t      angular.element(document.documentElement).on('click touchstart', function () {\n\t        //this body click handler i just copied from below\n\t        console.log(\"body click\");\n\t        if (this.isCalendarOpen) {\n\t          var isInCalendar = this.$mdUtil.getClosest(event.target, 'md-calendar');\n\t          if (!isInCalendar) {\n\t            this.closeCalendarPane();\n\t          }\n\n\t          this.$scope.$digest();\n\t        }\n\t      });\n\t    }\n\t    CalendarCtrl.$inject = [\"$element\", \"$attrs\", \"$scope\", \"$animate\", \"$q\", \"$mdConstant\", \"$mdTheming\", \"$$mdDateUtil\", \"$mdDateLocale\", \"$mdInkRipple\", \"$mdUtil\"];\n\n\t    /*** Initialization ***/\n\n\t    /**\n\t     * Sets up the controller's reference to ngModelController.\n\t     * @param {!angular.NgModelController} ngModelCtrl\n\t     */\n\t    CalendarCtrl.prototype.configureNgModel = function (ngModelCtrl) {\n\t      this.ngModelCtrl = ngModelCtrl;\n\n\t      var self = this;\n\t      ngModelCtrl.$render = function () {\n\t        self.changeSelectedDate(self.ngModelCtrl.$viewValue);\n\t      };\n\t    };\n\n\t    /**\n\t     * Initialize the calendar by building the months that are initially visible.\n\t     * Initialization should occur after the ngModel value is known.\n\t     */\n\t    CalendarCtrl.prototype.buildInitialCalendarDisplay = function () {\n\t      this.buildWeekHeader();\n\t      this.hideVerticalScrollbar();\n\n\t      this.displayDate = this.selectedDate || this.today;\n\t      this.isInitialized = true;\n\t    };\n\n\t    /**\n\t     * Hides the vertical scrollbar on the calendar scroller by setting the width on the\n\t     * calendar scroller and the `overflow: hidden` wrapper around the scroller, and then setting\n\t     * a padding-right on the scroller equal to the width of the browser's scrollbar.\n\t     *\n\t     * This will cause a reflow.\n\t     */\n\t    CalendarCtrl.prototype.hideVerticalScrollbar = function () {\n\t      var element = this.$element[0];\n\n\t      var scrollMask = element.querySelector('.md-calendar-scroll-mask');\n\t      var scroller = this.calendarScroller;\n\n\t      var headerWidth = element.querySelector('.md-calendar-day-header').clientWidth;\n\t      var scrollbarWidth = scroller.offsetWidth - scroller.clientWidth;\n\n\t      scrollMask.style.width = headerWidth + 'px';\n\t      scroller.style.width = headerWidth + scrollbarWidth + 'px';\n\t      scroller.style.paddingRight = scrollbarWidth + 'px';\n\t    };\n\n\t    /** Attach event listeners for the calendar. */\n\t    CalendarCtrl.prototype.attachCalendarEventListeners = function () {\n\t      // Keyboard interaction.\n\t      this.$element.on('keydown', angular.bind(this, this.handleKeyEvent));\n\t      angular.element(this.calendarScroller).on('scroll', angular.bind(this, this.pieHandleCalendarScroll));\n\t    };\n\n\t    var skippable = true;\n\t    var SNAP_AT = .50;\n\n\t    CalendarCtrl.prototype.pieHandleCalendarScroll = function () {\n\n\t      var indexAtScrollPosition = (this.calendarScroller.scrollTop + TBODY_HEIGHT / 3) / TBODY_HEIGHT;\n\n\t      var monthYear = this.monthAtScrollPosition(indexAtScrollPosition * TBODY_HEIGHT);\n\t      this.$scope.monthAtCurrentScrollPosition = monthYear.month;\n\t      this.$scope.yearAtCurrentScrollPosition = monthYear.year;\n\t      this.$scope.$apply();\n\n\t      console.log(this.calendarScroller.scrollTop);\n\n\t      //var indexAtScrollPosition = this.calendarScroller.scrollTop/TBODY_HEIGHT;\n\t      //var remainder = indexAtScrollPosition % 1;\n\t      //var nextIndex = Math.ceil(indexAtScrollPosition);\n\t      //\n\t      //if(remainder > SNAP_AT && skippable){\n\t      //  console.log(\"skipped\");\n\t      //  skippable = false;\n\t      //\n\t      //  angular.element(this.calendarScroller).animate({ scrollTop: nextIndex * TBODY_HEIGHT }, 250);\n\t      //\n\t      //  var month = this.monthAtScrollPosition(nextIndex * TBODY_HEIGHT);\n\t      //  this.$scope.monthAtCurrentScrollPosition = month;\n\t      //  this.$scope.$apply();\n\t      //\n\t      //}else if(remainder < SNAP_AT && !skippable){\n\t      //  skippable = true;\n\t      //}\n\t    };\n\n\t    CalendarCtrl.prototype.monthAtScrollPosition = function (scrollPosition) {\n\t      var scrollPosition = scrollPosition || this.calendarScroller.scrollTop;\n\t      var approximateIndexFromScrollPosition = Math.floor(scrollPosition) / TBODY_HEIGHT;\n\t      var date = this.dateUtil.incrementMonths(this.firstRenderableDate, approximateIndexFromScrollPosition);\n\t      var _moment = moment(date);\n\t      return { month: _moment.format('MMMM'), year: _moment.format('YYYY') };\n\t    };\n\n\t    /*** User input handling ***/\n\n\t    /**\n\t     * Handles a key event in the calendar with the appropriate action. The action will either\n\t     * be to select the focused date or to navigate to focus a new date.\n\t     * @param {KeyboardEvent} event\n\t     */\n\t    CalendarCtrl.prototype.handleKeyEvent = function (event) {\n\t      var self = this;\n\t      this.$scope.$apply(function () {\n\t        // Capture escape and emit back up so that a wrapping component\n\t        // (such as a date-picker) can decide to close.\n\t        if (event.which == self.keyCode.ESCAPE || event.which == self.keyCode.TAB) {\n\t          self.$scope.$emit('md-calendar-close');\n\n\t          if (event.which == self.keyCode.TAB) {\n\t            event.preventDefault();\n\t          }\n\n\t          return;\n\t        }\n\n\t        // Remaining key events fall into two categories: selection and navigation.\n\t        // Start by checking if this is a selection event.\n\t        if (event.which === self.keyCode.ENTER) {\n\t          self.setNgModelValue(self.displayDate);\n\t          event.preventDefault();\n\t          return;\n\t        }\n\n\t        // Selection isn't occuring, so the key event is either navigation or nothing.\n\t        var date = self.getFocusDateFromKeyEvent(event);\n\t        if (date) {\n\t          date = self.boundDateByMinAndMax(date);\n\t          event.preventDefault();\n\t          event.stopPropagation();\n\n\t          // Since this is a keyboard interaction, actually give the newly focused date keyboard\n\t          // focus after the been brought into view.\n\t          self.changeDisplayDate(date).then(function () {\n\t            self.focus(date);\n\t          });\n\t        }\n\t      });\n\t    };\n\n\t    /**\n\t     * Gets the date to focus as the result of a key event.\n\t     * @param {KeyboardEvent} event\n\t     * @returns {Date} Date to navigate to, or null if the key does not match a calendar shortcut.\n\t     */\n\t    CalendarCtrl.prototype.getFocusDateFromKeyEvent = function (event) {\n\t      var dateUtil = this.dateUtil;\n\t      var keyCode = this.keyCode;\n\n\t      switch (event.which) {\n\t        case keyCode.RIGHT_ARROW:\n\t          return dateUtil.incrementDays(this.displayDate, 1);\n\t        case keyCode.LEFT_ARROW:\n\t          return dateUtil.incrementDays(this.displayDate, -1);\n\t        case keyCode.DOWN_ARROW:\n\t          return event.metaKey ? dateUtil.incrementMonths(this.displayDate, 1) : dateUtil.incrementDays(this.displayDate, 7);\n\t        case keyCode.UP_ARROW:\n\t          return event.metaKey ? dateUtil.incrementMonths(this.displayDate, -1) : dateUtil.incrementDays(this.displayDate, -7);\n\t        case keyCode.PAGE_DOWN:\n\t          return dateUtil.incrementMonths(this.displayDate, 1);\n\t        case keyCode.PAGE_UP:\n\t          return dateUtil.incrementMonths(this.displayDate, -1);\n\t        case keyCode.HOME:\n\t          return dateUtil.getFirstDateOfMonth(this.displayDate);\n\t        case keyCode.END:\n\t          return dateUtil.getLastDateOfMonth(this.displayDate);\n\t        default:\n\t          return null;\n\t      }\n\t    };\n\n\t    /**\n\t     * Gets the \"index\" of the currently selected date as it would be in the virtual-repeat.\n\t     * @returns {number}\n\t     */\n\t    CalendarCtrl.prototype.getSelectedMonthIndex = function () {\n\t      return this.dateUtil.getMonthDistance(this.firstRenderableDate, this.selectedDate || this.today);\n\t    };\n\n\t    /**\n\t     * Scrolls to the month of the given date.\n\t     * @param {Date} date\n\t     */\n\t    CalendarCtrl.prototype.scrollToMonth = function (date) {\n\t      if (!this.dateUtil.isValidDate(date)) {\n\t        return;\n\t      }\n\t      var monthDistance = this.dateUtil.getMonthDistance(this.firstRenderableDate, date);\n\t      var newScrollTop = monthDistance * TBODY_HEIGHT;\n\n\t      angular.element(this.calendarScroller).animate({ scrollTop: newScrollTop }, 250);\n\t    };\n\n\t    /**\n\t     * Sets the ng-model value for the calendar and emits a change event.\n\t     * @param {Date} date\n\t     */\n\t    CalendarCtrl.prototype.setNgModelValue = function (date) {\n\t      this.$scope.$emit('md-calendar-change', date);\n\t      this.ngModelCtrl.$setViewValue(date);\n\t      this.ngModelCtrl.$render();\n\t    };\n\n\t    /**\n\t     * Focus the cell corresponding to the given date.\n\t     * @param {Date=} opt_date\n\t     */\n\t    CalendarCtrl.prototype.focus = function (opt_date) {\n\t      var date = opt_date || this.selectedDate || this.today;\n\n\t      var previousFocus = this.calendarElement.querySelector('.md-focus');\n\t      if (previousFocus) {\n\t        previousFocus.classList.remove(FOCUSED_DATE_CLASS);\n\t      }\n\n\t      var cellId = this.getDateId(date);\n\t      var cell = document.getElementById(cellId);\n\t      if (cell) {\n\t        cell.classList.add(FOCUSED_DATE_CLASS);\n\t        cell.focus();\n\t      } else {\n\t        this.focusDate = date;\n\t      }\n\t    };\n\n\t    /**\n\t     * If a date exceeds minDate or maxDate, returns date matching minDate or maxDate, respectively.\n\t     * Otherwise, returns the date.\n\t     * @param {Date} date\n\t     * @return {Date}\n\t     */\n\t    CalendarCtrl.prototype.boundDateByMinAndMax = function (date) {\n\t      var boundDate = date;\n\t      if (this.minDate && date < this.minDate) {\n\t        boundDate = new Date(this.minDate.getTime());\n\t      }\n\t      if (this.maxDate && date > this.maxDate) {\n\t        boundDate = new Date(this.maxDate.getTime());\n\t      }\n\t      return boundDate;\n\t    };\n\n\t    /*** Updating the displayed / selected date ***/\n\n\t    /**\n\t     * Change the selected date in the calendar (ngModel value has already been changed).\n\t     * @param {Date} date\n\t     */\n\t    CalendarCtrl.prototype.changeSelectedDate = function (date) {\n\t      var self = this;\n\t      var previousSelectedDate = this.selectedDate;\n\t      this.selectedDate = date;\n\t      this.changeDisplayDate(date).then(function () {\n\n\t        // Remove the selected class from the previously selected date, if any.\n\t        if (previousSelectedDate) {\n\t          var prevDateCell = document.getElementById(self.getDateId(previousSelectedDate));\n\t          if (prevDateCell) {\n\t            prevDateCell.classList.remove(SELECTED_DATE_CLASS);\n\t            prevDateCell.setAttribute('aria-selected', 'false');\n\t          }\n\t        }\n\n\t        // Apply the select class to the new selected date if it is set.\n\t        if (date) {\n\t          var dateCell = document.getElementById(self.getDateId(date));\n\t          if (dateCell) {\n\t            dateCell.classList.add(SELECTED_DATE_CLASS);\n\t            dateCell.setAttribute('aria-selected', 'true');\n\t          }\n\t        }\n\t      });\n\t    };\n\n\t    /**\n\t     * Change the date that is being shown in the calendar. If the given date is in a different\n\t     * month, the displayed month will be transitioned.\n\t     * @param {Date} date\n\t     */\n\t    CalendarCtrl.prototype.changeDisplayDate = function (date, animate) {\n\t      // Initialization is deferred until this function is called because we want to reflect\n\t      // the starting value of ngModel.\n\t      if (!this.isInitialized) {\n\t        this.buildInitialCalendarDisplay();\n\t        return this.$q.when();\n\t      }\n\n\t      // If trying to show an invalid date or a transition is in progress, do nothing.\n\t      if (!this.dateUtil.isValidDate(date) || this.isMonthTransitionInProgress) {\n\t        return this.$q.when();\n\t      }\n\n\t      this.isMonthTransitionInProgress = true;\n\t      var animationPromise = this.animateDateChange(date);\n\n\t      this.displayDate = date;\n\n\t      var self = this;\n\t      animationPromise.then(function () {\n\t        self.isMonthTransitionInProgress = false;\n\t      });\n\n\t      return animationPromise;\n\t    };\n\n\t    /**\n\t     * Animates the transition from the calendar's current month to the given month.\n\t     * @param {Date} date\n\t     * @returns {angular.$q.Promise} The animation promise.\n\t     */\n\t    CalendarCtrl.prototype.animateDateChange = function (date) {\n\t      this.scrollToMonth(date);\n\t      return this.$q.when();\n\t    };\n\n\t    /*** Constructing the calendar table ***/\n\n\t    /**\n\t     * Builds and appends a day-of-the-week header to the calendar.\n\t     * This should only need to be called once during initialization.\n\t     */\n\t    CalendarCtrl.prototype.buildWeekHeader = function () {\n\t      var firstDayOfWeek = this.dateLocale.firstDayOfWeek;\n\t      var shortDays = this.dateLocale.shortDays;\n\n\t      var row = document.createElement('tr');\n\t      for (var i = 0; i < 7; i++) {\n\t        var th = document.createElement('th');\n\t        th.textContent = shortDays[(i + firstDayOfWeek) % 7];\n\t        row.appendChild(th);\n\t      }\n\n\t      this.$element.find('thead').append(row);\n\t    };\n\n\t    /**\n\t    * Gets an identifier for a date unique to the calendar instance for internal\n\t    * purposes. Not to be displayed.\n\t    * @param {Date} date\n\t    * @returns {string}\n\t    */\n\t    CalendarCtrl.prototype.getDateId = function (date) {\n\t      return ['md', this.id, date.getFullYear(), date.getMonth(), date.getDate()].join('-');\n\t    };\n\t  })();\n\n\t  (function () {\n\t    'use strict';\n\n\t    angular.module('material.components.datepicker').directive('mdCalendarMonth', mdCalendarMonthDirective);\n\n\t    /**\n\t     * Private directive consumed by md-calendar. Having this directive lets the calender use\n\t     * md-virtual-repeat and also cleanly separates the month DOM construction functions from\n\t     * the rest of the calendar controller logic.\n\t     */\n\t    function mdCalendarMonthDirective() {\n\t      return {\n\t        require: ['^^mdCalendar', 'mdCalendarMonth'],\n\t        scope: { offset: '=mdMonthOffset' },\n\t        controller: CalendarMonthCtrl,\n\t        controllerAs: 'mdMonthCtrl',\n\t        bindToController: true,\n\t        link: function link(scope, element, attrs, controllers) {\n\t          var calendarCtrl = controllers[0];\n\t          var monthCtrl = controllers[1];\n\n\t          monthCtrl.calendarCtrl = calendarCtrl;\n\t          monthCtrl.generateContent();\n\n\t          // The virtual-repeat re-uses the same DOM elements, so there are only a limited number\n\t          // of repeated items that are linked, and then those elements have their bindings updataed.\n\t          // Since the months are not generated by bindings, we simply regenerate the entire thing\n\t          // when the binding (offset) changes.\n\t          scope.$watch(function () {\n\t            return monthCtrl.offset;\n\t          }, function (offset, oldOffset) {\n\t            if (offset != oldOffset) {\n\t              monthCtrl.generateContent();\n\t            }\n\t          });\n\t        }\n\t      };\n\t    }\n\n\t    /** Class applied to the cell for today. */\n\t    var TODAY_CLASS = 'md-calendar-date-today';\n\n\t    /** Class applied to the selected date cell/. */\n\t    var SELECTED_DATE_CLASS = 'md-calendar-selected-date';\n\n\t    /** Class applied to the focused date cell/. */\n\t    var FOCUSED_DATE_CLASS = 'md-focus';\n\n\t    /**\n\t     * Controller for a single calendar month.\n\t     * ngInject @constructor\n\t     */\n\t    function CalendarMonthCtrl($element, $$mdDateUtil, $mdDateLocale) {\n\t      this.dateUtil = $$mdDateUtil;\n\t      this.dateLocale = $mdDateLocale;\n\t      this.$element = $element;\n\t      this.calendarCtrl = null;\n\n\t      /**\n\t       * Number of months from the start of the month \"items\" that the currently rendered month\n\t       * occurs. Set via angular data binding.\n\t       * @type {number}\n\t       */\n\t      this.offset;\n\n\t      /**\n\t       * Date cell to focus after appending the month to the document.\n\t       * @type {HTMLElement}\n\t       */\n\t      this.focusAfterAppend = null;\n\t    }\n\t    CalendarMonthCtrl.$inject = [\"$element\", \"$$mdDateUtil\", \"$mdDateLocale\"];\n\n\t    /** Generate and append the content for this month to the directive element. */\n\t    CalendarMonthCtrl.prototype.generateContent = function () {\n\t      var calendarCtrl = this.calendarCtrl;\n\t      var date = this.dateUtil.incrementMonths(calendarCtrl.firstRenderableDate, this.offset);\n\n\t      this.$element.empty();\n\t      this.$element.append(this.buildCalendarForMonth(date));\n\n\t      if (this.focusAfterAppend) {\n\t        this.focusAfterAppend.classList.add(FOCUSED_DATE_CLASS);\n\t        this.focusAfterAppend.focus();\n\t        this.focusAfterAppend = null;\n\t      }\n\t    };\n\n\t    /**\n\t     * Creates a single cell to contain a date in the calendar with all appropriate\n\t     * attributes and classes added. If a date is given, the cell content will be set\n\t     * based on the date.\n\t     * @param {Date=} opt_date\n\t     * @returns {HTMLElement}\n\t     */\n\t    CalendarMonthCtrl.prototype.buildDateCell = function (opt_date) {\n\t      var calendarCtrl = this.calendarCtrl;\n\n\t      // TODO(jelbourn): cloneNode is likely a faster way of doing this.\n\t      var cell = document.createElement('td');\n\t      cell.tabIndex = -1;\n\t      cell.classList.add('md-calendar-date');\n\t      cell.setAttribute('role', 'gridcell');\n\n\t      if (opt_date) {\n\t        cell.setAttribute('tabindex', '-1');\n\t        cell.setAttribute('aria-label', this.dateLocale.longDateFormatter(opt_date));\n\t        cell.id = calendarCtrl.getDateId(opt_date);\n\n\t        // Use `data-timestamp` attribute because IE10 does not support the `dataset` property.\n\t        cell.setAttribute('data-timestamp', opt_date.getTime());\n\n\t        // TODO(jelourn): Doing these comparisons for class addition during generation might be slow.\n\t        // It may be better to finish the construction and then query the node and add the class.\n\t        if (this.dateUtil.isSameDay(opt_date, calendarCtrl.today)) {\n\t          cell.classList.add(TODAY_CLASS);\n\t        }\n\n\t        if (this.dateUtil.isValidDate(calendarCtrl.selectedDate) && this.dateUtil.isSameDay(opt_date, calendarCtrl.selectedDate)) {\n\t          cell.classList.add(SELECTED_DATE_CLASS);\n\t          cell.setAttribute('aria-selected', 'true');\n\t        }\n\n\t        var cellText = this.dateLocale.dates[opt_date.getDate()];\n\n\t        if (this.isDateEnabled(opt_date)) {\n\t          // Add a indicator for select, hover, and focus states.\n\t          var selectionIndicator = document.createElement('span');\n\t          cell.appendChild(selectionIndicator);\n\t          selectionIndicator.classList.add('md-calendar-date-selection-indicator');\n\t          selectionIndicator.textContent = cellText;\n\n\t          cell.addEventListener('click', calendarCtrl.cellClickHandler);\n\n\t          if (calendarCtrl.focusDate && this.dateUtil.isSameDay(opt_date, calendarCtrl.focusDate)) {\n\t            this.focusAfterAppend = cell;\n\t          }\n\t        } else {\n\t          cell.classList.add('md-calendar-date-disabled');\n\t          cell.textContent = cellText;\n\t        }\n\t      }\n\n\t      return cell;\n\t    };\n\n\t    /**\n\t     * Check whether date is in range and enabled\n\t     * @param {Date=} opt_date\n\t     * @return {boolean} Whether the date is enabled.\n\t     */\n\t    CalendarMonthCtrl.prototype.isDateEnabled = function (opt_date) {\n\t      return this.dateUtil.isDateWithinRange(opt_date, this.calendarCtrl.minDate, this.calendarCtrl.maxDate) && (!angular.isFunction(this.calendarCtrl.dateFilter) || this.calendarCtrl.dateFilter(opt_date));\n\t    };\n\n\t    /**\n\t     * Builds a `tr` element for the calendar grid.\n\t     * @param rowNumber The week number within the month.\n\t     * @returns {HTMLElement}\n\t     */\n\t    CalendarMonthCtrl.prototype.buildDateRow = function (rowNumber) {\n\t      var row = document.createElement('tr');\n\t      row.setAttribute('role', 'row');\n\n\t      // Because of an NVDA bug (with Firefox), the row needs an aria-label in order\n\t      // to prevent the entire row being read aloud when the user moves between rows.\n\t      // See http://community.nvda-project.org/ticket/4643.\n\t      row.setAttribute('aria-label', this.dateLocale.weekNumberFormatter(rowNumber));\n\n\t      return row;\n\t    };\n\n\t    /**\n\t     * Builds the <tbody> content for the given date's month.\n\t     * @param {Date=} opt_dateInMonth\n\t     * @returns {DocumentFragment} A document fragment containing the <tr> elements.\n\t     */\n\t    CalendarMonthCtrl.prototype.buildCalendarForMonth = function (opt_dateInMonth) {\n\t      var date = this.dateUtil.isValidDate(opt_dateInMonth) ? opt_dateInMonth : new Date();\n\n\t      var firstDayOfMonth = this.dateUtil.getFirstDateOfMonth(date);\n\t      var firstDayOfTheWeek = this.getLocaleDay_(firstDayOfMonth);\n\t      var numberOfDaysInMonth = this.dateUtil.getNumberOfDaysInMonth(date);\n\n\t      // Store rows for the month in a document fragment so that we can append them all at once.\n\t      var monthBody = document.createDocumentFragment();\n\n\t      var rowNumber = 1;\n\t      var row = this.buildDateRow(rowNumber);\n\t      monthBody.appendChild(row);\n\n\t      // If this is the final month in the list of items, only the first week should render,\n\t      // so we should return immediately after the first row is complete and has been\n\t      // attached to the body.\n\t      var isFinalMonth = this.offset === this.calendarCtrl.items.length - 1;\n\n\t      // Add a label for the month. If the month starts on a Sun/Mon/Tues, the month label\n\t      // goes on a row above the first of the month. Otherwise, the month label takes up the first\n\t      // two cells of the first row.\n\t      var blankCellOffset = 0;\n\t      var monthLabelCell = document.createElement('td');\n\t      monthLabelCell.classList.add('md-calendar-month-label');\n\t      // If the entire month is after the max date, render the label as a disabled state.\n\t      if (this.calendarCtrl.maxDate && firstDayOfMonth > this.calendarCtrl.maxDate) {\n\t        monthLabelCell.classList.add('md-calendar-month-label-disabled');\n\t      }\n\t      //monthLabelCell.textContent = this.dateLocale.monthHeaderFormatter(date);\n\n\t      monthLabelCell.setAttribute('colspan', '7');\n\n\t      var monthLabelRow = this.buildDateRow();\n\t      monthLabelRow.appendChild(monthLabelCell);\n\t      monthLabelRow.appendChild(monthLabelCell);\n\t      monthBody.insertBefore(monthLabelRow, row);\n\n\t      if (isFinalMonth) {\n\t        return monthBody;\n\t      }\n\n\t      // Add a blank cell for each day of the week that occurs before the first of the month.\n\t      // For example, if the first day of the month is a Tuesday, add blank cells for Sun and Mon.\n\t      // The blankCellOffset is needed in cases where the first N cells are used by the month label.\n\t      for (var i = blankCellOffset; i < firstDayOfTheWeek; i++) {\n\t        row.appendChild(this.buildDateCell());\n\t      }\n\n\t      // Add a cell for each day of the month, keeping track of the day of the week so that\n\t      // we know when to start a new row.\n\t      var dayOfWeek = firstDayOfTheWeek;\n\t      var iterationDate = firstDayOfMonth;\n\t      for (var d = 1; d <= numberOfDaysInMonth; d++) {\n\t        // If we've reached the end of the week, start a new row.\n\t        if (dayOfWeek === 7) {\n\t          // We've finished the first row, so we're done if this is the final month.\n\t          if (isFinalMonth) {\n\t            return monthBody;\n\t          }\n\t          dayOfWeek = 0;\n\t          rowNumber++;\n\t          row = this.buildDateRow(rowNumber);\n\t          monthBody.appendChild(row);\n\t        }\n\n\t        iterationDate.setDate(d);\n\t        var cell = this.buildDateCell(iterationDate);\n\t        row.appendChild(cell);\n\n\t        dayOfWeek++;\n\t      }\n\n\t      // Ensure that the last row of the month has 7 cells.\n\t      while (row.childNodes.length < 7) {\n\t        row.appendChild(this.buildDateCell());\n\t      }\n\n\t      // Ensure that all months have 6 rows. This is necessary for now because the virtual-repeat\n\t      // requires that all items have exactly the same height.\n\t      while (monthBody.childNodes.length < 6) {\n\t        var whitespaceRow = this.buildDateRow();\n\t        for (var i = 0; i < 7; i++) {\n\t          whitespaceRow.appendChild(this.buildDateCell());\n\t        }\n\t        monthBody.appendChild(whitespaceRow);\n\t      }\n\n\t      return monthBody;\n\t    };\n\n\t    /**\n\t     * Gets the day-of-the-week index for a date for the current locale.\n\t     * @private\n\t     * @param {Date} date\n\t     * @returns {number} The column index of the date in the calendar.\n\t     */\n\t    CalendarMonthCtrl.prototype.getLocaleDay_ = function (date) {\n\t      return (date.getDay() + (7 - this.dateLocale.firstDayOfWeek)) % 7;\n\t    };\n\t  })();\n\n\t  (function () {\n\t    'use strict';\n\n\t    /**\n\t     * @ngdoc service\n\t     * @name $mdDateLocaleProvider\n\t     * @module material.components.datepicker\n\t     *\n\t     * @description\n\t     * The `$mdDateLocaleProvider` is the provider that creates the `$mdDateLocale` service.\n\t     * This provider that allows the user to specify messages, formatters, and parsers for date\n\t     * internationalization. The `$mdDateLocale` service itself is consumed by Angular Material\n\t     * components that that deal with dates.\n\t     *\n\t     * @property {(Array<string>)=} months Array of month names (in order).\n\t     * @property {(Array<string>)=} shortMonths Array of abbreviated month names.\n\t     * @property {(Array<string>)=} days Array of the days of the week (in order).\n\t     * @property {(Array<string>)=} shortDays Array of abbreviated dayes of the week.\n\t     * @property {(Array<string>)=} dates Array of dates of the month. Only necessary for locales\n\t     *     using a numeral system other than [1, 2, 3...].\n\t     * @property {(Array<string>)=} firstDayOfWeek The first day of the week. Sunday = 0, Monday = 1,\n\t     *    etc.\n\t     * @property {(function(string): Date)=} parseDate Function to parse a date object from a string.\n\t     * @property {(function(Date): string)=} formatDate Function to format a date object to a string.\n\t     * @property {(function(Date): string)=} monthHeaderFormatter Function that returns the label for\n\t     *     a month given a date.\n\t     * @property {(function(number): string)=} weekNumberFormatter Function that returns a label for\n\t     *     a week given the week number.\n\t     * @property {(string)=} msgCalendar Translation of the label \"Calendar\" for the current locale.\n\t     * @property {(string)=} msgOpenCalendar Translation of the button label \"Open calendar\" for the\n\t     *     current locale.\n\t     *\n\t     * @usage\n\t     * <hljs lang=\"js\">\n\t     *   myAppModule.config(function($mdDateLocaleProvider) {\n\t     *\n\t     *     // Example of a French localization.\n\t     *     $mdDateLocaleProvider.months = ['janvier', 'février', 'mars', ...];\n\t     *     $mdDateLocaleProvider.shortMonths = ['janv', 'févr', 'mars', ...];\n\t     *     $mdDateLocaleProvider.days = ['dimanche', 'lundi', 'mardi', ...];\n\t     *     $mdDateLocaleProvider.shortDays = ['Di', 'Lu', 'Ma', ...];\n\t     *\n\t     *     // Can change week display to start on Monday.\n\t     *     $mdDateLocaleProvider.firstDayOfWeek = 1;\n\t     *\n\t     *     // Optional.\n\t     *     $mdDateLocaleProvider.dates = [1, 2, 3, 4, 5, 6, ...];\n\t     *\n\t     *     // Example uses moment.js to parse and format dates.\n\t     *     $mdDateLocaleProvider.parseDate = function(dateString) {\n\t     *       var m = moment(dateString, 'L', true);\n\t     *       return m.isValid() ? m.toDate() : new Date(NaN);\n\t     *     };\n\t     *\n\t     *     $mdDateLocaleProvider.formatDate = function(date) {\n\t     *       return moment(date).format('L');\n\t     *     };\n\t     *\n\t     *     $mdDateLocaleProvider.monthHeaderFormatter = function(date) {\n\t     *       return myShortMonths[date.getMonth()] + ' ' + date.getFullYear();\n\t     *     };\n\t     *\n\t     *     // In addition to date display, date components also need localized messages\n\t     *     // for aria-labels for screen-reader users.\n\t     *\n\t     *     $mdDateLocaleProvider.weekNumberFormatter = function(weekNumber) {\n\t     *       return 'Semaine ' + weekNumber;\n\t     *     };\n\t     *\n\t     *     $mdDateLocaleProvider.msgCalendar = 'Calendrier';\n\t     *     $mdDateLocaleProvider.msgOpenCalendar = 'Ouvrir le calendrier';\n\t     *\n\t     * });\n\t     * </hljs>\n\t     *\n\t     */\n\n\t    angular.module('material.components.datepicker').config([\"$provide\", function ($provide) {\n\t      // TODO(jelbourn): Assert provided values are correctly formatted. Need assertions.\n\n\t      /** @constructor */\n\t      function DateLocaleProvider() {\n\t        /** Array of full month names. E.g., ['January', 'Febuary', ...] */\n\t        this.months = null;\n\n\t        /** Array of abbreviated month names. E.g., ['Jan', 'Feb', ...] */\n\t        this.shortMonths = null;\n\n\t        /** Array of full day of the week names. E.g., ['Monday', 'Tuesday', ...] */\n\t        this.days = null;\n\n\t        /** Array of abbreviated dat of the week names. E.g., ['M', 'T', ...] */\n\t        this.shortDays = null;\n\n\t        /** Array of dates of a month (1 - 31). Characters might be different in some locales. */\n\t        this.dates = null;\n\n\t        /** Index of the first day of the week. 0 = Sunday, 1 = Monday, etc. */\n\t        this.firstDayOfWeek = 0;\n\n\t        /**\n\t         * Function that converts the date portion of a Date to a string.\n\t         * @type {(function(Date): string)}\n\t         */\n\t        this.formatDate = null;\n\n\t        /**\n\t         * Function that converts a date string to a Date object (the date portion)\n\t         * @type {function(string): Date}\n\t         */\n\t        this.parseDate = null;\n\n\t        /**\n\t         * Function that formats a Date into a month header string.\n\t         * @type {function(Date): string}\n\t         */\n\t        this.monthHeaderFormatter = null;\n\n\t        /**\n\t         * Function that formats a week number into a label for the week.\n\t         * @type {function(number): string}\n\t         */\n\t        this.weekNumberFormatter = null;\n\n\t        /**\n\t         * Function that formats a date into a long aria-label that is read\n\t         * when the focused date changes.\n\t         * @type {function(Date): string}\n\t         */\n\t        this.longDateFormatter = null;\n\n\t        /**\n\t         * ARIA label for the calendar \"dialog\" used in the datepicker.\n\t         * @type {string}\n\t         */\n\t        this.msgCalendar = '';\n\n\t        /**\n\t         * ARIA label for the datepicker's \"Open calendar\" buttons.\n\t         * @type {string}\n\t         */\n\t        this.msgOpenCalendar = '';\n\t      }\n\n\t      /**\n\t       * Factory function that returns an instance of the dateLocale service.\n\t       * ngInject\n\t       * @param $locale\n\t       * @returns {DateLocale}\n\t       */\n\t      DateLocaleProvider.prototype.$get = function ($locale) {\n\t        /**\n\t         * Default date-to-string formatting function.\n\t         * @param {!Date} date\n\t         * @returns {string}\n\t         */\n\t        function defaultFormatDate(date) {\n\t          if (!date) {\n\t            return '';\n\t          }\n\n\t          // All of the dates created through ng-material *should* be set to midnight.\n\t          // If we encounter a date where the localeTime shows at 11pm instead of midnight,\n\t          // we have run into an issue with DST where we need to increment the hour by one:\n\t          // var d = new Date(1992, 9, 8, 0, 0, 0);\n\t          // d.toLocaleString(); // == \"10/7/1992, 11:00:00 PM\"\n\t          var localeTime = date.toLocaleTimeString();\n\t          var formatDate = date;\n\t          if (date.getHours() == 0 && (localeTime.indexOf('11:') !== -1 || localeTime.indexOf('23:') !== -1)) {\n\t            formatDate = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 1, 0, 0);\n\t          }\n\n\t          return formatDate.toLocaleDateString();\n\t        }\n\n\t        /**\n\t         * Default string-to-date parsing function.\n\t         * @param {string} dateString\n\t         * @returns {!Date}\n\t         */\n\t        function defaultParseDate(dateString) {\n\t          return new Date(dateString);\n\t        }\n\n\t        /**\n\t         * Default function to determine whether a string makes sense to be\n\t         * parsed to a Date object.\n\t         *\n\t         * This is very permissive and is just a basic sanity check to ensure that\n\t         * things like single integers aren't able to be parsed into dates.\n\t         * @param {string} dateString\n\t         * @returns {boolean}\n\t         */\n\t        function defaultIsDateComplete(dateString) {\n\t          dateString = dateString.trim();\n\n\t          // Looks for three chunks of content (either numbers or text) separated\n\t          // by delimiters.\n\t          var re = /^(([a-zA-Z]{3,}|[0-9]{1,4})([ \\.,]+|[\\/\\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/;\n\t          return re.test(dateString);\n\t        }\n\n\t        /**\n\t         * Default date-to-string formatter to get a month header.\n\t         * @param {!Date} date\n\t         * @returns {string}\n\t         */\n\t        function defaultMonthHeaderFormatter(date) {\n\t          return service.shortMonths[date.getMonth()] + ' ' + date.getFullYear();\n\t        }\n\n\t        /**\n\t         * Default week number formatter.\n\t         * @param number\n\t         * @returns {string}\n\t         */\n\t        function defaultWeekNumberFormatter(number) {\n\t          return 'Week ' + number;\n\t        }\n\n\t        /**\n\t         * Default formatter for date cell aria-labels.\n\t         * @param {!Date} date\n\t         * @returns {string}\n\t         */\n\t        function defaultLongDateFormatter(date) {\n\t          // Example: 'Thursday June 18 2015'\n\t          return [service.days[date.getDay()], service.months[date.getMonth()], service.dates[date.getDate()], date.getFullYear()].join(' ');\n\t        }\n\n\t        // The default \"short\" day strings are the first character of each day,\n\t        // e.g., \"Monday\" => \"M\".\n\t        var defaultShortDays = $locale.DATETIME_FORMATS.DAY.map(function (day) {\n\t          return day[0];\n\t        });\n\n\t        var pieShortDays = [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"];\n\n\t        // The default dates are simply the numbers 1 through 31.\n\t        var defaultDates = Array(32);\n\t        for (var i = 1; i <= 31; i++) {\n\t          defaultDates[i] = i;\n\t        }\n\n\t        // Default ARIA messages are in English (US).\n\t        var defaultMsgCalendar = 'Calendar';\n\t        var defaultMsgOpenCalendar = 'Open calendar';\n\n\t        var service = {\n\t          months: this.months || $locale.DATETIME_FORMATS.MONTH,\n\t          shortMonths: this.shortMonths || $locale.DATETIME_FORMATS.SHORTMONTH,\n\t          days: this.days || $locale.DATETIME_FORMATS.DAY,\n\t          shortDays: this.shortDays || pieShortDays || defaultShortDays,\n\t          dates: this.dates || defaultDates,\n\t          firstDayOfWeek: this.firstDayOfWeek || 0,\n\t          formatDate: this.formatDate || defaultFormatDate,\n\t          parseDate: this.parseDate || defaultParseDate,\n\t          isDateComplete: this.isDateComplete || defaultIsDateComplete,\n\t          monthHeaderFormatter: this.monthHeaderFormatter || defaultMonthHeaderFormatter,\n\t          weekNumberFormatter: this.weekNumberFormatter || defaultWeekNumberFormatter,\n\t          longDateFormatter: this.longDateFormatter || defaultLongDateFormatter,\n\t          msgCalendar: this.msgCalendar || defaultMsgCalendar,\n\t          msgOpenCalendar: this.msgOpenCalendar || defaultMsgOpenCalendar\n\t        };\n\n\t        return service;\n\t      };\n\t      DateLocaleProvider.prototype.$get.$inject = [\"$locale\"];\n\n\t      $provide.provider('$mdDateLocale', new DateLocaleProvider());\n\t    }]);\n\t  })();\n\n\t  (function () {\n\t    'use strict';\n\n\t    // POST RELEASE\n\t    // TODO(jelbourn): Demo that uses moment.js\n\t    // TODO(jelbourn): make sure this plays well with validation and ngMessages.\n\t    // TODO(jelbourn): calendar pane doesn't open up outside of visible viewport.\n\t    // TODO(jelbourn): forward more attributes to the internal input (required, autofocus, etc.)\n\t    // TODO(jelbourn): something better for mobile (calendar panel takes up entire screen?)\n\t    // TODO(jelbourn): input behavior (masking? auto-complete?)\n\t    // TODO(jelbourn): UTC mode\n\t    // TODO(jelbourn): RTL\n\n\t    angular.module('material.components.datepicker').directive('mdDatepicker', datePickerDirective);\n\n\t    /**\n\t     * @ngdoc directive\n\t     * @name mdDatepicker\n\t     * @module material.components.datepicker\n\t     *\n\t     * @param {Date} ng-model The component's model. Expects a JavaScript Date object.\n\t     * @param {expression=} ng-change Expression evaluated when the model value changes.\n\t     * @param {Date=} md-min-date Expression representing a min date (inclusive).\n\t     * @param {Date=} md-max-date Expression representing a max date (inclusive).\n\t     * @param {(function(Date): boolean)=} md-date-filter Function expecting a date and returning a boolean whether it can be selected or not.\n\t     * @param {String=} md-placeholder The date input placeholder value.\n\t     * @param {boolean=} ng-disabled Whether the datepicker is disabled.\n\t     * @param {boolean=} ng-required Whether a value is required for the datepicker.\n\t     *\n\t     * @description\n\t     * `<md-datepicker>` is a component used to select a single date.\n\t     * For information on how to configure internationalization for the date picker,\n\t     * see `$mdDateLocaleProvider`.\n\t     *\n\t     * This component supports [ngMessages](https://docs.angularjs.org/api/ngMessages/directive/ngMessages).\n\t     * Supported attributes are:\n\t     * * `required`: whether a required date is not set.\n\t     * * `mindate`: whether the selected date is before the minimum allowed date.\n\t     * * `maxdate`: whether the selected date is after the maximum allowed date.\n\t     *\n\t     * @usage\n\t     * <hljs lang=\"html\">\n\t     *   <md-datepicker ng-model=\"birthday\"></md-datepicker>\n\t     * </hljs>\n\t     *\n\t     */\n\t    function datePickerDirective() {\n\t      return {\n\t        template:\n\t        // Buttons are not in the tab order because users can open the calendar via keyboard\n\t        // interaction on the text input, and multiple tab stops for one component (picker)\n\t        // may be confusing.\n\t        '<md-button class=\"md-datepicker-button md-icon-button\" type=\"button\" ' + 'tabindex=\"-1\" aria-hidden=\"true\" ' + 'ng-click=\"ctrl.openCalendarPane($event)\">' + '<md-icon class=\"md-datepicker-calendar-icon\" md-svg-icon=\"md-calendar\"></md-icon>' + '</md-button>' + '<div class=\"md-datepicker-input-container\" ' + 'ng-class=\"{\\'md-datepicker-focused\\': ctrl.isFocused}\">' + '<input class=\"md-datepicker-input\" aria-haspopup=\"true\" ' + 'ng-focus=\"ctrl.setFocused(true)\" ng-blur=\"ctrl.setFocused(false)\">' + '<md-button type=\"button\" md-no-ink ' + 'class=\"md-datepicker-triangle-button md-icon-button\" ' + 'ng-click=\"ctrl.openCalendarPane($event)\" ' + 'aria-label=\"{{::ctrl.dateLocale.msgOpenCalendar}}\">' + '<div class=\"md-datepicker-expand-triangle\"></div>' + '</md-button>' + '</div>' +\n\n\t        // This pane will be detached from here and re-attached to the document body.\n\t        '<div class=\"md-datepicker-calendar-pane md-whiteframe-z1\">' + '<div class=\"md-datepicker-input-mask\">' + '<div class=\"md-datepicker-input-mask-opaque\"></div>' + '</div>' + '<div class=\"md-datepicker-calendar\">' + '<md-calendar role=\"dialog\" aria-label=\"{{::ctrl.dateLocale.msgCalendar}}\" ' + 'md-min-date=\"ctrl.minDate\" md-max-date=\"ctrl.maxDate\"' + 'md-date-filter=\"ctrl.dateFilter\"' + 'ng-model=\"ctrl.date\" ng-if=\"ctrl.isCalendarOpen\">' + '</md-calendar>' + '</div>' + '</div>',\n\t        require: ['ngModel', 'mdDatepicker', '?^mdInputContainer'],\n\t        scope: {\n\t          minDate: '=mdMinDate',\n\t          maxDate: '=mdMaxDate',\n\t          placeholder: '@mdPlaceholder',\n\t          dateFilter: '=mdDateFilter'\n\t        },\n\t        controller: DatePickerCtrl,\n\t        controllerAs: 'ctrl',\n\t        bindToController: true,\n\t        link: function link(scope, element, attr, controllers) {\n\t          var ngModelCtrl = controllers[0];\n\t          var mdDatePickerCtrl = controllers[1];\n\n\t          var mdInputContainer = controllers[2];\n\t          if (mdInputContainer) {\n\t            throw Error('md-datepicker should not be placed inside md-input-container.');\n\t          }\n\n\t          mdDatePickerCtrl.configureNgModel(ngModelCtrl);\n\t        }\n\t      };\n\t    }\n\n\t    /** Additional offset for the input's `size` attribute, which is updated based on its content. */\n\t    var EXTRA_INPUT_SIZE = 3;\n\n\t    /** Class applied to the container if the date is invalid. */\n\t    var INVALID_CLASS = 'md-datepicker-invalid';\n\n\t    /** Default time in ms to debounce input event by. */\n\t    var DEFAULT_DEBOUNCE_INTERVAL = 500;\n\n\t    /**\n\t     * Height of the calendar pane used to check if the pane is going outside the boundary of\n\t     * the viewport. See calendar.scss for how $md-calendar-height is computed; an extra 20px is\n\t     * also added to space the pane away from the exact edge of the screen.\n\t     *\n\t     *  This is computed statically now, but can be changed to be measured if the circumstances\n\t     *  of calendar sizing are changed.\n\t     */\n\t    var CALENDAR_PANE_HEIGHT = 368;\n\n\t    /**\n\t     * Width of the calendar pane used to check if the pane is going outside the boundary of\n\t     * the viewport. See calendar.scss for how $md-calendar-width is computed; an extra 20px is\n\t     * also added to space the pane away from the exact edge of the screen.\n\t     *\n\t     *  This is computed statically now, but can be changed to be measured if the circumstances\n\t     *  of calendar sizing are changed.\n\t     */\n\t    var CALENDAR_PANE_WIDTH = 360;\n\n\t    /**\n\t     * Controller for md-datepicker.\n\t     *\n\t     * ngInject @constructor\n\t     */\n\t    function DatePickerCtrl($scope, $element, $attrs, $compile, $timeout, $window, $mdConstant, $mdTheming, $mdUtil, $mdDateLocale, $$mdDateUtil, $$rAF) {\n\t      /** @final */\n\t      this.$compile = $compile;\n\n\t      /** @final */\n\t      this.$timeout = $timeout;\n\n\t      /** @final */\n\t      this.$window = $window;\n\n\t      /** @final */\n\t      this.dateLocale = $mdDateLocale;\n\n\t      /** @final */\n\t      this.dateUtil = $$mdDateUtil;\n\n\t      /** @final */\n\t      this.$mdConstant = $mdConstant;\n\n\t      /* @final */\n\t      this.$mdUtil = $mdUtil;\n\n\t      /** @final */\n\t      this.$$rAF = $$rAF;\n\n\t      /**\n\t       * The root document element. This is used for attaching a top-level click handler to\n\t       * close the calendar panel when a click outside said panel occurs. We use `documentElement`\n\t       * instead of body because, when scrolling is disabled, some browsers consider the body element\n\t       * to be completely off the screen and propagate events directly to the html element.\n\t       * @type {!angular.JQLite}\n\t       */\n\t      this.documentElement = angular.element(document.documentElement);\n\n\t      /** @type {!angular.NgModelController} */\n\t      this.ngModelCtrl = null;\n\n\t      /** @type {HTMLInputElement} */\n\t      this.inputElement = $element[0].querySelector('input');\n\n\t      /** @final {!angular.JQLite} */\n\t      this.ngInputElement = angular.element(this.inputElement);\n\n\t      /** @type {HTMLElement} */\n\t      this.inputContainer = $element[0].querySelector('.md-datepicker-input-container');\n\n\t      /** @type {HTMLElement} Floating calendar pane. */\n\t      this.calendarPane = $element[0].querySelector('.md-datepicker-calendar-pane');\n\n\t      /** @type {HTMLElement} Calendar icon button. */\n\t      this.calendarButton = $element[0].querySelector('.md-datepicker-button');\n\n\t      /**\n\t       * Element covering everything but the input in the top of the floating calendar pane.\n\t       * @type {HTMLElement}\n\t       */\n\t      this.inputMask = $element[0].querySelector('.md-datepicker-input-mask-opaque');\n\n\t      /** @final {!angular.JQLite} */\n\t      this.$element = $element;\n\n\t      /** @final {!angular.Attributes} */\n\t      this.$attrs = $attrs;\n\n\t      /** @final {!angular.Scope} */\n\t      this.$scope = $scope;\n\n\t      /** @type {Date} */\n\t      this.date = null;\n\n\t      /** @type {boolean} */\n\t      this.isFocused = false;\n\n\t      /** @type {boolean} */\n\t      this.isDisabled;\n\t      this.setDisabled($element[0].disabled || angular.isString($attrs['disabled']));\n\n\t      /** @type {boolean} Whether the date-picker's calendar pane is open. */\n\t      this.isCalendarOpen = false;\n\n\t      /**\n\t       * Element from which the calendar pane was opened. Keep track of this so that we can return\n\t       * focus to it when the pane is closed.\n\t       * @type {HTMLElement}\n\t       */\n\t      this.calendarPaneOpenedFrom = null;\n\n\t      this.calendarPane.id = 'md-date-pane' + $mdUtil.nextUid();\n\n\t      $mdTheming($element);\n\n\t      /** Pre-bound click handler is saved so that the event listener can be removed. */\n\t      this.bodyClickHandler = angular.bind(this, this.handleBodyClick);\n\n\t      /** Pre-bound resize handler so that the event listener can be removed. */\n\t      this.windowResizeHandler = $mdUtil.debounce(angular.bind(this, this.closeCalendarPane), 100);\n\n\t      // Unless the user specifies so, the datepicker should not be a tab stop.\n\t      // This is necessary because ngAria might add a tabindex to anything with an ng-model\n\t      // (based on whether or not the user has turned that particular feature on/off).\n\t      if (!$attrs['tabindex']) {\n\t        $element.attr('tabindex', '-1');\n\t      }\n\n\t      this.installPropertyInterceptors();\n\t      this.attachChangeListeners();\n\t      this.attachInteractionListeners();\n\n\t      var self = this;\n\t      $scope.$on('$destroy', function () {\n\t        self.detachCalendarPane();\n\t      });\n\t    }\n\t    DatePickerCtrl.$inject = [\"$scope\", \"$element\", \"$attrs\", \"$compile\", \"$timeout\", \"$window\", \"$mdConstant\", \"$mdTheming\", \"$mdUtil\", \"$mdDateLocale\", \"$$mdDateUtil\", \"$$rAF\"];\n\n\t    /**\n\t     * Sets up the controller's reference to ngModelController.\n\t     * @param {!angular.NgModelController} ngModelCtrl\n\t     */\n\t    DatePickerCtrl.prototype.configureNgModel = function (ngModelCtrl) {\n\t      this.ngModelCtrl = ngModelCtrl;\n\n\t      var self = this;\n\t      ngModelCtrl.$render = function () {\n\t        var value = self.ngModelCtrl.$viewValue;\n\n\t        if (value && !(value instanceof Date)) {\n\t          throw Error('The ng-model for md-datepicker must be a Date instance. ' + 'Currently the model is a: ' + typeof value);\n\t        }\n\n\t        self.date = value;\n\t        self.inputElement.value = self.dateLocale.formatDate(value);\n\t        self.resizeInputElement();\n\t        self.updateErrorState();\n\t      };\n\t    };\n\n\t    /**\n\t     * Attach event listeners for both the text input and the md-calendar.\n\t     * Events are used instead of ng-model so that updates don't infinitely update the other\n\t     * on a change. This should also be more performant than using a $watch.\n\t     */\n\t    DatePickerCtrl.prototype.attachChangeListeners = function () {\n\t      var self = this;\n\n\t      self.$scope.$on('md-calendar-change', function (event, date) {\n\t        self.ngModelCtrl.$setViewValue(date);\n\t        self.date = date;\n\t        self.inputElement.value = self.dateLocale.formatDate(date);\n\t        self.closeCalendarPane();\n\t        self.resizeInputElement();\n\t        self.updateErrorState();\n\t      });\n\n\t      self.ngInputElement.on('input', angular.bind(self, self.resizeInputElement));\n\t      // TODO(chenmike): Add ability for users to specify this interval.\n\t      self.ngInputElement.on('input', self.$mdUtil.debounce(self.handleInputEvent, DEFAULT_DEBOUNCE_INTERVAL, self));\n\t    };\n\n\t    /** Attach event listeners for user interaction. */\n\t    DatePickerCtrl.prototype.attachInteractionListeners = function () {\n\t      var self = this;\n\t      var $scope = this.$scope;\n\t      var keyCodes = this.$mdConstant.KEY_CODE;\n\n\t      // Add event listener through angular so that we can triggerHandler in unit tests.\n\t      self.ngInputElement.on('keydown', function (event) {\n\t        if (event.altKey && event.keyCode == keyCodes.DOWN_ARROW) {\n\t          self.openCalendarPane(event);\n\t          $scope.$digest();\n\t        }\n\t      });\n\n\t      $scope.$on('md-calendar-close', function () {\n\t        self.closeCalendarPane();\n\t      });\n\t    };\n\n\t    /**\n\t     * Capture properties set to the date-picker and imperitively handle internal changes.\n\t     * This is done to avoid setting up additional $watches.\n\t     */\n\t    DatePickerCtrl.prototype.installPropertyInterceptors = function () {\n\t      var self = this;\n\n\t      if (this.$attrs['ngDisabled']) {\n\t        // The expression is to be evaluated against the directive element's scope and not\n\t        // the directive's isolate scope.\n\t        var scope = this.$mdUtil.validateScope(this.$element) ? this.$element.scope() : null;\n\n\t        if (scope) {\n\t          scope.$watch(this.$attrs['ngDisabled'], function (isDisabled) {\n\t            self.setDisabled(isDisabled);\n\t          });\n\t        }\n\t      }\n\n\t      Object.defineProperty(this, 'placeholder', {\n\t        get: function get() {\n\t          return self.inputElement.placeholder;\n\t        },\n\t        set: function set(value) {\n\t          self.inputElement.placeholder = value || '';\n\t        }\n\t      });\n\t    };\n\n\t    /**\n\t     * Sets whether the date-picker is disabled.\n\t     * @param {boolean} isDisabled\n\t     */\n\t    DatePickerCtrl.prototype.setDisabled = function (isDisabled) {\n\t      this.isDisabled = isDisabled;\n\t      this.inputElement.disabled = isDisabled;\n\t      this.calendarButton.disabled = isDisabled;\n\t    };\n\n\t    /**\n\t     * Sets the custom ngModel.$error flags to be consumed by ngMessages. Flags are:\n\t     *   - mindate: whether the selected date is before the minimum date.\n\t     *   - maxdate: whether the selected flag is after the maximum date.\n\t     *   - filtered: whether the selected date is allowed by the custom filtering function.\n\t     *   - valid: whether the entered text input is a valid date\n\t     *\n\t     * The 'required' flag is handled automatically by ngModel.\n\t     *\n\t     * @param {Date=} opt_date Date to check. If not given, defaults to the datepicker's model value.\n\t     */\n\t    DatePickerCtrl.prototype.updateErrorState = function (opt_date) {\n\t      var date = opt_date || this.date;\n\n\t      // Clear any existing errors to get rid of anything that's no longer relevant.\n\t      this.clearErrorState();\n\n\t      if (this.dateUtil.isValidDate(date)) {\n\t        if (this.dateUtil.isValidDate(this.minDate)) {\n\t          this.ngModelCtrl.$setValidity('mindate', date >= this.minDate);\n\t        }\n\n\t        if (this.dateUtil.isValidDate(this.maxDate)) {\n\t          this.ngModelCtrl.$setValidity('maxdate', date <= this.maxDate);\n\t        }\n\n\t        if (angular.isFunction(this.dateFilter)) {\n\t          this.ngModelCtrl.$setValidity('filtered', this.dateFilter(date));\n\t        }\n\t      } else {\n\t        // The date is seen as \"not a valid date\" if there is *something* set\n\t        // (i.e.., not null or undefined), but that something isn't a valid date.\n\t        this.ngModelCtrl.$setValidity('valid', date == null);\n\t      }\n\n\t      // TODO(jelbourn): Change this to classList.toggle when we stop using PhantomJS in unit tests\n\t      // because it doesn't conform to the DOMTokenList spec.\n\t      // See https://github.com/ariya/phantomjs/issues/12782.\n\t      if (!this.ngModelCtrl.$valid) {\n\t        this.inputContainer.classList.add(INVALID_CLASS);\n\t      }\n\t    };\n\n\t    /** Clears any error flags set by `updateErrorState`. */\n\t    DatePickerCtrl.prototype.clearErrorState = function () {\n\t      this.inputContainer.classList.remove(INVALID_CLASS);\n\t      ['mindate', 'maxdate', 'filtered', 'valid'].forEach(function (field) {\n\t        this.ngModelCtrl.$setValidity(field, true);\n\t      }, this);\n\t    };\n\n\t    /** Resizes the input element based on the size of its content. */\n\t    DatePickerCtrl.prototype.resizeInputElement = function () {\n\t      this.inputElement.size = this.inputElement.value.length + EXTRA_INPUT_SIZE;\n\t    };\n\n\t    /**\n\t     * Sets the model value if the user input is a valid date.\n\t     * Adds an invalid class to the input element if not.\n\t     */\n\t    DatePickerCtrl.prototype.handleInputEvent = function () {\n\t      var inputString = this.inputElement.value;\n\t      var parsedDate = inputString ? this.dateLocale.parseDate(inputString) : null;\n\t      this.dateUtil.setDateTimeToMidnight(parsedDate);\n\n\t      // An input string is valid if it is either empty (representing no date)\n\t      // or if it parses to a valid date that the user is allowed to select.\n\t      var isValidInput = inputString == '' || this.dateUtil.isValidDate(parsedDate) && this.dateLocale.isDateComplete(inputString) && this.isDateEnabled(parsedDate);\n\n\t      // The datepicker's model is only updated when there is a valid input.\n\t      if (isValidInput) {\n\t        this.ngModelCtrl.$setViewValue(parsedDate);\n\t        this.date = parsedDate;\n\t      }\n\n\t      this.updateErrorState(parsedDate);\n\t    };\n\n\t    /**\n\t     * Check whether date is in range and enabled\n\t     * @param {Date=} opt_date\n\t     * @return {boolean} Whether the date is enabled.\n\t     */\n\t    DatePickerCtrl.prototype.isDateEnabled = function (opt_date) {\n\t      return this.dateUtil.isDateWithinRange(opt_date, this.minDate, this.maxDate) && (!angular.isFunction(this.dateFilter) || this.dateFilter(opt_date));\n\t    };\n\n\t    /** Position and attach the floating calendar to the document. */\n\t    DatePickerCtrl.prototype.attachCalendarPane = function () {\n\t      var calendarPane = this.calendarPane;\n\t      calendarPane.style.transform = '';\n\t      this.$element.addClass('md-datepicker-open');\n\n\t      var elementRect = this.inputContainer.getBoundingClientRect();\n\t      var bodyRect = document.body.getBoundingClientRect();\n\n\t      // Check to see if the calendar pane would go off the screen. If so, adjust position\n\t      // accordingly to keep it within the viewport.\n\t      var paneTop = elementRect.top - bodyRect.top;\n\t      var paneLeft = elementRect.left - bodyRect.left;\n\n\t      // If ng-material has disabled body scrolling (for example, if a dialog is open),\n\t      // then it's possible that the already-scrolled body has a negative top/left. In this case,\n\t      // we want to treat the \"real\" top as (0 - bodyRect.top). In a normal scrolling situation,\n\t      // though, the top of the viewport should just be the body's scroll position.\n\t      var viewportTop = bodyRect.top < 0 && document.body.scrollTop == 0 ? -bodyRect.top : document.body.scrollTop;\n\n\t      var viewportLeft = bodyRect.left < 0 && document.body.scrollLeft == 0 ? -bodyRect.left : document.body.scrollLeft;\n\n\t      var viewportBottom = viewportTop + this.$window.innerHeight;\n\t      var viewportRight = viewportLeft + this.$window.innerWidth;\n\n\t      // If the right edge of the pane would be off the screen and shifting it left by the\n\t      // difference would not go past the left edge of the screen. If the calendar pane is too\n\t      // big to fit on the screen at all, move it to the left of the screen and scale the entire\n\t      // element down to fit.\n\t      if (paneLeft + CALENDAR_PANE_WIDTH > viewportRight) {\n\t        if (viewportRight - CALENDAR_PANE_WIDTH > 0) {\n\t          paneLeft = viewportRight - CALENDAR_PANE_WIDTH;\n\t        } else {\n\t          paneLeft = viewportLeft;\n\t          var scale = this.$window.innerWidth / CALENDAR_PANE_WIDTH;\n\t          calendarPane.style.transform = 'scale(' + scale + ')';\n\t        }\n\n\t        calendarPane.classList.add('md-datepicker-pos-adjusted');\n\t      }\n\n\t      // If the bottom edge of the pane would be off the screen and shifting it up by the\n\t      // difference would not go past the top edge of the screen.\n\t      if (paneTop + CALENDAR_PANE_HEIGHT > viewportBottom && viewportBottom - CALENDAR_PANE_HEIGHT > viewportTop) {\n\t        paneTop = viewportBottom - CALENDAR_PANE_HEIGHT;\n\t        calendarPane.classList.add('md-datepicker-pos-adjusted');\n\t      }\n\n\t      calendarPane.style.left = paneLeft + 'px';\n\t      calendarPane.style.top = paneTop + 'px';\n\t      document.body.appendChild(calendarPane);\n\n\t      // The top of the calendar pane is a transparent box that shows the text input underneath.\n\t      // Since the pane is floating, though, the page underneath the pane *adjacent* to the input is\n\t      // also shown unless we cover it up. The inputMask does this by filling up the remaining space\n\t      // based on the width of the input.\n\t      this.inputMask.style.left = elementRect.width + 'px';\n\n\t      // Add CSS class after one frame to trigger open animation.\n\t      this.$$rAF(function () {\n\t        calendarPane.classList.add('md-pane-open');\n\t      });\n\t    };\n\n\t    /** Detach the floating calendar pane from the document. */\n\t    DatePickerCtrl.prototype.detachCalendarPane = function () {\n\t      this.$element.removeClass('md-datepicker-open');\n\t      this.calendarPane.classList.remove('md-pane-open');\n\t      this.calendarPane.classList.remove('md-datepicker-pos-adjusted');\n\n\t      if (this.calendarPane.parentNode) {\n\t        // Use native DOM removal because we do not want any of the angular state of this element\n\t        // to be disposed.\n\t        this.calendarPane.parentNode.removeChild(this.calendarPane);\n\t      }\n\t    };\n\n\t    /**\n\t     * Open the floating calendar pane.\n\t     * @param {Event} event\n\t     */\n\t    DatePickerCtrl.prototype.openCalendarPane = function (event) {\n\t      if (!this.isCalendarOpen && !this.isDisabled) {\n\t        this.isCalendarOpen = true;\n\t        this.calendarPaneOpenedFrom = event.target;\n\n\t        // Because the calendar pane is attached directly to the body, it is possible that the\n\t        // rest of the component (input, etc) is in a different scrolling container, such as\n\t        // an md-content. This means that, if the container is scrolled, the pane would remain\n\t        // stationary. To remedy this, we disable scrolling while the calendar pane is open, which\n\t        // also matches the native behavior for things like `<select>` on Mac and Windows.\n\t        this.$mdUtil.disableScrollAround(this.calendarPane);\n\n\t        this.attachCalendarPane();\n\t        this.focusCalendar();\n\n\t        // Attach click listener inside of a timeout because, if this open call was triggered by a\n\t        // click, we don't want it to be immediately propogated up to the body and handled.\n\t        var self = this;\n\t        this.$mdUtil.nextTick(function () {\n\t          // Use 'touchstart` in addition to click in order to work on iOS Safari, where click\n\t          // events aren't propogated under most circumstances.\n\t          // See http://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n\t          self.documentElement.on('click touchstart', self.bodyClickHandler);\n\t        }, false);\n\n\t        window.addEventListener('resize', this.windowResizeHandler);\n\t      }\n\t    };\n\n\t    /** Close the floating calendar pane. */\n\t    DatePickerCtrl.prototype.closeCalendarPane = function () {\n\t      if (this.isCalendarOpen) {\n\t        this.isCalendarOpen = false;\n\t        this.detachCalendarPane();\n\t        this.calendarPaneOpenedFrom.focus();\n\t        this.calendarPaneOpenedFrom = null;\n\t        this.$mdUtil.enableScrolling();\n\n\t        this.documentElement.off('click touchstart', this.bodyClickHandler);\n\t        window.removeEventListener('resize', this.windowResizeHandler);\n\t      }\n\t    };\n\n\t    /** Gets the controller instance for the calendar in the floating pane. */\n\t    DatePickerCtrl.prototype.getCalendarCtrl = function () {\n\t      return angular.element(this.calendarPane.querySelector('md-calendar')).controller('mdCalendar');\n\t    };\n\n\t    /** Focus the calendar in the floating pane. */\n\t    DatePickerCtrl.prototype.focusCalendar = function () {\n\t      // Use a timeout in order to allow the calendar to be rendered, as it is gated behind an ng-if.\n\t      var self = this;\n\t      this.$mdUtil.nextTick(function () {\n\t        self.getCalendarCtrl().focus();\n\t      }, false);\n\t    };\n\n\t    /**\n\t     * Sets whether the input is currently focused.\n\t     * @param {boolean} isFocused\n\t     */\n\t    DatePickerCtrl.prototype.setFocused = function (isFocused) {\n\t      this.isFocused = isFocused;\n\t    };\n\n\t    /**\n\t     * Handles a click on the document body when the floating calendar pane is open.\n\t     * Closes the floating calendar pane if the click is not inside of it.\n\t     * @param {MouseEvent} event\n\t     */\n\t    DatePickerCtrl.prototype.handleBodyClick = function (event) {\n\t      if (this.isCalendarOpen) {\n\t        // TODO(jelbourn): way want to also include the md-datepicker itself in this check.\n\t        var isInCalendar = this.$mdUtil.getClosest(event.target, 'md-calendar');\n\t        if (!isInCalendar) {\n\t          this.closeCalendarPane();\n\t        }\n\n\t        this.$scope.$digest();\n\t      }\n\t    };\n\t  })();\n\n\t  (function () {\n\t    'use strict';\n\n\t    /**\n\t     * Utility for performing date calculations to facilitate operation of the calendar and\n\t     * datepicker.\n\t     */\n\t    angular.module('material.components.datepicker').factory('$$mdDateUtil', function () {\n\t      return {\n\t        getFirstDateOfMonth: getFirstDateOfMonth,\n\t        getNumberOfDaysInMonth: getNumberOfDaysInMonth,\n\t        getDateInNextMonth: getDateInNextMonth,\n\t        getDateInPreviousMonth: getDateInPreviousMonth,\n\t        isInNextMonth: isInNextMonth,\n\t        isInPreviousMonth: isInPreviousMonth,\n\t        getDateMidpoint: getDateMidpoint,\n\t        isSameMonthAndYear: isSameMonthAndYear,\n\t        getWeekOfMonth: getWeekOfMonth,\n\t        incrementDays: incrementDays,\n\t        incrementMonths: incrementMonths,\n\t        getLastDateOfMonth: getLastDateOfMonth,\n\t        isSameDay: isSameDay,\n\t        getMonthDistance: getMonthDistance,\n\t        isValidDate: isValidDate,\n\t        setDateTimeToMidnight: setDateTimeToMidnight,\n\t        createDateAtMidnight: createDateAtMidnight,\n\t        isDateWithinRange: isDateWithinRange\n\t      };\n\n\t      /**\n\t       * Gets the first day of the month for the given date's month.\n\t       * @param {Date} date\n\t       * @returns {Date}\n\t       */\n\t      function getFirstDateOfMonth(date) {\n\t        return new Date(date.getFullYear(), date.getMonth(), 1);\n\t      }\n\n\t      /**\n\t       * Gets the number of days in the month for the given date's month.\n\t       * @param date\n\t       * @returns {number}\n\t       */\n\t      function getNumberOfDaysInMonth(date) {\n\t        return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n\t      }\n\n\t      /**\n\t       * Get an arbitrary date in the month after the given date's month.\n\t       * @param date\n\t       * @returns {Date}\n\t       */\n\t      function getDateInNextMonth(date) {\n\t        return new Date(date.getFullYear(), date.getMonth() + 1, 1);\n\t      }\n\n\t      /**\n\t       * Get an arbitrary date in the month before the given date's month.\n\t       * @param date\n\t       * @returns {Date}\n\t       */\n\t      function getDateInPreviousMonth(date) {\n\t        return new Date(date.getFullYear(), date.getMonth() - 1, 1);\n\t      }\n\n\t      /**\n\t       * Gets whether two dates have the same month and year.\n\t       * @param {Date} d1\n\t       * @param {Date} d2\n\t       * @returns {boolean}\n\t       */\n\t      function isSameMonthAndYear(d1, d2) {\n\t        return d1.getFullYear() === d2.getFullYear() && d1.getMonth() === d2.getMonth();\n\t      }\n\n\t      /**\n\t       * Gets whether two dates are the same day (not not necesarily the same time).\n\t       * @param {Date} d1\n\t       * @param {Date} d2\n\t       * @returns {boolean}\n\t       */\n\t      function isSameDay(d1, d2) {\n\t        return d1.getDate() == d2.getDate() && isSameMonthAndYear(d1, d2);\n\t      }\n\n\t      /**\n\t       * Gets whether a date is in the month immediately after some date.\n\t       * @param {Date} startDate The date from which to compare.\n\t       * @param {Date} endDate The date to check.\n\t       * @returns {boolean}\n\t       */\n\t      function isInNextMonth(startDate, endDate) {\n\t        var nextMonth = getDateInNextMonth(startDate);\n\t        return isSameMonthAndYear(nextMonth, endDate);\n\t      }\n\n\t      /**\n\t       * Gets whether a date is in the month immediately before some date.\n\t       * @param {Date} startDate The date from which to compare.\n\t       * @param {Date} endDate The date to check.\n\t       * @returns {boolean}\n\t       */\n\t      function isInPreviousMonth(startDate, endDate) {\n\t        var previousMonth = getDateInPreviousMonth(startDate);\n\t        return isSameMonthAndYear(endDate, previousMonth);\n\t      }\n\n\t      /**\n\t       * Gets the midpoint between two dates.\n\t       * @param {Date} d1\n\t       * @param {Date} d2\n\t       * @returns {Date}\n\t       */\n\t      function getDateMidpoint(d1, d2) {\n\t        return createDateAtMidnight((d1.getTime() + d2.getTime()) / 2);\n\t      }\n\n\t      /**\n\t       * Gets the week of the month that a given date occurs in.\n\t       * @param {Date} date\n\t       * @returns {number} Index of the week of the month (zero-based).\n\t       */\n\t      function getWeekOfMonth(date) {\n\t        var firstDayOfMonth = getFirstDateOfMonth(date);\n\t        return Math.floor((firstDayOfMonth.getDay() + date.getDate() - 1) / 7);\n\t      }\n\n\t      /**\n\t       * Gets a new date incremented by the given number of days. Number of days can be negative.\n\t       * @param {Date} date\n\t       * @param {number} numberOfDays\n\t       * @returns {Date}\n\t       */\n\t      function incrementDays(date, numberOfDays) {\n\t        return new Date(date.getFullYear(), date.getMonth(), date.getDate() + numberOfDays);\n\t      }\n\n\t      /**\n\t       * Gets a new date incremented by the given number of months. Number of months can be negative.\n\t       * If the date of the given month does not match the target month, the date will be set to the\n\t       * last day of the month.\n\t       * @param {Date} date\n\t       * @param {number} numberOfMonths\n\t       * @returns {Date}\n\t       */\n\t      function incrementMonths(date, numberOfMonths) {\n\t        // If the same date in the target month does not actually exist, the Date object will\n\t        // automatically advance *another* month by the number of missing days.\n\t        // For example, if you try to go from Jan. 30 to Feb. 30, you'll end up on March 2.\n\t        // So, we check if the month overflowed and go to the last day of the target month instead.\n\t        var dateInTargetMonth = new Date(date.getFullYear(), date.getMonth() + numberOfMonths, 1);\n\t        var numberOfDaysInMonth = getNumberOfDaysInMonth(dateInTargetMonth);\n\t        if (numberOfDaysInMonth < date.getDate()) {\n\t          dateInTargetMonth.setDate(numberOfDaysInMonth);\n\t        } else {\n\t          dateInTargetMonth.setDate(date.getDate());\n\t        }\n\n\t        return dateInTargetMonth;\n\t      }\n\n\t      /**\n\t       * Get the integer distance between two months. This *only* considers the month and year\n\t       * portion of the Date instances.\n\t       *\n\t       * @param {Date} start\n\t       * @param {Date} end\n\t       * @returns {number} Number of months between `start` and `end`. If `end` is before `start`\n\t       *     chronologically, this number will be negative.\n\t       */\n\t      function getMonthDistance(start, end) {\n\t        return 12 * (end.getFullYear() - start.getFullYear()) + (end.getMonth() - start.getMonth());\n\t      }\n\n\t      /**\n\t       * Gets the last day of the month for the given date.\n\t       * @param {Date} date\n\t       * @returns {Date}\n\t       */\n\t      function getLastDateOfMonth(date) {\n\t        return new Date(date.getFullYear(), date.getMonth(), getNumberOfDaysInMonth(date));\n\t      }\n\n\t      /**\n\t       * Checks whether a date is valid.\n\t       * @param {Date} date\n\t       * @return {boolean} Whether the date is a valid Date.\n\t       */\n\t      function isValidDate(date) {\n\t        return date != null && date.getTime && !isNaN(date.getTime());\n\t      }\n\n\t      /**\n\t       * Sets a date's time to midnight.\n\t       * @param {Date} date\n\t       */\n\t      function setDateTimeToMidnight(date) {\n\t        if (isValidDate(date)) {\n\t          date.setHours(0, 0, 0, 0);\n\t        }\n\t      }\n\n\t      /**\n\t       * Creates a date with the time set to midnight.\n\t       * Drop-in replacement for two forms of the Date constructor:\n\t       * 1. No argument for Date representing now.\n\t       * 2. Single-argument value representing number of seconds since Unix Epoch.\n\t       * @param {number=} opt_value\n\t       * @return {Date} New date with time set to midnight.\n\t       */\n\t      function createDateAtMidnight(opt_value) {\n\t        var date;\n\t        if (angular.isUndefined(opt_value)) {\n\t          date = new Date();\n\t        } else {\n\t          date = new Date(opt_value);\n\t        }\n\t        setDateTimeToMidnight(date);\n\t        return date;\n\t      }\n\n\t      /**\n\t       * Checks if a date is within a min and max range.\n\t       * If minDate or maxDate are not dates, they are ignored.\n\t       * @param {Date} date\n\t       * @param {Date} minDate\n\t       * @param {Date} maxDate\n\t       */\n\t      function isDateWithinRange(date, minDate, maxDate) {\n\t        return (!angular.isDate(minDate) || minDate <= date) && (!angular.isDate(maxDate) || maxDate >= date);\n\t      }\n\t    });\n\t  })();\n\t})(window, window.angular);\n\t/*!\n\t * Angular Material Design\n\t * https://github.com/angular/material\n\t * @license MIT\n\t * v1.0.1\n\t */\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tvar lastValidatedUIValue;\n\n\tSnap.plugin(function (Snap, Element, Paper, global, Fragment) {\n\n\t    Math.TWOPI = 2 * Math.PI;\n\n\t    Number.prototype.mod = function (n) {\n\t        return (this % n + n) % n;\n\t    };\n\n\t    Number.prototype.roundToTheNearest = function (i) {\n\t        var i = i || 1;\n\t        return Math.ceil(this / i) * i;\n\t    };\n\n\t    Paper.prototype.relativeMousePoints = function (mx, my) {\n\t        var root = this.node;\n\t        var mousePoint = root.createSVGPoint();\n\t        mousePoint.x = mx;\n\t        mousePoint.y = my;\n\t        var p = this.circle();\n\t        var transformedPoint = mousePoint.matrixTransform(p.node.getScreenCTM().inverse());\n\t        p.remove();\n\t        return transformedPoint;\n\t    };\n\n\t    Paper.prototype.limitUIValueIfNecessary = function (liveValue, min, max) {\n\n\t        var maxValue = max != undefined ? max : liveValue,\n\t            minValue = min != undefined ? min : liveValue;\n\n\t        //console.log(\"min is: \"+min);\n\t        //console.log(\"max is: \"+max);\n\t        //console.log(\"live is: \"+liveValue);\n\n\t        if (liveValue >= maxValue) {\n\t            lastValidatedUIValue = maxValue;\n\t            //console.log(\"moving too far forward, using max validated value\");\n\t        } else if (liveValue <= minValue) {\n\t                lastValidatedUIValue = minValue;\n\t                //console.log(\"going to far backward, using min validated value\");\n\t            } else {\n\t                    lastValidatedUIValue = liveValue;\n\t                    //console.log(\"using live value\");\n\t                }\n\n\t        //console.log(\"used \", lastValidatedUIValue);\n\n\t        return {\n\t            limitedValue: lastValidatedUIValue,\n\t            liveValue: liveValue\n\t        };\n\t    };\n\n\t    //deprecated\n\t    Paper.prototype.getUIValueFromMousePosition = function (settings) {\n\n\t        var liveValue = settings.valueFn(settings.mouseX, settings.mouseY),\n\t            maxValue = settings.max != undefined ? settings.max : liveValue,\n\t            minValue = settings.min != undefined ? settings.min : liveValue;\n\n\t        console.log(\"min is: \" + settings.min);\n\t        console.log(\"max is: \" + settings.max);\n\n\t        if (liveValue > maxValue) {\n\t            lastValidatedUIValue = maxValue;\n\t            console.log(\"moving too far forward, using max validated value\");\n\t        } else if (liveValue < minValue) {\n\t            lastValidatedUIValue = minValue;\n\t            console.log(\"going to far backward, using min validated value\");\n\t        } else {\n\t            lastValidatedUIValue = liveValue;\n\t            console.log(\"using live value: \" + liveValue);\n\t        }\n\n\t        return lastValidatedUIValue;\n\t    };\n\n\t    Paper.prototype.getCurrentPixelRatio = function () {\n\n\t        /*determine the relationship between the real width/height and the svg viewbox width/height.\n\t         this is similar to the viewport meta tag wherein a local viewport is specified\n\t         and may be different from the pysical device width/height*/\n\n\t        var viewBox = this.node.attributes[1].nodeValue.split(\" \");\n\t        return {\n\t            x: viewBox[2] / this.node.clientWidth,\n\t            y: viewBox[3] / this.node.clientHeight\n\t        };\n\t    };\n\t});\n\n/***/ }\n/******/ ]);\nangular.module(\"experiments\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div id=\\\"Space\\\" class=\\\"single-day-view\\\" ng-class=\\\"{\\'show-list\\': showListView}\\\"><header><button id=\\\"day-picker-button\\\" ng-click=\\\"\\\" class=\\\"header-button\\\"><div class=\\\"label\\\">{{ showListView && selectedTaskDetail.name ? \\'MON 12/16\\' : \\'Monday, December 16\\' }}</div></button><div class=\\\"mini-donut\\\" ng-show=\\\"($root.currentState != \\'home.donut\\')\\\"><task-donut state-link=\\\"home.donut\\\" task-donut-model=\\\"miniTaskDonut\\\" task-donut-manager=\\\"taskManager\\\"></task-donut></div><div class=\\\"pie-calendar\\\" ng-show=\\\"showCalendar\\\"><md-calendar ng-model=\\\"myDate\\\"></md-calendar></div><button id=\\\"show-tasks-button\\\" class=\\\"header-button\\\" ng-click=\\\"toggleListView()\\\"><div class=\\\"label\\\" ng-hide=\\\"showListView\\\">{{ numberOfUserTasks || \\\"No\\\" }} Item{{ (numberOfUserTasks > 1 || 0) ? \\\"s\\\" : \\\"\\\" }} Today</div><div class=\\\"icon\\\"><img ng-src=\\\"{{ showListView ? \\'/assets/x.svg\\' : \\'/assets/list.svg\\'}}\\\"></div></button></header><pre style=\\\"position:absolute; opacity: 0; top: 400px; height: 300px; overflow: auto; left: 0\\\">\\n      {{ taskDataString }}\\n    </pre><div ui-view=\\\"\\\" id=\\\"MainSpace\\\"></div></div>\");\n$templateCache.put(\"app/tour/tour.html\",\"<ui-view></ui-view>\");\n$templateCache.put(\"app/components/TaskDetailPanel/TaskDetailPanel.html\",\"<div id=\\\"task-space-wrapper\\\"><div id=\\\"task-detail-wrapper\\\"><div id=\\\"task-detail\\\" ng-class=\\\"{\\'selected\\': selectedTaskIndex}\\\"><div class=\\\"task-detail-header\\\"><div class=\\\"emoji\\\"><img ng-click=\\\"currentDetailView = \\'emoji\\'\\\" ng-src=\\\"/assets/emojis/72x72/{{ selectedTaskDetail.emoji }}\\\"> <button class=\\\"close-emoji-view\\\" ng-show=\\\"currentDetailView == \\'emoji\\'\\\" ng-click=\\\"currentDetailView = \\'basic-details\\'\\\"><span class=\\\"\\\">Save Emoji</span></button></div><input type=\\\"text\\\" class=\\\"task-name\\\" ng-model=\\\"selectedTaskDetail.name\\\" placeholder=\\\"Edit task name\\\"><div class=\\\"due-date\\\"><span class=\\\"date-label\\\">Aprl 1</span><button class=\\\"check-button\\\"></button></div></div><div class=\\\"emoji-view detail-view\\\" ng-show=\\\"currentDetailView == \\'emoji\\'\\\"><emoji-picker selected-emoji-model=\\\"selectedTaskDetail.emoji\\\"></emoji-picker></div><div class=\\\"task-basic-details detail-view\\\" ng-show=\\\"currentDetailView == \\'basic-details\\'\\\"><div class=\\\"col-1\\\"><div class=\\\"task-detail-item description\\\"><div class=\\\"description-input\\\" contenteditable=\\\"\\\"></div></div><div class=\\\"task-detail-item time-allotment\\\"><div class=\\\"btn-group btn-group-justified pie-btn-group-justified time-allotment-btn-group\\\"><label class=\\\"btn\\\" ng-model=\\\"selectedTaskDetail.angleSize\\\" uib-btn-radio=\\\"toLinearSize(5)\\\"><span>5<div class=\\\"unit\\\">min</div></span></label> <label class=\\\"btn\\\" ng-model=\\\"selectedTaskDetail.angleSize\\\" uib-btn-radio=\\\"toLinearSize(15)\\\"><span>15<div class=\\\"unit\\\">min</div></span></label> <label class=\\\"btn\\\" ng-model=\\\"selectedTaskDetail.angleSize\\\" uib-btn-radio=\\\"toLinearSize(30)\\\"><span>30<div class=\\\"unit\\\">min</div></span></label> <label class=\\\"btn\\\" ng-model=\\\"selectedTaskDetail.angleSize\\\" uib-btn-radio=\\\"toLinearSize(45)\\\"><span>45<div class=\\\"unit\\\">min</div></span></label> <label id=\\\"plus\\\" class=\\\"btn\\\" ng-class=\\\"{ active: selectedTaskDetail.angleSize > toLinearSize(45), revealMinutes: selectedTaskDetail.angleSize > toLinearSize(45)}\\\" ng-click=\\\"selectedTaskDetail.angleSize = toLinearSize(60)\\\"><span><span class=\\\"minutes\\\">{{ Utilities.humanizeMinutes(Utilities.toMinutes(selectedTaskDetail.angleSize)) }}</span><div class=\\\"unit\\\">+</div></span></label></div><div class=\\\"task-slider\\\" ng-class=\\\"{ fadeOut: selectedTaskDetail.angleSize <= Utilities.toAngleSize(45) }\\\"><slider slider-value=\\\"selectedTaskDetail.angleSize\\\" min=\\\"Utilities.toAngleSize(30)\\\" max=\\\"360\\\"></slider></div></div></div></div></div></div><div id=\\\"task-list-wrapper\\\"><div class=\\\"shadow\\\"></div><form name=\\\"newTaskForm\\\" class=\\\"task-item\\\" ng-submit=\\\"createNewTask()\\\"><input id=\\\"header\\\" class=\\\"task-input task-label\\\" ng-model=\\\"newTaskName\\\" autocomplete=\\\"off\\\" name=\\\"newTaskNameInput\\\" type=\\\"text\\\" placeholder=\\\"Add an item:\\\" autofocus=\\\"\\\"></form><ul id=\\\"taskList\\\" ui-sortable=\\\"sortableOptions\\\" ng-model=\\\"taskData.tasks\\\"><li class=\\\"task-li\\\" ng-repeat=\\\"task in taskData.tasks\\\" data-index=\\\"{{$index}}\\\" data-task-id=\\\"{{ task.id }}\\\" ng-click=\\\"selectTask(task.id)\\\"><div class=\\\"task-item {{ task.type }}\\\" ng-class=\\\"{\\'selected\\': $index == selectedTaskIndex}\\\"><div class=\\\"handle\\\"></div><input type=\\\"text\\\" class=\\\"task-label\\\" ng-model=\\\"task.name\\\"></div></li></ul></div></div>\");\n$templateCache.put(\"app/components/TaskDonut/TaskDonutDirective.html\",\"<div class=\\\"TaskDonut\\\"><div class=\\\"donut-wrapper\\\"><svg viewbox=\\\"0 0 200 200\\\" class=\\\"donut\\\"></svg><div class=\\\"camera-wrapper\\\" ng-show=\\\"showCamera\\\"><div class=\\\"camera\\\" ng-hide=\\\"photoOption == \\'instagram\\'\\\" ng-class=\\\"{\\'idle\\':(photoOption == null), \\'ready\\':(photoOption == \\'webcam\\'), }\\\"></div><div id=\\\"instagram-picker\\\" class=\\\"circle-content\\\" ng-show=\\\"photoOption == \\'instagram\\'\\\"><img src=\\\"{{ currentInstagramImage }}\\\"></div><div class=\\\"prompt\\\" ng-hide=\\\"photoOption\\\"><div class=\\\"option\\\" ng-click=\\\"selectInstagram()\\\"><div class=\\\"small\\\">PICK FROM</div><div class=\\\"big\\\">Instagram</div></div><div class=\\\"divider\\\"><span>or</span></div><div class=\\\"option\\\" ng-click=\\\"skip()\\\"><div class=\\\"small\\\">SKIP THIS STEP</div></div></div></div></div><div class=\\\"photo-controls\\\"><button ng-show=\\\"(photoOption == \\'instagram\\')\\\" ng-disabled=\\\"!shouldShowPrev()\\\" class=\\\"instagram-arrow-button left\\\" ng-click=\\\"prevInstagramImage()\\\"><img src=\\\"assets/chevron.png\\\">Prev</button> <button class=\\\"photo-select-button\\\" ng-show=\\\"photoOption\\\" ng-click=\\\"setPhoto()\\\"><div class=\\\"small\\\">{{(photoOption == \\'instagram\\') ? \\\"INSTAGRAM\\\" : \\\"LIVE\\\" }}</div><div class=\\\"big\\\">{{(photoOption == \\'instagram\\') ? \\\"Set\\\" : \\\"Capture\\\" }} Photo</div></button> <button ng-show=\\\"(photoOption == \\'instagram\\')\\\" ng-disabled=\\\"!shouldShowNext()\\\" class=\\\"instagram-arrow-button right\\\" ng-click=\\\"nextInstagramImage()\\\">Next<img src=\\\"assets/chevron.png\\\"></button> <button ng-show=\\\"settings.profile_picture\\\" class=\\\"tour-next-button\\\" ui-sref=\\\"tour_step_two\\\">Next, make time for sleep<span class=\\\"fa fa-caret-right\\\"></span></button></div></div>\");\n$templateCache.put(\"app/components/emoji-picker/emojipicker.html\",\"<div class=\\\"EmojiPicker\\\"><div class=\\\"emoji-list\\\"><div class=\\\"emoji-item\\\" ng-repeat=\\\"emoji in emojis\\\" ng-click=\\\"selectEmoji($index)\\\"><img src=\\\"{{ \\'assets/emojis/72x72/\\' + emoji }}\\\"></div></div></div>\");\n$templateCache.put(\"app/components/slider/slider.html\",\"<div class=\\\"slider-bar\\\" draggable=\\\"true\\\"><div class=\\\"bar\\\"><div class=\\\"value-bar\\\"><div class=\\\"handle\\\"></div></div></div></div>\");\n$templateCache.put(\"app/main/donut_view/donut_view.html\",\"<div id=\\\"big-day\\\"><div class=\\\"tour-tip welcome\\\" ng-show=\\\"$root.tourStep == 0\\\">Welcome to Pi, an entirely new way to plan your day. Pi emphasizes holistic wellness alongside planning to encourage sustainable, everyday productivity.<div class=\\\"action-bar\\\"><button class=\\\"ok\\\" ng-click=\\\"$root.advanceTour()\\\">Click to Continue</button></div></div><div class=\\\"tour-tip pre-sleep\\\" ng-show=\\\"$root.tourStep == 1\\\">With a focus on sleep, Pi makes you more aware of your productivity.<div class=\\\"action-bar\\\"><button class=\\\"ok\\\" ng-click=\\\"$root.advanceTour()\\\">Click to Set Aside Sleep Time</button></div></div><div class=\\\"tour-tip sleep-ring\\\" ng-show=\\\"$root.tourStep == 3\\\">To make sure the importance of sleep never falls to the wayside, keep an eye on this green arc. Green means you\\'ve got a full night of sleep ahead. Orange or red means you may need to re-prioritize.<br>In education environments, Pi\\'s holistic productivity platform makes it possible for teachers to assign work with better understanding of how potential overload affects students\\' health and output.<div class=\\\"action-bar\\\"><button class=\\\"ok\\\" ng-click=\\\"$root.advanceTour()\\\">Click to Continue</button></div></div><div class=\\\"tour-tip click-in\\\" ng-show=\\\"$root.tourStep == 4\\\">So far you\\'ve got a full night of sleep ahead with nothing planned. To get a closer look at the day and add things to the list, click into your picture to the right.<div class=\\\"action-bar\\\"><button class=\\\"ok\\\" ng-disabled=\\\"true\\\">Click Your Picture <span class=\\\"fa fa-caret-right\\\"></span></button></div></div><task-donut id=\\\"main-donut\\\" show-camera=\\\"showCamera\\\" task-donut-model=\\\"taskDonut\\\" task-donut-manager=\\\"taskManager\\\"></task-donut></div><div class=\\\"sleep-config\\\" ng-show=\\\"$root.tourStep == 2\\\" ng-controller=\\\"TourStepTwoController\\\"><div class=\\\"tour-tip sleep\\\">Enter your age and the time you try to get to bed each night. We\\'ll calculate the recommended number of hours you should set aside in your schedule.<div class=\\\"action-bar\\\"><button class=\\\"ok\\\" ng-disabled=\\\"true\\\">Configure Below</button></div></div><slider class=\\\"sleep_slider\\\" max=\\\"recommendedSleepHours[1]\\\" slider-value=\\\"sleepSliderValue\\\"></slider><div class=\\\"content\\\"><div class=\\\"paragraph-content description\\\"><h1 class=\\\"big-header\\\">Make Time for Sleep</h1><p class=\\\"content\\\">Sleep is probably the single most important way to sustain productivity. The National Sleep Foundation recommends <span ng-show=\\\"recommendedSleepHours\\\" class=\\\"recommendation\\\">{{recommendedSleepHours[0]}}-{{recommendedSleepHours[1]}} hours for your age.</span> <span ng-hide=\\\"recommendedSleepHours\\\">healthy sleep durations for each age group.</span> <span ng-show=\\\"sleepSliderValue\\\">We\\'ve set aside <span class=\\\"recommendation\\\">{{sleepSliderValue}} hours for sleep.</span> <span ng-show=\\\"recommendedSleepHours\\\">You can also adjust the slider manually to change your allotted sleep time</span></span></p><form name=\\\"sleepForm\\\" novalidate=\\\"\\\"><div class=\\\"sleep_input age\\\"><label>Enter Your Age:</label><input name=\\\"ageInput\\\" ng-model=\\\"ageModel\\\" min=\\\"0\\\" max=\\\"100\\\" placeholder=\\\"22\\\" ng-change=\\\"determineRecommendedSleepHoursForAge()\\\" ng-required=\\\"true\\\" type=\\\"number\\\"></div><div class=\\\"sleep_input bedtime\\\"><label>Enter Your Bedtime?</label> <input ng-model=\\\"bedTimeModel\\\" ng-required=\\\"true\\\" name=\\\"bedTimeInput\\\" placeholder=\\\"10:30\\\" ng-change=\\\"determineBedtime()\\\" type=\\\"text\\\"> <span class=\\\"carets\\\"><button class=\\\"fa fa-caret-up\\\" ng-click=\\\"adjustBedTime(\\'+\\')\\\"></button><button class=\\\"fa fa-caret-down\\\" ng-click=\\\"adjustBedTime(\\'-\\')\\\"></button></span></div><button class=\\\"tour-next-button\\\" ng-click=\\\"configureSleep()\\\">Click to Continue <span class=\\\"fa fa-caret-right\\\"></span></button></form></div></div></div>\");\n$templateCache.put(\"app/main/linear_view/linear_view.html\",\"<div id=\\\"strip\\\"><div class=\\\"tour-tip add-tasks\\\" ng-show=\\\"$root.tourStep == 4\\\">Pi is a highly visual day planner. The timeline lets you add tasks and rearrange with incredible precision, all visually. To add an item to the list, just click an open spot in your schedule.<div class=\\\"action-bar\\\"><button class=\\\"ok\\\" ng-disabled=\\\"true\\\">Click in the Empty Space Below</button></div></div><div class=\\\"tour-tip move-tasks\\\" ng-show=\\\"$root.tourStep == 6\\\">The timeline is also highly flexible. Try dragging blocks by the middle or the sides. You can even hold shift to move many at the same time. If two blocks are side by side, try dragging the line between them for precise adjustment.<div class=\\\"action-bar\\\"><button class=\\\"ok\\\" ng-disabled=\\\"true\\\">Drag a block</button></div></div><div class=\\\"tour-tip sleep-buttons\\\" ng-show=\\\"$root.tourStep == 7\\\">By default, the timeline accounts for the recommended number of sleep hours you should set aside. If you end up with too much on your plate, adjust these buttons to add more time for work and less time for rest. Pi helps you stay aware of how workload affects everyday health.<div class=\\\"action-bar\\\"><button class=\\\"ok\\\" ng-click=\\\"$root.advanceTour()\\\">Click to Continue</button></div></div><svg id=\\\"task-strip\\\" viewbox=\\\"0 0 100 20\\\" class=\\\"TaskStrip\\\"></svg></div><div id=\\\"TaskSpace\\\" ng-class=\\\"{\\'show-list\\': showListView}\\\"><div class=\\\"tour-tip edit-task\\\" ng-show=\\\"$root.tourStep == 5\\\">This is the detail pane. Here you can prioritize, allot time, add tasks manually, and more. To start, try changing the name and emoji for your task.<div class=\\\"action-bar\\\"><button class=\\\"ok\\\" ng-click=\\\"$root.advanceTour()\\\">Click to Continue</button></div></div><task-detail-panel></task-detail-panel></div>\");\n$templateCache.put(\"app/tour/splash/splash.html\",\"<section class=\\\"SplashScreen TourStep\\\"><div class=\\\"center-logo\\\"><img src=\\\"../assets/logo.png\\\"><br><button ui-sref=\\\"tour_step_one\\\" class=\\\"next light\\\"></button></div></section>\");\n$templateCache.put(\"app/tour/step_one/step_one.html\",\"<section class=\\\"You TourStep\\\"><div class=\\\"container\\\" ng-class=\\\"{\\'centerMode\\':(photoOption || settings.profile_picture)}\\\"><div class=\\\"paragraph-content\\\"><h1 class=\\\"big-header\\\">Choose a Photo</h1><p class=\\\"content\\\">You are a part of your schedule. All the things we have to<br>do. Home, Work, and School are common categories, but<br>there are often more, like Personal Projects, or Chores.<br></p></div><div class=\\\"photo-wrapper\\\"><div class=\\\"donut-wrapper\\\"><svg id=\\\"donut\\\" viewbox=\\\"0 0 200 200\\\" class=\\\"demoTaskDonut TaskDonut\\\"></svg><div id=\\\"camera-wrapper\\\" ng-hide=\\\"settings.profile_picture\\\"><div id=\\\"camera\\\" attach-webcam=\\\"\\\" class=\\\"circle-content\\\" ng-hide=\\\"photoOption == \\'instagram\\'\\\" ng-class=\\\"{\\'idle\\':(photoOption == null), \\'ready\\':(photoOption == \\'webcam\\'), }\\\"></div><div id=\\\"instagram-picker\\\" class=\\\"circle-content\\\" ng-show=\\\"photoOption == \\'instagram\\'\\\"><img src=\\\"{{ currentInstagramImage }}\\\"></div><div class=\\\"prompt\\\" ng-hide=\\\"photoOption\\\"><div class=\\\"option\\\" ng-click=\\\"selectInstagram()\\\"><div class=\\\"small\\\">PICK FROM</div><div class=\\\"big\\\">Instagram</div></div><div class=\\\"divider\\\"><span>or</span></div><div class=\\\"option\\\" ng-click=\\\"selectWebcam()\\\"><div class=\\\"small\\\">TAKE WITH</div><div class=\\\"big\\\">Webcam</div></div></div></div></div><div class=\\\"photo-controls\\\"><button ng-show=\\\"(photoOption == \\'instagram\\')\\\" ng-disabled=\\\"!shouldShowPrev()\\\" class=\\\"instagram-arrow-button left\\\" ng-click=\\\"prevInstagramImage()\\\"><img src=\\\"assets/chevron.png\\\">Prev</button> <button class=\\\"photo-select-button\\\" ng-show=\\\"photoOption\\\" ng-click=\\\"setPhoto()\\\"><div class=\\\"small\\\">{{(photoOption == \\'instagram\\') ? \\\"INSTAGRAM\\\" : \\\"LIVE\\\" }}</div><div class=\\\"big\\\">{{(photoOption == \\'instagram\\') ? \\\"Set\\\" : \\\"Take\\\" }} Photo</div></button> <button ng-show=\\\"(photoOption == \\'instagram\\')\\\" ng-disabled=\\\"!shouldShowNext()\\\" class=\\\"instagram-arrow-button right\\\" ng-click=\\\"nextInstagramImage()\\\">Next<img src=\\\"assets/chevron.png\\\"></button> <button ng-show=\\\"settings.profile_picture\\\" class=\\\"tour-next-button\\\" ui-sref=\\\"tour_step_two\\\">Next, make time for sleep<span class=\\\"fa fa-caret-right\\\"></span></button></div></div></div></section>\");\n$templateCache.put(\"app/tour/step_two/step_two.html\",\"<section class=\\\"Sleep TourStep\\\"></section>\");}]);"],"sourceRoot":"/source/"}