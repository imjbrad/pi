(function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={exports:{},id:a,loaded:false};e[a].call(i.exports,i,i.exports,n);i.loaded=true;return i.exports}n.m=e;n.c=t;n.p="";return n(0)})([function(e,t,n){"use strict";var a=n(1);var i=n(2);var r=n(3);n(5);var s=n(6);var o=n(15);var l=n(16);var d=n(17);var c=n(18);var f=n(9);var p=n(19);var u=n(10);var g=n(20);var m=n(21);var h=n(12);var v=n(22);var k=n(23);var b=n(24);n(25);n(26);angular.module("app",["ngResource","ui.router","ui.bootstrap","ui.sortable","material.components.datepicker"]).constant("moment",moment).config(a.config).config(i.routerConfig).run(r.runBlock).controller("MainController",s.MainController).controller("DonutViewController",o.DonutViewController).controller("LinearViewController",l.LinearViewController).controller("TourStepOneController",d.TourStepOneController).controller("TourStepTwoController",c.TourStepTwoController).directive("attachWebcam",d.AttachWebcamDirective).directive("taskDetailPanel",v.TaskDetailPanelDirective).directive("emojiPicker",k.EmojiPicker).directive("taskDonut",p.TaskDonutDirective).directive("taskStrip",h.TaskStripDirective).directive("slider",b.SliderDirective)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.config=n;function n(e){"ngInject";e.debugEnabled(true)}n.$inject=["$logProvider"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.routerConfig=n;function n(e,t,n){"ngInject";e.state("home",{url:"/main",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main","abstract":true}).state("home.donut",{url:"",templateUrl:"app/main/donut_view/donut_view.html",controller:"DonutViewController"}).state("home.linear",{url:"/linear",templateUrl:"app/main/linear_view/linear_view.html",controller:"LinearViewController"})}n.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.runBlock=i;var a=n(4);function i(e,t,n,i){"ngInject";var r=new a.Day;var s=Math.random();e.taskData={picture:s<.5?"assets/terron.jpg":"assets/faridah.jpg",wakeUpTime:r.at("7:30 am"),bedTime:r.nextDay().at("2:00 am"),sleepGoal:"08:00",tasks:[{name:"Work at the Studio",start:r.at("7:30 am"),end:r.at("1:30 pm"),emoji:"1f3c0.png",description:"",tempData:{}},{name:"Gym",start:r.at("3:00 pm"),end:r.at("4:00 pm"),color:"#7e3c46",emoji:"1f4d0.png",description:"",tempData:{}},{name:"Return rentals",start:r.at("4:00 pm"),end:r.at("5:00 pm"),emoji:"1f4de.png",description:"",tempData:{}},{name:"Finish Paper",start:r.at("8:00 pm"),end:r.at("11:30 pm"),emoji:"1f62d.png",description:"",tempData:{}}]};e.$on("$stateChangeSuccess",function(t,n){e.currentState=n.name;console.log(e.currentState)});e.tourStep=0;e.tourInProgress=true;e.advanceTour=function(){e.tourStep+=1;console.log("Tour",e.tourStep)};e.resetTour=function(){console.log("Resetting tour");e.tourStep=0;e.tourInProgress=true;var t=i.location.origin,n=i.location.origin.indexOf("github")==-1?"/#/main":"/pi/#/main",a=t+n;if(i.location.href==a){console.log("already on the home page, refreshing");i.location.reload(true)}else{console.log("returning to home page");i.location.href=a}};var o=1.5,l;function d(){console.log("setting timer");l=n(function(){e.resetTour()},o*6e4)}function c(){n.cancel(l);l=null;d()}$(document).on("mousemove keypress",function(){console.log("renewing session, resetting timer");c()});d();t.debug("runBlock end")}i.$inject=["$rootScope","$log","$timeout","$window"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Day=n;function n(e){var t=e||moment().startOf("day").format("YYYY MM DD");this.string=moment(t).format();this.at=function(e){return moment(t+" "+e,"YYYY MM DD h:mm a").format()};this.nextDay=function(){var e=moment(t).startOf("day").add(1,"day").format("YYYY MM DD");return new n(e)};this.previousDay=function(){var e=moment(t).startOf("day").subtract(1,"day").format("YYYY MM DD");return new n(e)}}},function(e,t,n){var a,i;"use strict";(function(n){var r="0.5.0",s="hasOwnProperty",o=/[\.\/]/,l=/\s*,\s*/,d="*",c=function y(){},f=function D(e,t){return e-t},p,u,g={n:{}},m=function T(){for(var e=0,t=this.length;e<t;e++){if(typeof this[e]!="undefined"){return this[e]}}},h=function w(){var e=this.length;while(--e){if(typeof this[e]!="undefined"){return this[e]}}},v=Object.prototype.toString,k=String,b=Array.isArray||function(e){return e instanceof Array||v.call(e)=="[object Array]"};eve=function(e,t){var n=g,a=u,i=Array.prototype.slice.call(arguments,2),r=eve.listeners(e),s=0,o=false,l,d=[],c={},v=[],k=p,b=[];v.firstDefined=m;v.lastDefined=h;p=e;u=0;for(var y=0,D=r.length;y<D;y++)if("zIndex"in r[y]){d.push(r[y].zIndex);if(r[y].zIndex<0){c[r[y].zIndex]=r[y]}}d.sort(f);while(d[s]<0){l=c[d[s++]];v.push(l.apply(t,i));if(u){u=a;return v}}for(y=0;y<D;y++){l=r[y];if("zIndex"in l){if(l.zIndex==d[s]){v.push(l.apply(t,i));if(u){break}do{s++;l=c[d[s]];l&&v.push(l.apply(t,i));if(u){break}}while(l)}else{c[l.zIndex]=l}}else{v.push(l.apply(t,i));if(u){break}}}u=a;p=k;return v};eve._events=g;eve.listeners=function(e){var t=b(e)?e:e.split(o),n=g,a,i,r,s,l,c,f,p,u=[n],m=[];for(s=0,l=t.length;s<l;s++){p=[];for(c=0,f=u.length;c<f;c++){n=u[c].n;i=[n[t[s]],n[d]];r=2;while(r--){a=i[r];if(a){p.push(a);m=m.concat(a.f||[])}}}u=p}return m};eve.separator=function(e){if(e){e=k(e).replace(/(?=[\.\^\]\[\-])/g,"\\");e="["+e+"]";o=new RegExp(e)}else{o=/[\.\/]/}};eve.on=function(e,t){if(typeof t!="function"){return function(){}}var n=b(e)?b(e[0])?e:[e]:k(e).split(l);for(var a=0,i=n.length;a<i;a++){(function(e){var n=b(e)?e:k(e).split(o),a=g,i;for(var r=0,s=n.length;r<s;r++){a=a.n;a=a.hasOwnProperty(n[r])&&a[n[r]]||(a[n[r]]={n:{}})}a.f=a.f||[];for(r=0,s=a.f.length;r<s;r++)if(a.f[r]==t){i=true;break}!i&&a.f.push(t)})(n[a])}return function(e){if(+e==+e){t.zIndex=+e}}};eve.f=function(e){var t=[].slice.call(arguments,1);return function(){eve.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}};eve.stop=function(){u=1};eve.nt=function(e){var t=b(p)?p.join("."):p;if(e){return new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t)}return t};eve.nts=function(){return b(p)?p:p.split(o)};eve.off=eve.unbind=function(e,t){if(!e){eve._events=g={n:{}};return}var n=b(e)?b(e[0])?e:[e]:k(e).split(l);if(n.length>1){for(var a=0,i=n.length;a<i;a++){eve.off(n[a],t)}return}n=b(e)?e:k(e).split(o);var r,c,f,a,i,p,u,m=[g];for(a=0,i=n.length;a<i;a++){for(p=0;p<m.length;p+=f.length-2){f=[p,1];r=m[p].n;if(n[a]!=d){if(r[n[a]]){f.push(r[n[a]])}}else{for(c in r)if(r[s](c)){f.push(r[c])}}m.splice.apply(m,f)}}for(a=0,i=m.length;a<i;a++){r=m[a];while(r.n){if(t){if(r.f){for(p=0,u=r.f.length;p<u;p++)if(r.f[p]==t){r.f.splice(p,1);break}!r.f.length&&delete r.f}for(c in r.n)if(r.n[s](c)&&r.n[c].f){var h=r.n[c].f;for(p=0,u=h.length;p<u;p++)if(h[p]==t){h.splice(p,1);break}!h.length&&delete r.n[c].f}}else{delete r.f;for(c in r.n)if(r.n[s](c)&&r.n[c].f){delete r.n[c].f}}r=r.n}}};eve.once=function(e,t){var n=function a(){eve.off(e,a);return t.apply(this,arguments)};return eve.on(e,n)};eve.version=r;eve.toString=function(){return"You are running Eve "+r};typeof e!="undefined"&&e.exports?e.exports=eve:true?!(a=[],i=function(){return eve}.apply(t,a),i!==undefined&&(e.exports=i)):n.eve=eve})(undefined)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MainController=l;var a=n(7);var i=n(8);var r=n(9);var s=n(12);var o=n(4);function l(e,t,n,a){"ngInject";var r=new o.Day;e.taskManager=new i.TaskManager(a.taskData)}l.$inject=["$scope","$timeout","$filter","$rootScope"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n={};t.PiUtilities=n;n.themes={};n.colors={day:"#f37342",night:"#37445c",pieOffWhite:"#FBFBFB",pieLightGrey:"#E5E5E5",pieGrey:"#CCCCCC",pieDarkGrey:"818285",pieOrange:"#f37342",pieOrangeCream:"#f8b978",piePink:"#f1656f",pieLightBlue:"#9ec2e1",pieDimBlue:"#5c6879",pieDarkBlue:"#37445c",pieYellow:"#f7ce6e"};n.today=moment().format("YYYY MM DD");n.tomorrow=moment().startOf("day").add(1,"d").format("YYYY MM DD");n.full_format="dddd, MMMM Do YYYY, h:mm:ss a";n.short_format="YYYY MM DD";n.today_yyyy_mm_dd=moment().format("YYYY MM DD");n.task_data_filter=function(e,t,n){return!e.type};n.toMinutes=function(e){return e*4};n.toAngleSize=function(e){return e*.25};n.toAngle=function(e){var t=moment(moment().format("YYYY MM DD")),a=moment.isMoment(e)?e:moment(e),i=a.diff(t,"m");console.log(a.format(n.full_format),a,i);return n.toAngleSize(i)};n.thisDayAt=function(e){return moment(e,"h:mm a").format()};n.tomorrowAt=function(e){return moment(n.tomorrow+" "+e,"YYYY MM DD h:mm a").format()};n.taskSize=function(e,t){var n=moment(e),a=moment(t),i=a.diff(n,"minutes");return i};n.toTimeOfDay=function(e,t){var a="dddd, MMMM Do YYYY, h:mm a";var i=t==true?a:"",r=n.toMinutes(e),s=moment(moment().format("YYYY MM DD")).add(r,"m");if(t){console.log("returning string");return s.format(i)}return moment(s)};n.toLinearSize=function(e,t,a,i){var r=n.toLinearPosition0to1FromTimeOfDay(e,a,i);var s=n.toLinearPosition0to1FromTimeOfDay(t,a,i);return s-r};n.toLinearSizeFromTaskSize=function(e,t,a){return n.toLinearPosition0to1FromTimeOfDay(moment(t).add(e,"minutes").format(),t,a)};n.toLinearPosition0to1FromTimeOfDay=function(e,t,n){var e=moment(e);var a=t?moment(t):moment().startOf("day");var i=n?moment(n):moment().endOf("day");var r=e.diff(a,"minutes");var s=i.diff(a,"minutes");var o=r/s;return o};n.toTimeOfDayFromLinearPosition0to1=function(e,t,n){var a=t?moment(t):moment().startOf("day");var i=n?moment(n):moment().endOf("day");var r=i.diff(a,"minutes");var s=e*r;var o=a.add(s,"minutes").seconds(0);return o.format()};n.toLinearPosition0to1FromArbitraryXPosition=function(e,t){return e/t};n.toXPositionFromLinearPosition0to1=function(e,t){return e*t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TaskManager=r;var a=n(7);var i=n(4);function r(e){var t=this,n,r=[],s=t.utilities={};var o=["name","start","end"],l=["sleep","temp"];var d="";var c={};t.MINIMUM_TASK_SIZE=15;function f(e){console.log("TaskSet Controller initialized w/ a task data");n=e||s.defaultDayObject();if(w(n)){window.setTimeout(function(){x()},0)}}var p=function A(){return"_"+Math.random().toString(36).substr(2,9)};function u(e,t){if(t.get("date")!=n.day.get("date")||e.get("date")!=n.day.get("date")){console.log("Task cannot happen on a day different than the one specified by the day object",t.get("date"),e.get("date"),n.day.get("date"));return true}return false}function g(e,t){if(t.get("date")!=n.day.get("date")&&e.get("date")!=n.day.get("date")){console.log("Task would neither start or end on the day specified by the day object",t.get("date"),e.get("date"),n.day.get("date"));return true}return false}function m(e,t){if(t.get("date")!=e.get("date")){console.log("Task cannot span several days");return true}return false}function h(e,t){if(t.isBefore(e)||e.isAfter(t)){console.log("Task cannot end before it starts");return true}return false}function v(e,t){var n=e.index,a=n==0?t.length-1:n-1,i=t[a],r=moment(i.end),s=moment(e.start);if(n>0&&s.isBefore(r)){console.log("Task can't collide with previous task");return true}return false}function k(e,t){var n=e.index,a=t.length-1,i=n==a?0:n+1,r=t[i],s=moment(r.start),o=moment(e.end);if(n<a&&s.isBefore(o)){console.log(e.name+"("+e.index+") can't overlap next task: "+r.name+"("+r.index+")");return true}return false}function b(e){var t=10;var n=a.PiUtilities.taskSize(e.start,e.end);if(n<t){console.log("Task can't be too smaller than "+t+" minimum",n);return true}return false}function y(e,t){var n=e,a=t,i=moment(n.start),r=moment(n.end);return h(i,r)||k(n,a)||v(n,a)||b(n)}function D(e,t,n){var a=true;if(!e.tempData)e.tempData={};o.forEach(function(t,n,i){if(!(t in e)){console.log("task is missing required key: "+t);a=false}});if(e.type&&l.indexOf(e.type)==-1){console.log("task "+e.name+" has an invalid task type "+e.type);a=false}if(y(e,n)){console.log("task would cause an overlap "+e.name);a=false}if(e.type=="sleep"){r.push(e)}return a}function T(e){var n=e,a=true;r=[];t._taskListIsValid=true;n.sort(function(e,t){var n=moment(e.start);var a=moment(t.start);if(n.isBefore(a)){return-1}if(n.isAfter(a)){return 1}return 0});console.log(n);n.forEach(function(e,t){if(!e.id){console.log("No ID:",e.name);e.id=p()}e.index=t});n.every(function(e,t,n){a=D(e,t,n);return a});t._taskListIsValid=a;return a}function w(e){console.log("Validating Day");var t=true,n=e.tasks;t=T(n);if(t){console.log("Passed Validation")}return t}function S(e,i,r){var s=r.split("-")[1];console.log(s);var o=moment(i.start).isAfter(e.start)?"forward":"past";var l=a.PiUtilities.taskSize(e.start,e.end);if(s=="before"){e.start=i.start;e.end=moment(e.start).add(l,"m").format()}else if(s=="after"){e.start=i.end;e.end=moment(e.start).add(l,"m").format()}if(o=="forward"){var d=s=="before"?i.index:i.index+1;for(var c=d;c<n.tasks.length;c++){var f=t.getTaskAtIndex(c),p=a.PiUtilities.taskSize(f.start,f.end);f.start=moment(f.start).add(l,"m").format();f.end=moment(f.start).add(p,"m").format();console.log("shifting forward "+f.name)}for(var c=e.index;c<n.tasks.length;c++){var f=t.getTaskAtIndex(c),p=a.PiUtilities.taskSize(f.start,f.end);f.start=moment(f.start).subtract(l,"m").format();f.end=moment(f.start).add(p,"m").format();console.log("shifting back "+f.name)}}if(o=="past"){var d=s=="before"?i.index:i.index+1;for(var c=d;c<e.index;c++){var f=t.getTaskAtIndex(c),p=a.PiUtilities.taskSize(f.start,f.end);f.start=moment(f.start).add(l,"m").format();f.end=moment(f.start).add(p,"m").format();console.log("shifting forward "+f.name)}}}function M(e,t){var i=e,r=moment(i.start),s=moment(i.end);console.log("starting ripple");var o=t.split("-")[0];var l=moment(i.tempData["prev-"+o]);var d=moment(i[o]);var c=d.diff(l);console.log(d.diff(l,"m"));if(t=="end-push-pull"){for(var f=i.index+1;f<n.tasks.length;f++){var p=n.tasks[f];var u=a.PiUtilities.taskSize(p.start,p.end);p.start=moment(p.start).add(c,"ms").format();p.end=moment(p.start).add(u,"minutes").format()}}if(t=="start-push-pull"){for(var f=i.index-1;f>0;f--){var g=n.tasks[f];var u=a.PiUtilities.taskSize(g.start,g.end);var m=g.end;g.end=moment(g.end).add(c,"ms").format();g.start=moment(g.end).subtract(u,"minutes").format()}}}function P(){console.log("task list update failed, restoring using cached data");eve("taskListUpdateFailed");n.tasks=t.__temp();w(n);eve("taskListUpdated")}function x(){console.log("task list successfully updated, caching new validated data");t._taskListIsDirty=false;d=JSON.stringify(n.tasks);eve("taskListUpdated",{},c.animate)}t.__temp=function(){return JSON.parse(d)};t.addTask=function(e){n.tasks.push(e);t.updateTasks();return e.id};t.getTask=function(e){return n.tasks.find(function(t){return t.id==e})};t.getTaskAtIndex=function(e){return n.tasks[e]};t.removeTask=function(){};t.updateTasks=function(e){e=e||{};t._taskListIsDirty=true;c.animate=e.animate==null||e.animate==false?false:e.animate;var a=e.fullUpdate==null||e.fullUpdate==true?true:e.fullUpdate;var i=false;var r=e.updateMethod||"regular";var s=!e.tasks||e.tasks==[]||e.tasks=="all"?n.tasks:e.tasks.map(function(e){return t.getTask(e)});console.log("Updating Tasks "+r,s);if(r.includes("insert")){var o=s[0];var l=s[1];S(o,l,r)}if(r.includes("push-pull")){s.forEach(function(e,t,n){M(e,r)})}if(a){i=w(n);if(i){x()}else{P()}}};t.getDay=function(){return n.day};t.getTasks=function(){return n.tasks};t.getProductiveTimeInMinutes=function(){var e=0;n.tasks.forEach(function(t){e+=a.PiUtilities.taskSize(t.start,t.end)});return e};t.getTaskCount=function(){return n.tasks.length};t.getSleepTasks=function(){return r};t.getSleepGoalInMinutes=function(){return moment.duration(n.sleepGoal).asMinutes()};t.wakeUpTime=function(e){if(e)n.wakeUpTime=e;return n.wakeUpTime};t.bedTime=function(e){if(e)n.bedTime=e;return n.bedTime};t.picture=function(e){if(e)n.picture=e;return n.picture};t.getSleepDetails=function(){return{wakeUpTime:n.wakeUpTime,bedTime:n.bedTime}};t.getAnticipatedSleepTime=function(){var e=t.getSleepDetails(),n=e.bedTime,a=moment(e.wakeUpTime).add(1,"day"),i=moment(a).diff(moment(n),"minutes");return i};t.getSleepTimeInMinutes=function(){var e=t.getSleepTasks();var n=0;e.forEach(function(e,t,i){n+=a.PiUtilities.taskSize(e.start,e.end)});return n};t.taskListIsValid=function(){return t._taskListIsValid};t.taskListIsDirty=function(){return t._taskListIsDirty};s.taskIsValid=function(e){return D(e,e.index,n.tasks)};s.getTaskLatestPossibleStartTime=function(e){var n=t.getTaskAtIndex(e);return moment(n.end).subtract(t.MINIMUM_TASK_SIZE,"minutes").format()};s.getTaskEarliestPossibleEndTime=function(e){var n=t.getTaskAtIndex(e);return moment(n.start).add(t.MINIMUM_TASK_SIZE,"minutes").format()};s.defaultDayObject=function(){var e=new i.Day;return{day:e.string,wakeUpTime:e.at("7:30 am"),bedTime:e.nextDay().at("2:00 am"),sleepGoal:"08:00",tasks:[]}};s.firstAvailableOpening=function(e,t,a){var i;var r=0;!n.tasks.every(function(n,s,o){if(moment(n.start).isSameOrAfter(t)){var l;var d;var c=o[s+1];if(r==0){l=t;var f=moment(n.start).isSameOrAfter(moment(l).add(e,"m"));if(f){i=t;return false}}if(c){d=moment(c.start);if(moment(d).isSameOrAfter(a)){d=a}}else{d=moment(a)}var p=d.isSameOrAfter(moment(n.end).add(e,"m")),u=moment(n.end).isSameOrAfter(t)&&moment(d).isSameOrBefore(a);if(p&&u){i=n.end;return false}r++}return true});return i||false};f(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TaskDonut=s;var a=n(10);var i=n(7);var r=n(11);function s(e,t){var n=this;var r;var s;var o;var l=e;var d,c;var f=t;var p;var u;n.dispatchedEvents={};n.taskManager=f;n.slices=[];n.sliceDataObjects=[];n.picture=null;r=function(){p=f.getTasks();c=l.image("http://www.transparenttextures.com/patterns/debut-light.png",0,0,100,100).attr({opacity:1});d=c.toPattern(0,0,100,100);n.drawingArea=l;n.slices=[];n.total=0;s();n.p=l.circle(n.centerX,n.centerY,10);n.p.attr({transform:"rotate("+n.angle_offset+" "+n.centerX+" "+n.centerY+")"});n.picture=n.taskManager.picture()||null;console.log(n.picture);eve.on("taskListUpdated",g)};function g(e){if(f.taskListIsValid()){console.log("Tasks are valid, redrawing");n.drawSlices(e)}else{console.log("Tasks not valid, not redrawing")}}function m(){var e=f.getAnticipatedSleepTime(),t=moment.duration(24,"hours").as("minutes"),n=e/t;return n*360}function h(){return i.PiUtilities.toAngleSize(f.getProductiveTimeInMinutes())}s=function(){n.svgNode=$(n.drawingArea.node);n.outerRadius=100;n.radius=n.outerRadius;n.sliceBorderRadius=n.radius/1.03;n.innerSliceRadius=n.sliceBorderRadius;n.pictureRadius=n.innerSliceRadius/1.036;n.centerX=n.outerRadius;n.centerY=n.outerRadius};n.toXY=function(e,t){return{x:n.centerX+t*Math.cos(e),y:n.centerY+t*Math.sin(e)}};n.toPolar=function(e,t){return{angle:Math.atan2(t,e).mod(Math.TWOPI),r:math.distance([e,t],[n.centerX,n.centerY])}};n.draw=function(e){n.angle_offset=90-m()/2;var t=l.circle();var a=l.filter(Snap.filter.shadow(0,0,2,"black",.2));t.attr({cx:n.centerX,cy:n.centerY,r:n.outerRadius,fill:"white","fill-opacity":"1"});if(u){u.remove()}var i=n.pictureRadius*2;var r=i;var s=n.centerX-i/2;var o=n.centerY-r/2;u=l.image(n.picture,s,o,i,r);var d=l.circle();d.attr({cx:n.centerX,cy:n.centerY,r:n.pictureRadius,fill:"white"});u.attr({mask:d});n.donut_group=n.drawingArea.g();var c=l.circle();c.attr({cx:n.centerX,cy:n.centerY,r:n.radius,fill:"#cccccc","fill-opacity":"1"});var f=l.circle(n.centerX,n.centerY,n.outerRadius+5).attr({fill:"white"});var p=l.circle(n.centerX,n.centerY,n.innerSliceRadius);var g=l.g().add(f,p);n.donut_group.add(t,c);n.drawSlices(e);n.donut_group.attr({mask:g});n.donut_group.attr({transform:"rotate("+n.angle_offset+" "+n.centerX+" "+n.centerY+")"})};n.redraw=function(e){n.drawingArea.clear();r();n.draw(e)};n.drawSlices=function(e){if(!n.picture)return;var t=m(),i=h(),r={name:"sleep",startAngle:0,endAngle:t};var s={name:"tasks",color:"grey",startAngle:r.endAngle};s.endAngle=s.startAngle+i;n.sliceDataObjects.push(r,s);n.sliceDataObjects.forEach(function(e){var t=n.slices.find(function(t){return t.data.name==e.name});if(!t){t=new a.TaskSlice(n,e);n.slices.push(t)}else{t.redraw(true)}})};n.refreshPhoto=function(e){console.log("refreshing");n.picture=e;n.redraw()};r();if(f.taskListIsValid()){n.draw()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TaskSlice=r;var a=n(7);function i(e,t,n){var a=findRelativeMousePoints(e,t,n);var i=a.x;var r=a.y;var s=n.centerX;var o=n.centerY;var l=Math.atan2(r-o,i-s).mod(Math.TWOPI);return Math.round(Snap.deg(l))}function r(e,t){var n=this;var i=3;var r=e.drawingArea.gradient("l(0, 0, 1, 0)#F8B978-#5C6879");var s;var o;n.borderSlice=e.drawingArea.path();n.mainSlice=e.drawingArea.path();n.tempSlice=e.drawingArea.path();n.terminalHandle=e.drawingArea.path();n.startingHandle=e.drawingArea.path();n.innerStartingVectorLine=e.drawingArea.line();n.innerTerminalVectorLine=e.drawingArea.line();n.label=e.drawingArea.text();n.mainSliceRadius=e.sliceBorderRadius;n.tempData={};e.donut_group.add(n.borderSlice,n.mainSlice,n.innerStartingVectorLine,n.innerTerminalVectorLine,n.label,n.startingHandle,n.terminalHandle);function l(e){n.startingAngle=0;n.terminalAngle=0;n.data=e;var t=d(n.data.startAngle,n.data.endAngle);n.draw(t.startingAngle,t.terminalAngle);console.log(t)}function d(e,t){return{startingAngle:Snap.rad(e).mod(Math.TWOPI),terminalAngle:Snap.rad(t).mod(Math.TWOPI)}}function c(t,a){var i=a-t;return{startingVector:e.toXY(t,e.radius),terminalVector:e.toXY(a,e.radius),innerStartingVector:e.toXY(t,n.mainSliceRadius),innerTerminalVector:e.toXY(a,n.mainSliceRadius)}}function f(e,t,n,a,i,r,s,o,l,d,c){var f=c,p="M"+r+","+s,u="A"+o+","+o+" 0 "+f+" 1 "+l+","+d,g="L"+a+","+i,m="A"+n+","+n+" 0 "+f+" 0 "+e+","+t,h="L"+r+","+s+" z";return[p,u,g,m,h].join(" ")}function p(t,n,a,i,r){var s="M"+e.centerX+","+e.centerY,o="L"+t+","+n,l="A"+r+","+r+" 0 0 1 "+a+","+i+" z";return[s,o,l].join(" ")}n.redraw=function(e){var t=d(n.data.startAngle,n.data.endAngle);var a=e?200:0;n.draw(t.startingAngle,t.terminalAngle,function(){},a)};n.draw=function(t,i,s,l){var d=l||0;return Snap.animate([n.startingAngle,n.terminalAngle],[t,i],function(t){console.log("Animating");o=true;var i=t[0];var s=t[1];var l=c(i,s);var d=s-i>Math.PI?1:0;var p=f(l.startingVector.x,l.startingVector.y,e.radius,l.terminalVector.x,l.terminalVector.y,l.innerStartingVector.x,l.innerStartingVector.y,n.mainSliceRadius,l.innerTerminalVector.x,l.innerTerminalVector.y,d);n.borderSlice.attr({stroke:"transparent","stroke-width":0,fill:n.data.color||a.PiUtilities.colors.pieOrangeCream,d:p});if(n.data.name&&n.data.name=="sleep"){n.innerStartingVectorLine.attr({"stroke-width":0});n.innerTerminalVectorLine.attr({"stroke-width":0});n.borderSlice.attr({fill:r,"fill-opacity":1,"stroke-width":0});n.mainSlice.attr({fill:r,"fill-opacity":1,"stroke-width":0})}},d,function(){n.startingAngle=t;n.terminalAngle=i;o=false;if(s)s()})};l(t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Emitter=n;function n(){}var a=$("body");n.on=function(){console.log("hi");a.bind.apply(this,arguments)};n.trigger=a.trigger},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TaskStrip=o;t.TaskStripDirective=l;var a=n(13);var i=n(14);var r=n(7);var s=n(4);function o(e,t){var n=this,o,l=e,d=t;n.drawingArea=l;var c;var f;var p,u,g;var m,h,v,k,b,y,D,T,w;var S;var M=l.rect(),P=l.rect(),x=l.rect(),A=l.rect(),I=l.text(),C=l.gradient("l(0, 0, 1, 0)#F8B978-#5C6879"),O=l.rect(),L=l.rect(),U,_;n.group=l.g();n.group.add(x);n.group.attr({mask:A});var j=moment((new s.Day).at("2:30pm"));function E(){f=l.node.attributes[1].nodeValue.split(" ");n.taskManager=t;n.totalWidth=f[2];n.totalHeight=f[3];n.blocks=[];n.scale=V();g=0;p=0;u=0;c=.75;n.sleepAdjustmentButtonLeftOffset=p+c;n.sleepAdjustmentButtonTopOffset=0;n.sleepAdjustmentButtonWidth=7.899;n.sleepAdjustmentButtonHeight=2.774;n.stripTopOffset=4.5;n.stripLeftOffset=p;n.stripWidth=n.totalWidth-2*n.stripLeftOffset;n.stripHeight=12.5;m=.81;b=n.totalHeight-m;y=c;D=0;T=1;w=m;h=n.stripWidth-(2*c+D);k=y+D;v=n.totalHeight-m-.2;if(d.taskListIsValid()){z()}eve.on("taskListUpdated",F);x.click(R);$(document).click(function(e){var t=e.target;if($("#MainSpace").is(t)||$("#Space").is(t)){eve("userClickedOutsideOfStrip");console.log("clicked outside of strip")}})}function F(e){console.log("Task list updated, redrawing");if(d.taskListIsValid()){n.redraw(e)}}function V(){var e=n.taskManager.getSleepDetails(),t=e.wakeUpTime,a=e.bedTime,i=false;var s=moment(n.taskManager.getDay()).startOf("day").isSame(moment(j).startOf("day"));if(moment(e.wakeUpTime).isBefore(j)&&s){t=j.format();i=true;console.log("the user is planning today but wake up time has already passed. starting strip at current moment")}console.log("Scale",moment(t).format(r.PiUtilities.full_format),moment(a).format(r.PiUtilities.full_format));return{truncated:i,min:t,max:a}}function B(){U.hide()}function Y(){var e=d.getAnticipatedSleepTime();var t=e/n.taskManager.getSleepGoalInMinutes();if(t>1)t=1;return t}n.selectedTaskBlock=function(e){if(e){S=e;eve("taskBlockSelected",{},e)}return S};n.redraw=function(e){n.scale=V();z(e)};function R(e,t,a){var i=l.relativeMousePoints(t,a).x/n.stripWidth;var s=r.PiUtilities.toLinearSizeFromTaskSize(d.MINIMUM_TASK_SIZE+10,n.scale.min,n.scale.max)/2;var o=i-s;var c=d.addTask({name:"",start:r.PiUtilities.toTimeOfDayFromLinearPosition0to1(o,n.scale.min,n.scale.max),end:r.PiUtilities.toTimeOfDayFromLinearPosition0to1(i+s,n.scale.min,n.scale.max),emoji:"1f3c0.png",tempData:{}});eve("userAddedTaskByClickingStrip",{},c)}function z(e){M.attr({x:0,y:g,width:p,height:u,fill:"#f8b978"});P.attr({x:n.stripWidth+p,y:g,width:p,height:u,fill:"#37445c"});x.attr({x:n.stripLeftOffset,y:n.stripTopOffset,width:n.stripWidth,height:n.stripHeight,fill:"#7e3c46","fill-opacity":.1});if(!U){U=new i.ThreeSegmentButton(n,{x:n.sleepAdjustmentButtonLeftOffset,y:n.sleepAdjustmentButtonTopOffset,width:n.sleepAdjustmentButtonWidth,height:n.sleepAdjustmentButtonHeight,image:"/assets/sun.png",leftIcon:"/assets/plus.svg",rightIcon:"/assets/minus.svg"});U.leftButton.click(W);U.rightButton.click(N)}if(!_){_=new i.ThreeSegmentButton(n,{x:n.totalWidth-c-n.sleepAdjustmentButtonWidth,y:n.sleepAdjustmentButtonTopOffset,width:n.sleepAdjustmentButtonWidth,height:n.sleepAdjustmentButtonHeight,image:"/assets/moon.png",leftIcon:"/assets/minus.svg",rightIcon:"/assets/plus.svg"});_.leftButton.click(H);_.rightButton.click(X)}if(n.scale.truncated){B()}var t=d.getTasks();t.forEach(function(t,i,r){var s=n.blocks.find(function(e,n,a){return e.task.id==t.id});if(!s){s=new a.TaskBlock(n,t.id);n.blocks.push(s)}else{s.redraw(e)}console.log(s.task.name,s.task.id,s.task.index)});console.log(n.blocks);A.attr({x:n.stripLeftOffset,y:n.stripTopOffset,width:n.stripWidth,height:n.stripHeight,rx:c,ry:c,fill:"white"});O.attr({x:k,y:v,width:h,height:m});L.attr({x:k,y:v,width:h*Y(),height:m});L.attr({rx:m/2,ry:m/2,fill:C});O.attr({rx:m/2,ry:m/2,fill:"#7e3c46","fill-opacity":.1})}function W(){console.log("waking up earlier");var e=d.getSleepTasks();e[0].end=moment(e[0].end).subtract(30,"minutes").format();d.updateTasks()}function N(){console.log("waking up later");var e=d.getSleepTasks();e[0].end=moment(e[0].end).add(30,"minutes").format();d.updateTasks()}function H(){console.log("go to bed earlier");d.bedTime(moment(d.bedTime()).subtract(30,"minutes").format());d.updateTasks()}function X(){console.log("go to bed later");d.bedTime(moment(d.bedTime()).add(30,"minutes").format());d.updateTasks()}E()}function l(){return{restrict:"E",replace:true,template:'<svg viewBox="0 0 200 200" class="TaskStrip"></svg>',link:function e(t,n,a){var i=new o(Snap(n[0]),t.taskData.tasks)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TaskBlock=i;var a=n(7);function i(e,t){var n=this,i=e,r=e.drawingArea,s=e.taskManager;var o=r.rect(),l=r.rect(),d=r.rect(),c=r.image(),f=r.rect(),p=r.rect(),u=r.rect(),g=r.path(),m=r.path(),h=r.g(),v=r.path(),k;var b=i.stripHeight*(1/22),y=1.1;var D=.6,T="#e2e2e2",w=.6,S="#3fa9f5";var M=.1,P="transparent";var x,A;var I=false;var C="in-single-selection-mode";var O="task-block";var L;var U=t;h.addClass(O);h.add(o,l,d,c,f,u,p,g,m);n.blockGroup=h;e.group.add(h);B();function _(e,t){n.startingPosition=0;n.terminalPosition=0;n.task=s.getTask(e);V();var a=E();n.draw(a.startingPosition,a.terminalPosition)}function j(){n.task=s.getTask(U)}function E(t,i,r){var s=n.task||t;return{startingPosition:a.PiUtilities.toLinearPosition0to1FromTimeOfDay(s.start||i,e.scale.min,e.scale.max)+e.stripLeftOffset,terminalPosition:a.PiUtilities.toLinearPosition0to1FromTimeOfDay(s.end||r,e.scale.min,e.scale.max)+e.stripLeftOffset}}function F(){x=false;var e=s.getTaskAtIndex(n.task.index+1);if(e&&moment(e.start).isSame(moment(n.task.end)))x=true}function V(){F()}function B(){f.drag(se,null,ue);p.drag(oe,null,ue);u.dblclick(J);u.drag(re,ne,pe);g.drag(ce,null,fe);g.hover(le,de);eve.on("userDraggingTaskInSingleSelectionMode",te);eve.on("taskBlockSelected",J)}var Y=null,R=null,z=null,W=null,N=null;function H(){var e=$(".task-block").last();$(n.blockGroup.node).insertAfter(e)}function X(){return n.task.index<s.getTaskCount()-1?s.getTaskAtIndex(n.task.index+1).start:i.scale.max}function K(){var e;if(n.task.index==0){e=i.scale.min}else if(n.task.index>0){var t=s.getTaskAtIndex(n.task.index-1);e=s.getTaskAtIndex(n.task.index-1).end;if(i.scale.truncated&&moment(t.start).isBefore(moment(i.scale.min))){e=i.scale.min}}return e}function q(e){var t,r;if(e=="start"){if(Y===null){var o=n.startingPosition;var l=a.PiUtilities.toLinearPosition0to1FromTimeOfDay(s.getTaskAtIndex(1).start,i.scale.min,i.scale.max);var d=a.PiUtilities.toLinearPosition0to1FromTimeOfDay(i.scale.min,i.scale.min,i.scale.max);var c=l-d;Y=o-c}t=Y;r=a.PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(n.task.end).subtract(s.MINIMUM_TASK_SIZE,"minutes"),i.scale.min,i.scale.max)}else if(e=="end"){if(R===null){var f=n.terminalPosition;var p=a.PiUtilities.toLinearPosition0to1FromTimeOfDay(s.getTaskAtIndex(s.getTaskCount()-1).end,i.scale.min,i.scale.max);var u=a.PiUtilities.toLinearPosition0to1FromTimeOfDay(i.scale.max,i.scale.min,i.scale.max);var g=p-u;R=f-g}r=R;t=a.PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(n.task.start).add(s.MINIMUM_TASK_SIZE,"minutes"),i.scale.min,i.scale.max)}console.log("Direction: "+e);return{minPosition:t,maxPosition:r}}function G(){Y=null;R=null;z=null}function Z(){$("body").removeClass("task-block-selected");i.blocks.forEach(function(e){e.blockGroup.removeClass("selected")})}function J(e,t){var a=typeof e=="string"&&e==n.task.id,i=e instanceof MouseEvent;if(a||i){if(a){if(t=="api"){eve("taskBlockSelected",{},n.task.id,"api");console.log("Selected via api call",n.task.name)}}if(i){if(t!="clicked"){eve("taskBlockSelected",{},n.task.id,"clicked");console.log("Selected via click",n.task.name)}}Z();$("body").addClass("task-block-selected");n.blockGroup.addClass("selected")}eve.on("userClickedOutsideOfStrip",Z)}function Q(e,t,o,l,d){var c=e*r.getCurrentPixelRatio().x/i.stripWidth;var f=a.PiUtilities.taskSize(n.task.start,n.task.end);var p=a.PiUtilities.toLinearPosition0to1FromTimeOfDay(n.task.end,i.scale.min,i.scale.max)-a.PiUtilities.toLinearPosition0to1FromTimeOfDay(n.task.start,i.scale.min,i.scale.max);z=d.altKey?"end":"start";var u=q(z);var g={};console.log("Direction: "+z);if(z=="start"){g.minPosition=u.minPosition;g.maxPosition=a.PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(X()).subtract(f,"minutes"),i.scale.min,i.scale.max)}else if(z=="end"){g.minPosition=a.PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(K()),i.scale.min,i.scale.max);g.maxPosition=u.maxPosition-p}console.log("DX:"+e);var m=r.limitUIValueIfNecessary(W+c,g.minPosition,g.maxPosition).limitedValue;n.task.tempData["prev-start"]=n.task.start;n.task.tempData["prev-end"]=n.task.end;
n.task.start=a.PiUtilities.toTimeOfDayFromLinearPosition0to1(m,i.scale.min,i.scale.max);n.task.end=moment(n.task.start).add(f,"m").format();s.updateTasks({tasks:[n.task.id],updateMethod:z+"-push-pull"})}function ee(e,t,o,l,d){var c=e.split("-")[0],f=[n.task.id];var p=q(c);var u=r.limitUIValueIfNecessary(a.PiUtilities.toLinearPosition0to1FromArbitraryXPosition(r.relativeMousePoints(l,d).x,i.stripWidth),p.minPosition,p.maxPosition).limitedValue;var g=a.PiUtilities.toTimeOfDayFromLinearPosition0to1(u,i.scale.min,i.scale.max);n.task.tempData["prev-"+c]=n.task[c];n.task[c]=g;s.updateTasks({tasks:f,updateMethod:c+"-push-pull",fullUpdate:false});i.redraw()}function te(e,t,n,a){}function ne(){H();W=n.startingPosition}var ae,ie;function re(e,t,o,l,d){if(d.shiftKey){Q(e,t,o,l,d);return}var c=e*r.getCurrentPixelRatio().x/i.stripWidth;var f=r.relativeMousePoints(o,l).x/i.stripWidth;var p=a.PiUtilities.taskSize(n.task.start,n.task.end);var u=n.task.id;var g=ae-f;if(g<0){ie="forward"}else if(g>0){ie="backward"}var m=a.PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(X()).subtract(p,"minutes"),i.scale.min,i.scale.max);var h=a.PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(K()),i.scale.min,i.scale.max);var v=r.limitUIValueIfNecessary(W+c,h,m);var k=i.blocks.find(function(e,t,r){var o=a.PiUtilities.toLinearSize(e.task.start,e.task.end,i.scale.min,i.scale.max);if(u!=e.task.id){if(ie=="forward"&&f>a.PiUtilities.toLinearPosition0to1FromTimeOfDay(n.task.start,i.scale.min,i.scale.max)&&f>e.startingPosition&&f<e.terminalPosition){n.bend(.2);if(f>e.startingPosition+o*.55){s.updateTasks({tasks:[u,e.task.id],updateMethod:"insert-after-ripple",animate:true})}return true}else if(ie=="backward"&&f<a.PiUtilities.toLinearPosition0to1FromTimeOfDay(n.task.start,i.scale.min,i.scale.max)&&f>e.startingPosition&&f<e.terminalPosition){n.bend(-.2);if(f<e.terminalPosition-o*.55){s.updateTasks({tasks:[u,e.task.id],updateMethod:"insert-before-ripple",animate:true})}return true}}});if(!k){n.task.start=a.PiUtilities.toTimeOfDayFromLinearPosition0to1(v.limitedValue,i.scale.min,i.scale.max);n.task.end=moment(n.task.start).add(p,"m").format();n.redraw()}ae=f;eve("userIsDraggingTask")}function se(e,t,o,l,d){if(d.shiftKey){ee("start-handle",e,t,o,l);return}var c=r.getUIValueFromMousePosition({mouseX:o,mouseY:l,valueFn:function f(e,t){return r.relativeMousePoints(e,t).x/i.stripWidth},max:a.PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(n.task.end).subtract(s.MINIMUM_TASK_SIZE,"minutes").format(),i.scale.min,i.scale.max),min:a.PiUtilities.toLinearPosition0to1FromTimeOfDay(K(),i.scale.min,i.scale.max)});n.task.start=a.PiUtilities.toTimeOfDayFromLinearPosition0to1(c,i.scale.min,i.scale.max);n.redraw()}function oe(e,t,o,l,d){if(d.shiftKey){ee("end-handle",e,t,o,l);return}var c=r.getUIValueFromMousePosition({mouseX:o,mouseY:l,valueFn:function f(e,t){return r.relativeMousePoints(e,t).x/i.stripWidth},max:a.PiUtilities.toLinearPosition0to1FromTimeOfDay(X(),i.scale.min,i.scale.max),min:a.PiUtilities.toLinearPosition0to1FromTimeOfDay(moment(n.task.start).add(s.MINIMUM_TASK_SIZE,"minutes").format(),i.scale.min,i.scale.max)});n.task.end=a.PiUtilities.toTimeOfDayFromLinearPosition0to1(c,i.scale.min,i.scale.max);n.redraw()}function le(){if(x){g.attr({strokeWidth:w,stroke:S})}}function de(){if(x){g.attr({strokeWidth:D,stroke:"#e6e6e5"})}}function ce(e,t,o,l){console.log("adjacent: ",x);if(x){var d=s.getTaskAtIndex(n.task.index+1);var c=r.limitUIValueIfNecessary(a.PiUtilities.toLinearPosition0to1FromArbitraryXPosition(r.relativeMousePoints(o,l).x,i.stripWidth),a.PiUtilities.toLinearPosition0to1FromTimeOfDay(s.utilities.getTaskEarliestPossibleEndTime(n.task.index),i.scale.min,i.scale.max),a.PiUtilities.toLinearPosition0to1FromTimeOfDay(s.utilities.getTaskLatestPossibleStartTime(n.task.index+1),i.scale.min,i.scale.max)).limitedValue;var f=a.PiUtilities.toTimeOfDayFromLinearPosition0to1(c,i.scale.min,i.scale.max);n.task.end=f;d.start=f;s.updateTasks();le()}}function fe(){de()}function pe(){s.updateTasks();ae=null;ie=null;W=null;G()}function ue(e){s.updateTasks({tasks:[n.task.id],updateMethod:"regular",animate:false});G()}n.redraw=function(e){j();V();var t=E();var a=e?300:0;n.draw(t.startingPosition,t.terminalPosition,function(){},a)};n.bend=function(e){n.draw(n.startingPosition,n.terminalPosition,null,null,e)};n.draw=function(e,t,s,k,w){var S=k||0;var M=n.startingPosition,x=n.terminalPosition;function A(e){var t=e[0];var s=e[1];var k=t*i.stripWidth;var S=s*i.stripWidth;var M=S-k,x=M*.25;var A=w||0;var I=A>0?1:0,C=1,O=C*A,$="M"+k+","+i.stripTopOffset,L="L"+(k+M)+","+i.stripTopOffset,U="A"+O+","+C+" 0  0 "+I+" "+(k+M)+","+(i.stripTopOffset+i.stripHeight),_="L"+k+","+(i.stripTopOffset+i.stripHeight),j="A"+O+","+C+" 0  0 "+(I?0:1)+" "+k+","+i.stripTopOffset+" z";var E=[$,L,U,_,j].join(" ");o.attr({x:k-x/2,y:i.stripTopOffset,width:M+x,height:i.stripHeight,fill:"white"});l.attr({x:k-x/2,y:i.stripTopOffset,width:M+x,height:b,fill:n.task.color||a.PiUtilities.colors.pieOrangeCream});d.attr({x:k-x/2,y:i.stripTopOffset+i.stripHeight-b,width:M+x,height:b,fill:n.task.color||a.PiUtilities.colors.pieOrangeCream});f.attr({x:k,y:i.stripTopOffset,width:y,height:i.stripHeight,fill:P,stroke:P,"stroke-width":.1});p.attr({x:S-y,y:i.stripTopOffset,width:y,height:i.stripHeight,fill:P,stroke:P,"stroke-width":.1});u.attr({x:k+y,y:i.stripTopOffset,width:M-2*y,height:i.stripHeight,fill:"transparent",stroke:P,"stroke-width":.1});var $="M"+k+","+i.stripTopOffset,U="A"+O+","+C+" 0 0 "+I+" "+k+","+(i.stripTopOffset+i.stripHeight),F=[$,U].join(" ");m.attr({d:F,"stroke-width":0,stroke:T,fill:"transparent",strokeAlignment:"inner"});if(A){m.attr({d:F,"stroke-width":D,stroke:T,fill:"transparent",strokeAlignment:"inner"})}var $="M"+(k+M)+","+i.stripTopOffset,U="A"+O+","+C+" 0 0 "+I+" "+(k+M)+","+(i.stripTopOffset+i.stripHeight),V=[$,U].join(" ");g.attr({d:V,"stroke-width":D,stroke:T,fill:"transparent",strokeAlignment:"inner"});if(n.task.type!="sleep"){var B=o.getBBox(),Y=2.1;if(c){c.remove()}c=r.image("assets/emojis/72x72/"+n.task.emoji||"1f0cf.png",B.cx-Y/2+O,B.cy-Y/2,Y,Y);h.add(c)}v.attr({d:E,fill:"white",stroke:"transparent"});n.blockGroup.attr({clip:v})}if(S>0){if(L)return;L=true;Snap.animate([M,x],[e,t],function(e){A(e)},S,function(){n.startingPosition=e;n.terminalPosition=t;L=false;if(s)s()})}else{A([e,t]);n.startingPosition=e;n.terminalPosition=t}};n.destroy=function(){h.remove();n=null};_(t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ThreeSegmentButton=n;function n(e,t){var n=this,a=e.drawingArea;var i=t.width/3;var r=1.3;var s=1.05;var o=a.rect();o.attr({x:t.x,y:t.y,width:i,height:t.height,fill:"#ffffff",fillOpacity:.8,stroke:"#cccccc",strokeWidth:.03});var l=o.getBBox();var d=a.image(t.leftIcon||"app/assets/plus.svg",l.cx-s/2,l.cy-s/2,s,s);var c=a.rect();c.attr({x:t.x+i,y:t.y,width:i,height:t.height,fill:"#f7f1eb"});var f=c.getBBox();var p=a.image(t.image,f.cx-r/2,f.cy-r/2,r,r);var u=a.rect();u.attr({x:t.x+i*2,y:t.y,width:i,height:t.height,fill:"#ffffff",fillOpacity:.8,stroke:"#cccccc",strokeWidth:.03});var g=u.getBBox();var m=a.image(t.rightIcon||"app/assets/minus.svg",g.cx-s/2,g.cy-s/2,s,s);n.leftButton=a.g();n.leftButton.add(o,d);n.middleButton=a.g();n.middleButton.add(c,p);n.rightButton=a.g();n.rightButton.add(u,m);n.hide=function(){$([n.leftButton.node,n.middleButton.node,n.rightButton.node]).hide()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DonutViewController=l;var a=n(7);var i=n(8);var r=n(9);var s=n(12);var o=n(4);function l(e,t,n){"ngInject";var a=new o.Day;e.taskManager=new i.TaskManager(n.taskData);e.showCamera=false}l.$inject=["$scope","$timeout","$rootScope"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LinearViewController=l;var a=n(7);var i=n(8);var r=n(9);var s=n(12);var o=n(4);function l(e,t,n){"ngInject";var r;var l=new o.Day;e.taskData={picture:"/assets/terron.jpg",wakeUpTime:l.at("7:30 am"),bedTime:l.nextDay().at("2:00 am"),sleepGoal:"08:00",tasks:[{name:"Gym",start:l.at("3:00 pm"),end:l.at("4:00 pm"),color:"#7e3c46",emoji:"1f4d0.png",tempData:{}},{name:"Return rentals",start:l.at("4:00 pm"),end:l.at("5:00 pm"),emoji:"1f4de.png",tempData:{}},{name:"Finish Paper",start:l.at("8:00 pm"),end:l.at("11:30 pm"),emoji:"1f62d.png",tempData:{}}]};e.taskManager=new i.TaskManager(e.taskData);r=new s.TaskStrip(Snap("#task-strip"),e.taskManager);e.selectedTask=null;e.selectedTaskDetail={};e.currentDetailView="basic-details";eve.on("taskListUpdated",d);eve.on("taskBlockSelected",c);eve.on("userClickedOutsideOfStrip",f);eve.on("userAddedTaskByClickingStrip",p);eve.on("userIsDraggingTask",u);function d(){t(function(){e.taskDataString=JSON.stringify(e.taskData,null,4);e.numberOfUserTasks=e.taskManager.getTaskCount()})}function c(n){console.log("task block clicked");t(function(){e.selectedTaskDetail=e.taskManager.getTask(n)})}function f(){e.$apply(function(){e.selectedTaskDetail=null})}function p(a){console.log(a);t(function(){e.selectTask(a);if(n.tourInProgress&&n.tourStep==4){n.advanceTour()}})}function u(){t(function(){if(n.tourInProgress&&n.tourStep==6){n.advanceTour()}})}e.Utilities=a.PiUtilities;e.taskFilter=a.PiUtilities.task_data_filter;e.toLinearSize=function(e){return a.PiUtilities.toLinearSizeFromTaskSize(e,r.scale.min,r.scale.max)};e.redraw=function(){eve("taskListUpdated")};e.selectTask=function(t){if(typeof t=="number")e.selectedTaskDetail=e.taskManager.getTaskAtIndex(t);if(typeof t=="string")e.selectedTaskDetail=e.taskManager.getTask(t);e.selectedTaskID=e.selectedTaskDetail.id;r.selectedTaskBlock(e.selectedTaskID)};e.deselectTasks=function(){e.selectedTaskDetail=null;e.selectedTaskID=null;console.log(e.selectedTaskID)};e.createNewTask=function(){var t=e.taskManager.utilities.firstAvailableOpening(e.taskManager.MINIMUM_TASK_SIZE,r.scale.min,r.scale.max);if(t){var n=e.taskManager.addTask({name:e.newTaskName,start:t,end:moment(t).add(15,"m").format(),color:"#9ec2e1"});e.newTaskName="";e.selectTask(n)}};e.deleteCurrentlySelectedTask=function(){e.taskData.tasks.splice(e.selectedTaskID,1);if(e.taskData.tasks.length-1>0){e.selectTask(e.taskData.tasks.length-1)}else{e.deselectTasks()}e.taskDonuts[0].redraw()};function g(t){var n=e.selectedTaskID+1;var a=e.taskData.tasks[n];if(a){console.log("next: "+a.name);if(a.insertedAfterward){e.taskData.tasks.splice(n,1,t)}else{e.taskData.tasks.splice(n,0,t)}}else{e.taskData.tasks.push(t)}e.taskDonuts[0].redraw()}e.removeTaskAfter=function(){var t=e.taskData.tasks[e.selectedTaskID+1];if(t&&t.insertedAfterward){e.taskData.tasks.splice(e.selectedTaskID+1,1);e.taskDonuts[0].redraw()}e.selectTask(e.selectedTaskID)};e.insertBreakTask=function(){var e={name:"30 Minute Break",angleSize:a.PiUtilities.toAngleSize(30),color:a.PiUtilities.colors.night,type:"break",insertedAfterward:true};g(e)};e.insertEatTask=function(){var e={name:"Eat",angleSize:a.PiUtilities.toAngleSize(45),color:a.PiUtilities.colors.day,type:"break",insertedAfterward:true};g(e)};e.insertExerciseTask=function(){var e={name:"Exercise",angleSize:a.PiUtilities.toAngleSize(45),color:a.PiUtilities.colors.day,insertedAfterward:true};g(e)};e.toggleListView=function(){e.showListView=!e.showListView;console.log("List View: "+e.showListView)};e.selectTaskAfter=function(){var t=e.selectedTaskDetail.afterward;if(t){var n="insert"+t+"Task";if(n in e){e[n]()}}else{e.removeTaskAfter()}};e.$watch("selectedTaskDetail.emoji",function(){var t=e.selectedTaskDetail.emoji;if(t){e.taskManager.updateTasks()}});e.$watch("selectedTaskDetail.angleSize",function(){var t=e.selectedTaskDetail.angleSize;if(t){var n=e.taskDonuts[0].slices[e.selectedTaskID];n.update({angleSize:t});console.log("Angle "+t+" Minutes: "+a.PiUtilities.toMinutes(t))}});var m;e.sortableOptions={cancel:"input",start:function h(e,t){m=t.item.index()},update:function v(n,i){t(function(){var t=parseInt($(i.item).attr("data-task-id"));var n=parseInt($(".task-li[data-index="+m+"]").attr("data-task-id"));m=null;var r=e.taskData.tasks[t],s=r.start;var o=e.taskData.tasks[n];r.start=o.start;r.end=moment(r.start).add(a.PiUtilities.taskSize(s,r.end),"m").format();e.taskManager.updateTasks([t],"end-ripple")})},stop:function k(e,t){}};e.selectTask(1);e.showListView=true}l.$inject=["$scope","$timeout","$rootScope"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TourStepOneController=s;t.AttachWebcamDirective=o;var a=n(8);var i=n(9);var r=n(4);function s(e,t,n,a,i,r){"ngInject"}s.$inject=["$rootScope","$scope","$timeout","$state","$location","$http"];function o(){return{restrict:"A",link:function e(t,n,a){var i=n,r=i.height(),s=240;Webcam.set({width:320,height:240,dest_width:640,dest_height:480,crop_width:480,crop_height:480,image_format:"jpeg",jpeg_quality:90});Webcam.attach(n[0])}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TourStepTwoController=s;var a=n(8);var i=n(9);var r=n(4);function s(e,t){"ngInject";Number.prototype.isBetween=function(e,t){return this>=e&&this<=t};e.sleepSliderValue=0;e.determineBedtime=function(t){e.sleepForm.bedTimeInput.$setValidity("valid",true);var n=t||e.bedTimeModel;var a=moment(n,"h:mma");if(!a.isValid()){e.sleepForm.bedTimeInput.$setValidity("valid",false);return}e.bedTime=a;var i=n.includes("am")||n.includes("a")||n.includes("AM")||n.includes("A"),r=n.includes("pm")||n.includes("p")||n.includes("PM")||n.includes("P");if(!i&&!r){console.log("doesn't have am or pm");e.sleepForm.bedTimeInput.$setValidity("valid",false);return}if(i){e.bedTime.add(1,"day")}console.log(e.bedTime);return e.bedTime};e.adjustBedTime=function(t){var n=e.determineBedtime(e.bedTimeModel);if(t=="+"){n.add("30","m")}else if(t=="-"){n.subtract("30","m")}e.bedTimeModel=n.format("h:mma");e.determineBedtime(e.bedTimeModel)};e.determineRecommendedSleepHoursForAge=function(t){var n=t||e.ageModel,a;if(!n)return;if(n.isBetween(6,13)){a=[9,11]}else if(n.isBetween(14,17)){a=[8,10]}else if(n.isBetween(18,25)){a=[7,9]}else if(n.isBetween(26,64)){a=[7,9]}else if(n>=65){a=[7,8]}if(a){e.recommendedSleepHours=a;e.sleepSliderValue=e.recommendedSleepHours[0]+1}};e.configureSleep=function(){if(!e.sleepForm.$valid){if(!e.sleepForm.bedTimeInput.valid){alert("Be sure to specify a bed time in the correct format, with AM or PM. ie: 10:30pm or 1:00am")}return}if(t.tourInProgress){t.advanceTour()}}}s.$inject=["$scope","$rootScope"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TaskDonutDirective=r;var a=n(9);var i=n(8);function r(e,t,n){"ngInject";return{restrict:"E",scope:{taskDonutModel:"=",taskDonutManager:"=",showCamera:"="},templateUrl:"app/components/TaskDonut/TaskDonutDirective.html",link:function i(r,s,o){var l=s.find("svg.donut")[0];console.log(l);console.log(r.taskDonutManager);r.taskDonutModel=new a.TaskDonut(Snap(l),r.taskDonutManager);var d=$(".TaskDonut",this);s.mousedown(function(){if(n.tourInProgress&&n.tourStep<4)return false;d.addClass("push-donut")});s.click(function(){if(n.tourInProgress&&n.tourStep<4)return false;var a=0;d.addClass("push-donut");a+=300;t(function(){d.removeClass("push-donut")},a);a+=100;t(function(){e.go(r.stateLink||o.stateLink||"home.linear")},a)});var c=window.location.origin+"main/instagram";r.instagramPhotoIndex=0;r.images=[];r.photoOption=null;r.settings=n.demo_user_settings;r.instagram_auth_url="https://api.instagram.com/oauth/authorize/?client_id=823677c4bf4544f6a90daf2b6134b0c3&redirect_uri="+c+"&response_type=token";r.hideSplash=function(){r.splash=false};r.selectInstagram=function(){window.location=r.instagram_auth_url};r.skip=function(){r.setPhoto()};r.selectWebcam=function(){r.photoOption="webcam"};r.$watch("demoTaskDonut",function(){console.log(r.demoTaskDonut)});r.setPhoto=function(){var e;if(r.photoOption=="instagram"){e=p(r.instagramPhotoIndex)}if(r.photoOption=="webcam"){Webcam.snap(function(t){e=t})}r.photoOption=null;r.showCamera=false;r.taskDonutManager.picture(e);r.taskDonutModel.redraw();if(n.tourInProgress){n.advanceTour()}};function f(){$http.jsonp("https://api.instagram.com/v1/users/self/media/recent/?access_token="+n.instagram_access_token+"&callback=JSON_CALLBACK").success(function(e){r.images=e.data.filter(function(e){return e.type=="image"});r.currentInstagramImage=p(r.instagramPhotoIndex)})}function p(e){return r.images[e].images.standard_resolution.url}r.shouldShowPrev=function(){return r.instagramPhotoIndex>0};r.shouldShowNext=function(){return r.instagramPhotoIndex<r.images.length-1};r.nextInstagramImage=function(){if(!r.shouldShowNext())return;r.instagramPhotoIndex+=1;r.currentInstagramImage=p(r.instagramPhotoIndex)};r.prevInstagramImage=function(){if(!r.shouldShowPrev())return;r.instagramPhotoIndex-=1;r.currentInstagramImage=p(r.instagramPhotoIndex)};r.handleInstagramAuth=function(){var e=$location.search();if(e.access_token){r.photoOption="instagram";n.instagram_access_token=e.access_token;f()}else if(e.error_description){console.log("Instagram Error")}};if(e.current.name=="tour_step_one"){r.handleInstagramAuth()}}}}r.$inject=["$state","$timeout","$rootScope"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Bucket=n;function n(e,t,n){var a=this,i,r=e,s=t,o=n,l,d,c,f,p,u=r.drawingArea.path(),g=r.drawingArea.text(),m=r.drawingArea.g(),h=120,v,k;i=function(e,t,n){v(e,t,n);a.drawStrip();m.add(u,g)};v=function(e,t,n){a.angularRotation=(n||h)+r.angle_offset;a.startingAngle=e+Snap.rad(a.angularRotation);a.terminalAngle=a.startingAngle+t;a.outerRadius=r.outerRadius*1.25;a.textRadius=a.outerRadius/1.07;a.innerRadius=a.outerRadius/1.17;a.outerTerminalVector=[r.centerX+a.outerRadius*Math.cos(a.terminalAngle),r.centerY+a.outerRadius*Math.sin(a.terminalAngle)];a.outerStartingVector=[r.centerX+a.outerRadius*Math.cos(a.startingAngle),r.centerY+a.outerRadius*Math.sin(a.startingAngle)];a.textVector=[r.centerX+a.textRadius*Math.cos(a.startingAngle+t/2),r.centerY+a.textRadius*Math.sin(a.startingAngle+t/2)];a.innerStartingVector=[r.centerX+a.innerRadius*Math.cos(a.startingAngle),r.centerY+a.innerRadius*Math.sin(a.startingAngle)];a.innerTerminalVector=[r.centerX+a.innerRadius*Math.cos(a.terminalAngle),r.centerY+a.innerRadius*Math.sin(a.terminalAngle)]};k=function(){var e=a.terminalAngle.mod(2*Math.PI)-a.startingAngle.mod(2*Math.PI)>Math.PI?1:0;var t="M"+a.innerStartingVector[0]+","+a.innerStartingVector[1];var n="A"+a.innerRadius+","+a.innerRadius+" 0 "+e+" 1 "+a.innerTerminalVector[0]+","+a.innerTerminalVector[1];var i="L"+a.outerTerminalVector[0]+","+a.outerTerminalVector[1];var r="A"+a.outerRadius+","+a.outerRadius+" 0 "+e+" 0 "+a.outerStartingVector[0]+","+a.outerStartingVector[1];var s="L"+a.innerStartingVector[0]+","+a.innerStartingVector[1]+" z";var o=[t,n,i,r,s].join(" ");var l="white";return{d:o,stroke:"#ededed","stroke-width":.15,fill:l}};a.drawStrip=function(){var e=k();u.attr(e);if(a.textLabel){g.attr({text:a.textLabel,"text-anchor":"middle","alignment-baseline":"central","font-size":3,fill:"#cccccc"});var t=u.getBBox();g.attr({x:t.cx,y:t.cy})}};a.assign=function(e){a.setText(e.label)};a.setText=function(e){a.textLabel=e;a.drawStrip()};a.g=function(){return m};l=function(e,t,n){if(Snap.path.isPointInside(u.toString(),t,n)){c(e,t,n)}else{f(e,t,n)}};d=function(e,t,n){if(Snap.path.isPointInside(u.toString(),t,n)){console.log("bucket "+a.textLabel+" accepted drop from "+e.sliceIndex);p(e,t,n);eve("successfulTaskDropInBucket"+e.sliceIndex,{},e)}else{console.log("bucket "+a.textLabel+" rejected drop from "+e.sliceIndex);eve("cancelledTaskSliceDropInBucket"+e.sliceIndex,{},e)}};p=function(e){console.log("The task has been dropped in a bucket");m.removeClass("dragOver")};c=function(e,t,n){m.addClass("dragOver")};f=function(e,t,n){m.removeClass("dragOver")};eve.on("taskSliceDragging",l);eve.on("taskSliceStoppedDragging",d);i(s,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BucketRing=i;var a=n(20);function i(e,t){var n=this,i,r,s=120,o=6,l=e,d=l.drawingArea.g(),c=t;r=function(e,t,i){n.buckets=[];var t=Snap.rad(t||s),i=i||o;var r=t/i;for(var c=0;c<i;c++){var f=c*r;var p=new a.Bucket(l,f,r);n.buckets.push(p);d.add(p.g())}n.buckets[0].assign({label:"M"});n.buckets[1].assign({label:"T"});n.buckets[2].assign({label:"W"});n.buckets[3].assign({label:"TH"});n.buckets[4].assign({label:"F"});n.buckets[5].assign({label:"S"});d.attr({opacity:0})};i=function(e){if(e=="weekly"){r(s,s,o)}};n.show=function(){d.animate({opacity:1},30)};n.hide=function(){d.animate({opacity:0},30)};i(c||"weekly")}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TaskDetailPanelDirective=n;function n(){return{restrict:"E",replace:true,templateUrl:"app/components/TaskDetailPanel/TaskDetailPanel.html",link:function e(t,n,a){}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EmojiPicker=n;function n(){"ngInject";return{restrict:"E",scope:{selectedEmojiModel:"="},replace:true,templateUrl:"app/components/emoji-picker/emojipicker.html",link:function e(t,n,a){t.emojis=["1f0cf.png","1f1e6.png","1f1e7.png","1f1e8-1f1f3.png","1f1e8.png","1f1e9-1f1ea.png","1f1e9.png","1f1ea-1f1f8.png","1f1ea.png","1f1eb-1f1f7.png","1f1eb.png","1f1ec-1f1e7.png","1f1ec.png","1f1ed.png","1f1ee-1f1f9.png","1f1ee.png","1f1ef-1f1f5.png","1f1ef.png","1f1f0-1f1f7.png","1f1f0.png","1f1f1.png","1f1f2.png","1f1f3.png","1f1f4.png","1f1f5.png","1f1f6.png","1f1f7-1f1fa.png","1f1f7.png","1f1f8.png","1f1f9.png","1f1fa-1f1f8.png","1f1fa.png","1f1fb.png","1f1fc.png","1f1fd.png","1f1fe.png","1f1ff.png","1f3a0.png","1f3a1.png","1f3a2.png","1f3a3.png","1f3a4.png","1f3a5.png","1f3a6.png","1f3a7.png","1f3a8.png","1f3a9.png","1f3aa.png","1f3ab.png","1f3ac.png","1f3ad.png","1f3ae.png","1f3af.png","1f3b0.png","1f3b1.png","1f3b2.png","1f3b3.png","1f3b4.png","1f3b5.png","1f3b6.png","1f3b7.png","1f3b8.png","1f3b9.png","1f3ba.png","1f3bb.png","1f3bc.png","1f3bd.png","1f3be.png","1f3bf.png","1f3c0.png","1f3c1.png","1f3c2.png","1f3c3.png","1f3c4.png","1f3c6.png","1f3c7.png","1f3c8.png","1f3c9.png","1f3ca.png","1f3e0.png","1f3e1.png","1f3e2.png","1f3e3.png","1f3e4.png","1f3e5.png","1f3e6.png","1f3e7.png","1f3e8.png","1f3e9.png","1f3ea.png","1f3eb.png","1f3ec.png","1f3ed.png","1f3ee.png","1f3ef.png","1f3f0.png","1f004.png","1f4a0.png","1f4a1.png","1f4a2.png","1f4a3.png","1f4a4.png","1f4a5.png","1f4a6.png","1f4a7.png","1f4a8.png","1f4a9.png","1f4aa.png","1f4ab.png","1f4ac.png","1f4ad.png","1f4ae.png","1f4af.png","1f4b0.png","1f4b1.png","1f4b2.png","1f4b3.png","1f4b4.png","1f4b5.png","1f4b6.png","1f4b7.png","1f4b8.png","1f4b9.png","1f4ba.png","1f4bb.png","1f4bc.png","1f4bd.png","1f4be.png","1f4bf.png","1f4c0.png","1f4c1.png","1f4c2.png","1f4c3.png","1f4c4.png","1f4c5.png","1f4c6.png","1f4c7.png","1f4c8.png","1f4c9.png","1f4ca.png","1f4cb.png","1f4cc.png","1f4cd.png","1f4ce.png","1f4cf.png","1f4d0.png","1f4d1.png","1f4d2.png","1f4d3.png","1f4d4.png","1f4d5.png","1f4d6.png","1f4d7.png","1f4d8.png","1f4d9.png","1f4da.png","1f4db.png","1f4dc.png","1f4dd.png","1f4de.png","1f4df.png","1f4e0.png","1f4e1.png","1f4e2.png","1f4e3.png","1f4e4.png","1f4e5.png","1f4e6.png","1f4e7.png","1f4e8.png","1f4e9.png","1f4ea.png","1f4eb.png","1f4ec.png","1f4ed.png","1f4ee.png","1f4ef.png","1f4f0.png","1f4f1.png","1f4f2.png","1f4f3.png","1f4f4.png","1f4f5.png","1f4f6.png","1f4f7.png","1f4f9.png","1f4fa.png","1f4fb.png","1f4fc.png","1f5fb.png","1f5fc.png","1f5fd.png","1f5fe.png","1f5ff.png","1f6a0.png","1f6a1.png","1f6a2.png","1f6a3.png","1f6a4.png","1f6a5.png","1f6a6.png","1f6a7.png","1f6a8.png","1f6a9.png","1f6aa.png","1f6ab.png","1f6ac.png","1f6ad.png","1f6ae.png","1f6af.png","1f6b0.png","1f6b1.png","1f6b2.png","1f6b3.png","1f6b4.png","1f6b5.png","1f6b6.png","1f6b7.png","1f6b8.png","1f6b9.png","1f6ba.png","1f6bb.png","1f6bc.png","1f6bd.png","1f6be.png","1f6bf.png","1f6c0.png","1f6c1.png","1f6c2.png","1f6c3.png","1f6c4.png","1f6c5.png","1f17e.png","1f17f.png","1f18e.png","1f19a.png","1f21a.png","1f22f.png","1f23a.png","1f30a.png","1f30b.png","1f30c.png","1f30d.png","1f30e.png","1f30f.png","1f31a.png","1f31b.png","1f31c.png","1f31d.png","1f31e.png","1f31f.png","1f33a.png","1f33b.png","1f33c.png","1f33d.png","1f33e.png","1f33f.png","1f34a.png","1f34b.png","1f34c.png","1f34d.png","1f34e.png","1f34f.png","1f35a.png","1f35b.png","1f35c.png","1f35d.png","1f35e.png","1f35f.png","1f36a.png","1f36b.png","1f36c.png","1f36d.png","1f36e.png","1f36f.png","1f37a.png","1f37b.png","1f37c.png","1f38a.png","1f38b.png","1f38c.png","1f38d.png","1f38e.png","1f38f.png","1f40a.png","1f40b.png","1f40c.png","1f40d.png","1f40e.png","1f40f.png","1f41a.png","1f41b.png","1f41c.png","1f41d.png","1f41e.png","1f41f.png","1f42a.png","1f42b.png","1f42c.png","1f42d.png","1f42e.png","1f42f.png","1f43a.png","1f43b.png","1f43c.png","1f43d.png","1f43e.png","1f44a.png","1f44b.png","1f44c.png","1f44d.png","1f44e.png","1f44f.png","1f45a.png","1f45b.png","1f45c.png","1f45d.png","1f45e.png","1f45f.png","1f46a.png","1f46b.png","1f46c.png","1f46d.png","1f46e.png","1f46f.png","1f47a.png","1f47b.png","1f47c.png","1f47d.png","1f47e.png","1f47f.png","1f48a.png","1f48b.png","1f48c.png","1f48d.png","1f48e.png","1f48f.png","1f49a.png","1f49b.png","1f49c.png","1f49d.png","1f49e.png","1f49f.png","1f50a.png","1f50b.png","1f50c.png","1f50d.png","1f50e.png","1f50f.png","1f51a.png","1f51b.png","1f51c.png","1f51d.png","1f51e.png","1f51f.png","1f52a.png","1f52b.png","1f52c.png","1f52d.png","1f52e.png","1f52f.png","1f53a.png","1f53b.png","1f53c.png","1f53d.png","1f55a.png","1f55b.png","1f55c.png","1f55d.png","1f55e.png","1f55f.png","1f60a.png","1f60b.png","1f60c.png","1f60d.png","1f60e.png","1f60f.png","1f61a.png","1f61b.png","1f61c.png","1f61d.png","1f61e.png","1f61f.png","1f62a.png","1f62b.png","1f62c.png","1f62d.png","1f62e.png","1f62f.png","1f63a.png","1f63b.png","1f63c.png","1f63d.png","1f63e.png","1f63f.png","1f64a.png","1f64b.png","1f64c.png","1f64d.png","1f64e.png","1f64f.png","1f68a.png","1f68b.png","1f68c.png","1f68d.png","1f68e.png","1f68f.png","1f69a.png","1f69b.png","1f69c.png","1f69d.png","1f69e.png","1f69f.png","1f170.png","1f171.png","1f191.png","1f192.png","1f193.png","1f194.png","1f195.png","1f196.png","1f197.png","1f198.png","1f199.png","1f201.png","1f202.png","1f232.png","1f233.png","1f234.png","1f235.png","1f236.png","1f237.png","1f238.png","1f239.png","1f250.png","1f251.png","1f300.png","1f301.png","1f302.png","1f303.png","1f304.png","1f305.png","1f306.png","1f307.png","1f308.png","1f309.png","1f310.png","1f311.png","1f312.png","1f313.png","1f314.png","1f315.png","1f316.png","1f317.png","1f318.png","1f319.png","1f320.png","1f330.png","1f331.png","1f332.png","1f333.png","1f334.png","1f335.png","1f337.png","1f338.png","1f339.png","1f340.png","1f341.png","1f342.png","1f343.png","1f344.png","1f345.png","1f346.png","1f347.png","1f348.png","1f349.png","1f350.png","1f351.png","1f352.png","1f353.png","1f354.png","1f355.png","1f356.png","1f357.png","1f358.png","1f359.png","1f360.png","1f361.png","1f362.png","1f363.png","1f364.png","1f365.png","1f366.png","1f367.png","1f368.png","1f369.png","1f370.png","1f371.png","1f372.png","1f373.png","1f374.png","1f375.png","1f376.png","1f377.png","1f378.png","1f379.png","1f380.png","1f381.png","1f382.png","1f383.png","1f384.png","1f385.png","1f386.png","1f387.png","1f388.png","1f389.png","1f390.png","1f391.png","1f392.png","1f393.png","1f400.png","1f401.png","1f402.png","1f403.png","1f404.png","1f405.png","1f406.png","1f407.png","1f408.png","1f409.png","1f410.png","1f411.png","1f412.png","1f413.png","1f414.png","1f415.png","1f416.png","1f417.png","1f418.png","1f419.png","1f420.png","1f421.png","1f422.png","1f423.png","1f424.png","1f425.png","1f426.png","1f427.png","1f428.png","1f429.png","1f430.png","1f431.png","1f432.png","1f433.png","1f434.png","1f435.png","1f436.png","1f437.png","1f438.png","1f439.png","1f440.png","1f442.png","1f443.png","1f444.png","1f445.png","1f446.png","1f447.png","1f448.png","1f449.png","1f450.png","1f451.png","1f452.png","1f453.png","1f454.png","1f455.png","1f456.png","1f457.png","1f458.png","1f459.png","1f460.png","1f461.png","1f462.png","1f463.png","1f464.png","1f465.png","1f466.png","1f467.png","1f468.png","1f469.png","1f470.png","1f471.png","1f472.png","1f473.png","1f474.png","1f475.png","1f476.png","1f477.png","1f478.png","1f479.png","1f480.png","1f481.png","1f482.png","1f483.png","1f484.png","1f485.png","1f486.png","1f487.png","1f488.png","1f489.png","1f490.png","1f491.png","1f492.png","1f493.png","1f494.png","1f495.png","1f496.png","1f497.png","1f498.png","1f499.png","1f500.png","1f501.png","1f502.png","1f503.png","1f504.png","1f505.png","1f506.png","1f507.png","1f508.png","1f509.png","1f510.png","1f511.png","1f512.png","1f513.png","1f514.png","1f515.png","1f516.png","1f517.png","1f518.png","1f519.png","1f520.png","1f521.png","1f522.png","1f523.png","1f524.png","1f525.png","1f526.png","1f527.png","1f528.png","1f529.png","1f530.png","1f531.png","1f532.png","1f533.png","1f534.png","1f535.png","1f536.png","1f537.png","1f538.png","1f539.png","1f550.png","1f551.png","1f552.png","1f553.png","1f554.png","1f555.png","1f556.png","1f557.png","1f558.png","1f559.png","1f560.png","1f561.png","1f562.png","1f563.png","1f564.png","1f565.png","1f566.png","1f567.png","1f600.png","1f601.png","1f602.png","1f603.png","1f604.png","1f605.png","1f606.png","1f607.png","1f608.png","1f609.png","1f610.png","1f611.png","1f612.png","1f613.png","1f614.png","1f615.png","1f616.png","1f617.png","1f618.png","1f619.png","1f620.png","1f621.png","1f622.png","1f623.png","1f624.png","1f625.png","1f626.png","1f627.png","1f628.png","1f629.png","1f630.png","1f631.png","1f632.png","1f633.png","1f634.png","1f635.png","1f636.png","1f637.png","1f638.png","1f639.png","1f640.png","1f645.png","1f646.png","1f647.png","1f648.png","1f649.png","1f680.png","1f681.png","1f682.png","1f683.png","1f684.png","1f685.png","1f686.png","1f687.png","1f688.png","1f689.png","1f690.png","1f691.png","1f692.png","1f693.png","1f694.png","1f695.png","1f696.png","1f697.png","1f698.png","1f699.png","2b1b.png","2b1c.png","2b05.png","2b06.png","2b07.png","2b50.png","2b55.png","21a9.png","21aa.png","23-20e3.png","23e9.png","23ea.png","23eb.png","23ec.png","23f0.png","23f3.png","24c2.png","25aa.png","25ab.png","25b6.png","25c0.png","25fb.png","25fc.png","25fd.png","25fe.png","26a0.png","26a1.png","26aa.png","26ab.png","26bd.png","26be.png","26c4.png","26c5.png","26ce.png","26d4.png","26ea.png","26f2.png","26f3.png","26f5.png","26fa.png","26fd.png","27a1.png","27b0.png","27bf.png","30-20e3.png","31-20e3.png","32-20e3.png","33-20e3.png","34-20e3.png","35-20e3.png","36-20e3.png","37-20e3.png","38-20e3.png","39-20e3.png","203c.png","231a.png","231b.png","260e.png","261d.png","263a.png","264a.png","264b.png","264c.png","264d.png","264e.png","264f.png","267b.png","267f.png","270a.png","270b.png","270c.png","270f.png","274c.png","274e.png","303d.png","2049.png","2122.png","2139.png","2194.png","2195.png","2196.png","2197.png","2198.png","2199.png","2600.png","2601.png","2611.png","2614.png","2615.png","2648.png","2649.png","2650.png","2651.png","2652.png","2653.png","2660.png","2663.png","2665.png","2666.png","2668.png","2693.png","2702.png","2705.png","2708.png","2709.png","2712.png","2714.png","2716.png","2728.png","2733.png","2734.png","2744.png","2747.png","2753.png","2754.png","2755.png","2757.png","2764.png","2795.png","2796.png","2797.png","2934.png","2935.png","3030.png","3297.png","3299.png","a9.png","ae.png","e50a.png"];t.selectEmoji=function(e){t.selectedEmojiModel=t.emojis[e]}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SliderDirective=i;var a=n(7);function i(){return{restrict:"E",replace:false,scope:{sliderValue:"=",min:"=",max:"="},templateUrl:"app/components/slider/slider.html",link:function e(t,n,a,i){var r=angular.element(".slider-bar",n),s=angular.element(".value-bar",r),o=angular.element(".handle",r),l,d;var c=document.createElement("img");c.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";
function f(){p();h()}function p(){l=t.min||0;d=t.max||100;console.log(l,d)}function u(e,t){var n=e.getBoundingClientRect();return t.x<=n.right+o.width()&&t.x>=n.left-o.width()}function g(e){var t=(e-l)/(d-l)*100;return v(t)}function m(e,t){var n=e.getBoundingClientRect(),a=t.x-n.left,i=n.width,r=a/i,s=Math.round(r*d),o=s/d*100;if(s<=l){s=l}if(s>=d){s=d}return{percentage:o,raw:s}}function h(e){var n=e||t.sliderValue;if(n!=undefined){s[0].style.width=g(n)+"%"}}function v(e,t){var t=t||1;return Math.round(e/t)*t}function k(e){var n={x:e.pageX,y:e.pageY},a=m(r[0],n);if(!n.x&&!n.y)return;t.sliderValue=a.raw;t.$apply();console.log(a)}function b(e){e.dataTransfer.setDragImage(c,0,0)}r[0].addEventListener("click",k);r[0].addEventListener("dragstart",b);r[0].addEventListener("drag",k);t.$watchGroup(["sliderValue","min","max"],function(){f()})}}}},function(e,t){"use strict";(function(e,t,n){"use strict";(function(){"use strict";t.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"]).directive("mdCalendar",a);var e=252;var n=45;function a(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead><tr><th colspan="7" class="currentMonthYear" style="text-align: left;"><span class="currentMonth">{{ monthAtCurrentScrollPosition }}</span> <span class="currentYear">{{ yearAtCurrentScrollPosition }}</span></th></tr></thead></table>'+'<div class="md-calendar-scroll-mask">'+'<md-virtual-repeat-container class="md-calendar-scroll-container" '+'md-offset-size="'+(n-e)+'">'+'<table role="grid" tabindex="0" class="md-calendar" aria-readonly="true">'+'<tbody role="rowgroup" md-virtual-repeat="i in ctrl.items" md-calendar-month '+'md-month-offset="$index" class="md-calendar-month" '+'md-start-index="ctrl.getSelectedMonthIndex()" '+'md-item-size="'+e+'"></tbody>'+"</table>"+"</md-virtual-repeat-container>"+"</div>",scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter"},require:["ngModel","mdCalendar"],controller:l,controllerAs:"ctrl",bindToController:true,link:function t(e,n,a,i){var r=i[0];var s=i[1];s.configureNgModel(r)}}}var i="md-calendar-selected-date";var r="md-focus";var s=0;var o=null;function l(e,n,a,i,r,o,l,d,c,f,p){l(e);this.items={length:2e3};if(this.maxDate&&this.minDate){var u=d.getMonthDistance(this.minDate,this.maxDate)+1;u=Math.max(u,1);u+=1;this.items.length=u}this.$animate=i;this.$q=r;this.$mdInkRipple=f;this.$mdUtil=p;this.keyCode=o.KEY_CODE;this.dateUtil=d;this.dateLocale=c;this.$element=e;this.$scope=a;this.calendarElement=e[0].querySelector(".md-calendar");this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller");this.today=this.dateUtil.createDateAtMidnight();this.firstRenderableDate=this.dateUtil.incrementMonths(this.today,-this.items.length/2);if(this.minDate&&this.minDate>this.firstRenderableDate){this.firstRenderableDate=this.minDate}else if(this.maxDate){var g=this.items.length-2;this.firstRenderableDate=this.dateUtil.incrementMonths(this.maxDate,-(this.items.length-2))}this.id=s++;this.ngModelCtrl=null;this.selectedDate=null;this.displayDate=null;this.focusDate=null;this.isInitialized=false;this.isMonthTransitionInProgress=false;if(!n["tabindex"]){e.attr("tabindex","-1")}var m=this;this.cellClickHandler=function(){var e=this;if(this.hasAttribute("data-timestamp")){a.$apply(function(){var t=Number(e.getAttribute("data-timestamp"));m.setNgModelValue(m.dateUtil.createDateAtMidnight(t))})}};this.attachCalendarEventListeners();t.element(document.documentElement).on("click touchstart",function(){console.log("body click");if(this.isCalendarOpen){var e=this.$mdUtil.getClosest(event.target,"md-calendar");if(!e){this.closeCalendarPane()}this.$scope.$digest()}})}l.$inject=["$element","$attrs","$scope","$animate","$q","$mdConstant","$mdTheming","$$mdDateUtil","$mdDateLocale","$mdInkRipple","$mdUtil"];l.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.changeSelectedDate(t.ngModelCtrl.$viewValue)}};l.prototype.buildInitialCalendarDisplay=function(){this.buildWeekHeader();this.hideVerticalScrollbar();this.displayDate=this.selectedDate||this.today;this.isInitialized=true};l.prototype.hideVerticalScrollbar=function(){var e=this.$element[0];var t=e.querySelector(".md-calendar-scroll-mask");var n=this.calendarScroller;var a=e.querySelector(".md-calendar-day-header").clientWidth;var i=n.offsetWidth-n.clientWidth;t.style.width=a+"px";n.style.width=a+i+"px";n.style.paddingRight=i+"px"};l.prototype.attachCalendarEventListeners=function(){this.$element.on("keydown",t.bind(this,this.handleKeyEvent));t.element(this.calendarScroller).on("scroll",t.bind(this,this.pieHandleCalendarScroll))};var d=true;var c=.5;l.prototype.pieHandleCalendarScroll=function(){var t=(this.calendarScroller.scrollTop+e/3)/e;var n=this.monthAtScrollPosition(t*e);this.$scope.monthAtCurrentScrollPosition=n.month;this.$scope.yearAtCurrentScrollPosition=n.year;this.$scope.$apply();console.log(this.calendarScroller.scrollTop)};l.prototype.monthAtScrollPosition=function(t){var t=t||this.calendarScroller.scrollTop;var n=Math.floor(t)/e;var a=this.dateUtil.incrementMonths(this.firstRenderableDate,n);var i=moment(a);return{month:i.format("MMMM"),year:i.format("YYYY")}};l.prototype.handleKeyEvent=function(e){var t=this;this.$scope.$apply(function(){if(e.which==t.keyCode.ESCAPE||e.which==t.keyCode.TAB){t.$scope.$emit("md-calendar-close");if(e.which==t.keyCode.TAB){e.preventDefault()}return}if(e.which===t.keyCode.ENTER){t.setNgModelValue(t.displayDate);e.preventDefault();return}var n=t.getFocusDateFromKeyEvent(e);if(n){n=t.boundDateByMinAndMax(n);e.preventDefault();e.stopPropagation();t.changeDisplayDate(n).then(function(){t.focus(n)})}})};l.prototype.getFocusDateFromKeyEvent=function(e){var t=this.dateUtil;var n=this.keyCode;switch(e.which){case n.RIGHT_ARROW:return t.incrementDays(this.displayDate,1);case n.LEFT_ARROW:return t.incrementDays(this.displayDate,-1);case n.DOWN_ARROW:return e.metaKey?t.incrementMonths(this.displayDate,1):t.incrementDays(this.displayDate,7);case n.UP_ARROW:return e.metaKey?t.incrementMonths(this.displayDate,-1):t.incrementDays(this.displayDate,-7);case n.PAGE_DOWN:return t.incrementMonths(this.displayDate,1);case n.PAGE_UP:return t.incrementMonths(this.displayDate,-1);case n.HOME:return t.getFirstDateOfMonth(this.displayDate);case n.END:return t.getLastDateOfMonth(this.displayDate);default:return null}};l.prototype.getSelectedMonthIndex=function(){return this.dateUtil.getMonthDistance(this.firstRenderableDate,this.selectedDate||this.today)};l.prototype.scrollToMonth=function(n){if(!this.dateUtil.isValidDate(n)){return}var a=this.dateUtil.getMonthDistance(this.firstRenderableDate,n);var i=a*e;t.element(this.calendarScroller).animate({scrollTop:i},250)};l.prototype.setNgModelValue=function(e){this.$scope.$emit("md-calendar-change",e);this.ngModelCtrl.$setViewValue(e);this.ngModelCtrl.$render()};l.prototype.focus=function(e){var t=e||this.selectedDate||this.today;var n=this.calendarElement.querySelector(".md-focus");if(n){n.classList.remove(r)}var a=this.getDateId(t);var i=document.getElementById(a);if(i){i.classList.add(r);i.focus()}else{this.focusDate=t}};l.prototype.boundDateByMinAndMax=function(e){var t=e;if(this.minDate&&e<this.minDate){t=new Date(this.minDate.getTime())}if(this.maxDate&&e>this.maxDate){t=new Date(this.maxDate.getTime())}return t};l.prototype.changeSelectedDate=function(e){var t=this;var n=this.selectedDate;this.selectedDate=e;this.changeDisplayDate(e).then(function(){if(n){var a=document.getElementById(t.getDateId(n));if(a){a.classList.remove(i);a.setAttribute("aria-selected","false")}}if(e){var r=document.getElementById(t.getDateId(e));if(r){r.classList.add(i);r.setAttribute("aria-selected","true")}}})};l.prototype.changeDisplayDate=function(e,t){if(!this.isInitialized){this.buildInitialCalendarDisplay();return this.$q.when()}if(!this.dateUtil.isValidDate(e)||this.isMonthTransitionInProgress){return this.$q.when()}this.isMonthTransitionInProgress=true;var n=this.animateDateChange(e);this.displayDate=e;var a=this;n.then(function(){a.isMonthTransitionInProgress=false});return n};l.prototype.animateDateChange=function(e){this.scrollToMonth(e);return this.$q.when()};l.prototype.buildWeekHeader=function(){var e=this.dateLocale.firstDayOfWeek;var t=this.dateLocale.shortDays;var n=document.createElement("tr");for(var a=0;a<7;a++){var i=document.createElement("th");i.textContent=t[(a+e)%7];n.appendChild(i)}this.$element.find("thead").append(n)};l.prototype.getDateId=function(e){return["md",this.id,e.getFullYear(),e.getMonth(),e.getDate()].join("-")}})();(function(){"use strict";t.module("material.components.datepicker").directive("mdCalendarMonth",e);function e(){return{require:["^^mdCalendar","mdCalendarMonth"],scope:{offset:"=mdMonthOffset"},controller:r,controllerAs:"mdMonthCtrl",bindToController:true,link:function e(t,n,a,i){var r=i[0];var s=i[1];s.calendarCtrl=r;s.generateContent();t.$watch(function(){return s.offset},function(e,t){if(e!=t){s.generateContent()}})}}}var n="md-calendar-date-today";var a="md-calendar-selected-date";var i="md-focus";function r(e,t,n){this.dateUtil=t;this.dateLocale=n;this.$element=e;this.calendarCtrl=null;this.offset;this.focusAfterAppend=null}r.$inject=["$element","$$mdDateUtil","$mdDateLocale"];r.prototype.generateContent=function(){var e=this.calendarCtrl;var t=this.dateUtil.incrementMonths(e.firstRenderableDate,this.offset);this.$element.empty();this.$element.append(this.buildCalendarForMonth(t));if(this.focusAfterAppend){this.focusAfterAppend.classList.add(i);this.focusAfterAppend.focus();this.focusAfterAppend=null}};r.prototype.buildDateCell=function(e){var t=this.calendarCtrl;var i=document.createElement("td");i.tabIndex=-1;i.classList.add("md-calendar-date");i.setAttribute("role","gridcell");if(e){i.setAttribute("tabindex","-1");i.setAttribute("aria-label",this.dateLocale.longDateFormatter(e));i.id=t.getDateId(e);i.setAttribute("data-timestamp",e.getTime());if(this.dateUtil.isSameDay(e,t.today)){i.classList.add(n)}if(this.dateUtil.isValidDate(t.selectedDate)&&this.dateUtil.isSameDay(e,t.selectedDate)){i.classList.add(a);i.setAttribute("aria-selected","true")}var r=this.dateLocale.dates[e.getDate()];if(this.isDateEnabled(e)){var s=document.createElement("span");i.appendChild(s);s.classList.add("md-calendar-date-selection-indicator");s.textContent=r;i.addEventListener("click",t.cellClickHandler);if(t.focusDate&&this.dateUtil.isSameDay(e,t.focusDate)){this.focusAfterAppend=i}}else{i.classList.add("md-calendar-date-disabled");i.textContent=r}}return i};r.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!t.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(e))};r.prototype.buildDateRow=function(e){var t=document.createElement("tr");t.setAttribute("role","row");t.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(e));return t};r.prototype.buildCalendarForMonth=function(e){var t=this.dateUtil.isValidDate(e)?e:new Date;var n=this.dateUtil.getFirstDateOfMonth(t);var a=this.getLocaleDay_(n);var i=this.dateUtil.getNumberOfDaysInMonth(t);var r=document.createDocumentFragment();var s=1;var o=this.buildDateRow(s);r.appendChild(o);var l=this.offset===this.calendarCtrl.items.length-1;var d=0;var c=document.createElement("td");c.classList.add("md-calendar-month-label");if(this.calendarCtrl.maxDate&&n>this.calendarCtrl.maxDate){c.classList.add("md-calendar-month-label-disabled")}c.setAttribute("colspan","7");var f=this.buildDateRow();f.appendChild(c);f.appendChild(c);r.insertBefore(f,o);if(l){return r}for(var p=d;p<a;p++){o.appendChild(this.buildDateCell())}var u=a;var g=n;for(var m=1;m<=i;m++){if(u===7){if(l){return r}u=0;s++;o=this.buildDateRow(s);r.appendChild(o)}g.setDate(m);var h=this.buildDateCell(g);o.appendChild(h);u++}while(o.childNodes.length<7){o.appendChild(this.buildDateCell())}while(r.childNodes.length<6){var v=this.buildDateRow();for(var p=0;p<7;p++){v.appendChild(this.buildDateCell())}r.appendChild(v)}return r};r.prototype.getLocaleDay_=function(e){return(e.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}})();(function(){"use strict";t.module("material.components.datepicker").config(["$provide",function(e){function t(){this.months=null;this.shortMonths=null;this.days=null;this.shortDays=null;this.dates=null;this.firstDayOfWeek=0;this.formatDate=null;this.parseDate=null;this.monthHeaderFormatter=null;this.weekNumberFormatter=null;this.longDateFormatter=null;this.msgCalendar="";this.msgOpenCalendar=""}t.prototype.$get=function(e){function t(e){if(!e){return""}var t=e.toLocaleTimeString();var n=e;if(e.getHours()==0&&(t.indexOf("11:")!==-1||t.indexOf("23:")!==-1)){n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),1,0,0)}return n.toLocaleDateString()}function n(e){return new Date(e)}function a(e){e=e.trim();var t=/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/;return t.test(e)}function i(e){return u.shortMonths[e.getMonth()]+" "+e.getFullYear()}function r(e){return"Week "+e}function s(e){return[u.days[e.getDay()],u.months[e.getMonth()],u.dates[e.getDate()],e.getFullYear()].join(" ")}var o=e.DATETIME_FORMATS.DAY.map(function(e){return e[0]});var l=["Su","Mo","Tu","We","Th","Fr","Sa"];var d=Array(32);for(var c=1;c<=31;c++){d[c]=c}var f="Calendar";var p="Open calendar";var u={months:this.months||e.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||e.DATETIME_FORMATS.SHORTMONTH,days:this.days||e.DATETIME_FORMATS.DAY,shortDays:this.shortDays||l||o,dates:this.dates||d,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||t,parseDate:this.parseDate||n,isDateComplete:this.isDateComplete||a,monthHeaderFormatter:this.monthHeaderFormatter||i,weekNumberFormatter:this.weekNumberFormatter||r,longDateFormatter:this.longDateFormatter||s,msgCalendar:this.msgCalendar||f,msgOpenCalendar:this.msgOpenCalendar||p};return u};t.prototype.$get.$inject=["$locale"];e.provider("$mdDateLocale",new t)}])})();(function(){"use strict";t.module("material.components.datepicker").directive("mdDatepicker",n);function n(){return{template:'<md-button class="md-datepicker-button md-icon-button" type="button" '+'tabindex="-1" aria-hidden="true" '+'ng-click="ctrl.openCalendarPane($event)">'+'<md-icon class="md-datepicker-calendar-icon" md-svg-icon="md-calendar"></md-icon>'+"</md-button>"+'<div class="md-datepicker-input-container" '+"ng-class=\"{'md-datepicker-focused': ctrl.isFocused}\">"+'<input class="md-datepicker-input" aria-haspopup="true" '+'ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)">'+'<md-button type="button" md-no-ink '+'class="md-datepicker-triangle-button md-icon-button" '+'ng-click="ctrl.openCalendarPane($event)" '+'aria-label="{{::ctrl.dateLocale.msgOpenCalendar}}">'+'<div class="md-datepicker-expand-triangle"></div>'+"</md-button>"+"</div>"+'<div class="md-datepicker-calendar-pane md-whiteframe-z1">'+'<div class="md-datepicker-input-mask">'+'<div class="md-datepicker-input-mask-opaque"></div>'+"</div>"+'<div class="md-datepicker-calendar">'+'<md-calendar role="dialog" aria-label="{{::ctrl.dateLocale.msgCalendar}}" '+'md-min-date="ctrl.minDate" md-max-date="ctrl.maxDate"'+'md-date-filter="ctrl.dateFilter"'+'ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen">'+"</md-calendar>"+"</div>"+"</div>",require:["ngModel","mdDatepicker","?^mdInputContainer"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",dateFilter:"=mdDateFilter"},controller:l,controllerAs:"ctrl",bindToController:true,link:function e(t,n,a,i){var r=i[0];var s=i[1];var o=i[2];if(o){throw Error("md-datepicker should not be placed inside md-input-container.")}s.configureNgModel(r)}}}var a=3;var i="md-datepicker-invalid";var r=500;var s=368;var o=360;function l(e,n,a,i,r,s,o,l,d,c,f,p){this.$compile=i;this.$timeout=r;this.$window=s;this.dateLocale=c;this.dateUtil=f;this.$mdConstant=o;this.$mdUtil=d;this.$$rAF=p;this.documentElement=t.element(document.documentElement);this.ngModelCtrl=null;this.inputElement=n[0].querySelector("input");this.ngInputElement=t.element(this.inputElement);this.inputContainer=n[0].querySelector(".md-datepicker-input-container");this.calendarPane=n[0].querySelector(".md-datepicker-calendar-pane");this.calendarButton=n[0].querySelector(".md-datepicker-button");this.inputMask=n[0].querySelector(".md-datepicker-input-mask-opaque");this.$element=n;this.$attrs=a;this.$scope=e;this.date=null;this.isFocused=false;this.isDisabled;this.setDisabled(n[0].disabled||t.isString(a["disabled"]));this.isCalendarOpen=false;this.calendarPaneOpenedFrom=null;this.calendarPane.id="md-date-pane"+d.nextUid();l(n);this.bodyClickHandler=t.bind(this,this.handleBodyClick);this.windowResizeHandler=d.debounce(t.bind(this,this.closeCalendarPane),100);if(!a["tabindex"]){n.attr("tabindex","-1")}this.installPropertyInterceptors();this.attachChangeListeners();this.attachInteractionListeners();var u=this;e.$on("$destroy",function(){u.detachCalendarPane()})}l.$inject=["$scope","$element","$attrs","$compile","$timeout","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF"];l.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){var e=t.ngModelCtrl.$viewValue;if(e&&!(e instanceof Date)){throw Error("The ng-model for md-datepicker must be a Date instance. "+"Currently the model is a: "+typeof e)}t.date=e;t.inputElement.value=t.dateLocale.formatDate(e);t.resizeInputElement();t.updateErrorState()}};l.prototype.attachChangeListeners=function(){var e=this;e.$scope.$on("md-calendar-change",function(t,n){e.ngModelCtrl.$setViewValue(n);e.date=n;e.inputElement.value=e.dateLocale.formatDate(n);e.closeCalendarPane();e.resizeInputElement();e.updateErrorState()});e.ngInputElement.on("input",t.bind(e,e.resizeInputElement));e.ngInputElement.on("input",e.$mdUtil.debounce(e.handleInputEvent,r,e))};l.prototype.attachInteractionListeners=function(){var e=this;var t=this.$scope;var n=this.$mdConstant.KEY_CODE;e.ngInputElement.on("keydown",function(a){if(a.altKey&&a.keyCode==n.DOWN_ARROW){e.openCalendarPane(a);t.$digest()}});t.$on("md-calendar-close",function(){e.closeCalendarPane()})};l.prototype.installPropertyInterceptors=function(){var e=this;if(this.$attrs["ngDisabled"]){var t=this.$mdUtil.validateScope(this.$element)?this.$element.scope():null;if(t){t.$watch(this.$attrs["ngDisabled"],function(t){e.setDisabled(t)})}}Object.defineProperty(this,"placeholder",{get:function n(){return e.inputElement.placeholder},set:function a(t){e.inputElement.placeholder=t||""}})};l.prototype.setDisabled=function(e){this.isDisabled=e;this.inputElement.disabled=e;this.calendarButton.disabled=e};l.prototype.updateErrorState=function(e){var n=e||this.date;this.clearErrorState();if(this.dateUtil.isValidDate(n)){if(this.dateUtil.isValidDate(this.minDate)){this.ngModelCtrl.$setValidity("mindate",n>=this.minDate)}if(this.dateUtil.isValidDate(this.maxDate)){this.ngModelCtrl.$setValidity("maxdate",n<=this.maxDate)}if(t.isFunction(this.dateFilter)){this.ngModelCtrl.$setValidity("filtered",this.dateFilter(n))}}else{this.ngModelCtrl.$setValidity("valid",n==null)}if(!this.ngModelCtrl.$valid){this.inputContainer.classList.add(i)}};l.prototype.clearErrorState=function(){this.inputContainer.classList.remove(i);["mindate","maxdate","filtered","valid"].forEach(function(e){this.ngModelCtrl.$setValidity(e,true)},this)};l.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+a};l.prototype.handleInputEvent=function(){var e=this.inputElement.value;var t=e?this.dateLocale.parseDate(e):null;this.dateUtil.setDateTimeToMidnight(t);var n=e==""||this.dateUtil.isValidDate(t)&&this.dateLocale.isDateComplete(e)&&this.isDateEnabled(t);if(n){this.ngModelCtrl.$setViewValue(t);this.date=t}this.updateErrorState(t)};l.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.minDate,this.maxDate)&&(!t.isFunction(this.dateFilter)||this.dateFilter(e))};l.prototype.attachCalendarPane=function(){var e=this.calendarPane;e.style.transform="";this.$element.addClass("md-datepicker-open");var t=this.inputContainer.getBoundingClientRect();var n=document.body.getBoundingClientRect();var a=t.top-n.top;var i=t.left-n.left;var r=n.top<0&&document.body.scrollTop==0?-n.top:document.body.scrollTop;var l=n.left<0&&document.body.scrollLeft==0?-n.left:document.body.scrollLeft;var d=r+this.$window.innerHeight;var c=l+this.$window.innerWidth;if(i+o>c){if(c-o>0){i=c-o}else{i=l;var f=this.$window.innerWidth/o;e.style.transform="scale("+f+")"}e.classList.add("md-datepicker-pos-adjusted")}if(a+s>d&&d-s>r){a=d-s;e.classList.add("md-datepicker-pos-adjusted")}e.style.left=i+"px";e.style.top=a+"px";document.body.appendChild(e);this.inputMask.style.left=t.width+"px";this.$$rAF(function(){e.classList.add("md-pane-open")})};l.prototype.detachCalendarPane=function(){this.$element.removeClass("md-datepicker-open");this.calendarPane.classList.remove("md-pane-open");this.calendarPane.classList.remove("md-datepicker-pos-adjusted");if(this.calendarPane.parentNode){this.calendarPane.parentNode.removeChild(this.calendarPane)}};l.prototype.openCalendarPane=function(t){if(!this.isCalendarOpen&&!this.isDisabled){this.isCalendarOpen=true;this.calendarPaneOpenedFrom=t.target;this.$mdUtil.disableScrollAround(this.calendarPane);this.attachCalendarPane();this.focusCalendar();var n=this;this.$mdUtil.nextTick(function(){n.documentElement.on("click touchstart",n.bodyClickHandler)},false);e.addEventListener("resize",this.windowResizeHandler)}};l.prototype.closeCalendarPane=function(){if(this.isCalendarOpen){this.isCalendarOpen=false;this.detachCalendarPane();this.calendarPaneOpenedFrom.focus();this.calendarPaneOpenedFrom=null;this.$mdUtil.enableScrolling();this.documentElement.off("click touchstart",this.bodyClickHandler);e.removeEventListener("resize",this.windowResizeHandler)}};l.prototype.getCalendarCtrl=function(){return t.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")};l.prototype.focusCalendar=function(){var e=this;this.$mdUtil.nextTick(function(){e.getCalendarCtrl().focus()},false)};l.prototype.setFocused=function(e){this.isFocused=e};l.prototype.handleBodyClick=function(e){if(this.isCalendarOpen){var t=this.$mdUtil.getClosest(e.target,"md-calendar");if(!t){this.closeCalendarPane()}this.$scope.$digest()}}})();(function(){"use strict";t.module("material.components.datepicker").factory("$$mdDateUtil",function(){return{getFirstDateOfMonth:e,getNumberOfDaysInMonth:n,getDateInNextMonth:a,getDateInPreviousMonth:i,isInNextMonth:o,isInPreviousMonth:l,getDateMidpoint:d,isSameMonthAndYear:r,getWeekOfMonth:c,incrementDays:f,incrementMonths:p,getLastDateOfMonth:g,isSameDay:s,getMonthDistance:u,isValidDate:m,setDateTimeToMidnight:h,createDateAtMidnight:v,isDateWithinRange:k};function e(e){return new Date(e.getFullYear(),e.getMonth(),1)}function n(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function a(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function i(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function r(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function s(e,t){return e.getDate()==t.getDate()&&r(e,t)}function o(e,t){var n=a(e);return r(n,t)}function l(e,t){var n=i(e);return r(t,n)}function d(e,t){return v((e.getTime()+t.getTime())/2)}function c(t){var n=e(t);return Math.floor((n.getDay()+t.getDate()-1)/7)}function f(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function p(e,t){var a=new Date(e.getFullYear(),e.getMonth()+t,1);var i=n(a);if(i<e.getDate()){a.setDate(i)}else{a.setDate(e.getDate())}return a}function u(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())}function g(e){return new Date(e.getFullYear(),e.getMonth(),n(e))}function m(e){return e!=null&&e.getTime&&!isNaN(e.getTime())}function h(e){if(m(e)){e.setHours(0,0,0,0)}}function v(e){var n;if(t.isUndefined(e)){n=new Date}else{n=new Date(e)}h(n);return n}function k(e,n,a){return(!t.isDate(n)||n<=e)&&(!t.isDate(a)||a>=e)}})})()})(window,window.angular)},function(e,t){"use strict";var n;Snap.plugin(function(e,t,a,i,r){Math.TWOPI=2*Math.PI;Number.prototype.mod=function(e){return(this%e+e)%e};Number.prototype.roundToTheNearest=function(e){var e=e||1;return Math.ceil(this/e)*e};a.prototype.relativeMousePoints=function(e,t){var n=this.node;var a=n.createSVGPoint();a.x=e;a.y=t;var i=this.circle();var r=a.matrixTransform(i.node.getScreenCTM().inverse());i.remove();return r};a.prototype.limitUIValueIfNecessary=function(e,t,a){var i=a!=undefined?a:e,r=t!=undefined?t:e;if(e>=i){n=i}else if(e<=r){n=r}else{n=e}return{limitedValue:n,liveValue:e}};a.prototype.getUIValueFromMousePosition=function(e){var t=e.valueFn(e.mouseX,e.mouseY),a=e.max!=undefined?e.max:t,i=e.min!=undefined?e.min:t;console.log("min is: "+e.min);console.log("max is: "+e.max);if(t>a){n=a;console.log("moving too far forward, using max validated value")}else if(t<i){n=i;console.log("going to far backward, using min validated value")}else{n=t;console.log("using live value: "+t)}return n};a.prototype.getCurrentPixelRatio=function(){var e=this.node.attributes[1].nodeValue.split(" ");return{x:e[2]/this.node.clientWidth,y:e[3]/this.node.clientHeight}}})}]);angular.module("app").run(["$templateCache",function(e){e.put("app/main/main.html",'<div id="Space" class="single-day-view" ng-class="{\'show-list\': showListView}"><div id="demo-header">Demo Mode</div><header><button id="day-picker-button" ng-click="" class="header-button"><div class="label">{{ showListView && selectedTaskDetail.name ? \'MON 12/16\' : \'Monday, December 16\' }}</div></button><div class="mini-donut" ng-show="($root.currentState != \'home.donut\')"><task-donut state-link="home.donut" task-donut-model="miniTaskDonut" task-donut-manager="taskManager"></task-donut></div><div class="pie-calendar" ng-show="showCalendar"><md-calendar ng-model="myDate"></md-calendar></div><button id="show-tasks-button" class="header-button" ng-click="toggleListView()"><div class="label" ng-hide="showListView">{{ numberOfUserTasks || "No" }} Item{{ (numberOfUserTasks > 1 || 0) ? "s" : "" }} Today</div><div class="icon"><img ng-src="{{ showListView ? \'assets/x.svg\' : \'assets/list.svg\'}}"></div></button></header><pre style="position:absolute; opacity: 0; top: 400px; height: 300px; overflow: auto; left: 0">\n      {{ taskDataString }}\n    </pre><div ui-view="" id="MainSpace"></div></div>');e.put("app/tour/tour.html","<ui-view></ui-view>");e.put("app/components/TaskDetailPanel/TaskDetailPanel.html",'<div id="task-space-wrapper"><div id="task-detail-wrapper"><div id="task-detail" ng-class="{\'selected\': selectedTaskIndex}"><div class="task-detail-header"><div class="emoji"><img ng-click="currentDetailView = \'emoji\'" ng-src="assets/emojis/72x72/{{ selectedTaskDetail.emoji }}"> <button class="close-emoji-view" ng-show="currentDetailView == \'emoji\'" ng-click="currentDetailView = \'basic-details\'"><span class="">Save Emoji</span></button></div><input type="text" class="task-name" ng-model="selectedTaskDetail.name" placeholder="Edit task name"><div class="due-date"><span class="date-label">Aprl 1</span><button class="check-button"></button></div></div><div class="emoji-view detail-view" ng-show="currentDetailView == \'emoji\'"><emoji-picker selected-emoji-model="selectedTaskDetail.emoji"></emoji-picker></div><div class="task-basic-details detail-view" ng-show="currentDetailView == \'basic-details\'"><div class="col-1"><div class="task-detail-item description"><div class="description-input" contenteditable=""></div></div><div class="task-detail-item time-allotment"><div class="btn-group btn-group-justified pie-btn-group-justified time-allotment-btn-group"><label class="btn" ng-model="selectedTaskDetail.angleSize" uib-btn-radio="toLinearSize(5)"><span>5<div class="unit">min</div></span></label> <label class="btn" ng-model="selectedTaskDetail.angleSize" uib-btn-radio="toLinearSize(15)"><span>15<div class="unit">min</div></span></label> <label class="btn" ng-model="selectedTaskDetail.angleSize" uib-btn-radio="toLinearSize(30)"><span>30<div class="unit">min</div></span></label> <label class="btn" ng-model="selectedTaskDetail.angleSize" uib-btn-radio="toLinearSize(45)"><span>45<div class="unit">min</div></span></label> <label id="plus" class="btn" ng-class="{ active: selectedTaskDetail.angleSize > toLinearSize(45), revealMinutes: selectedTaskDetail.angleSize > toLinearSize(45)}" ng-click="selectedTaskDetail.angleSize = toLinearSize(60)"><span><span class="minutes">{{ Utilities.humanizeMinutes(Utilities.toMinutes(selectedTaskDetail.angleSize)) }}</span><div class="unit">+</div></span></label></div><div class="task-slider" ng-class="{ fadeOut: selectedTaskDetail.angleSize <= Utilities.toAngleSize(45) }"><slider slider-value="selectedTaskDetail.angleSize" min="Utilities.toAngleSize(30)" max="360"></slider></div></div></div></div></div></div><div id="task-list-wrapper"><div class="shadow"></div><form name="newTaskForm" class="task-item" ng-submit="createNewTask()"><input id="header" class="task-input task-label" ng-model="newTaskName" autocomplete="off" name="newTaskNameInput" type="text" placeholder="Add an item:" autofocus=""></form><ul id="taskList" ui-sortable="sortableOptions" ng-model="taskData.tasks"><li class="task-li" ng-repeat="task in taskData.tasks" data-index="{{$index}}" data-task-id="{{ task.id }}" ng-click="selectTask(task.id)"><div class="task-item {{ task.type }}" ng-class="{\'selected\': $index == selectedTaskIndex}"><div class="handle"></div><input type="text" class="task-label" ng-model="task.name"></div></li></ul></div></div>');e.put("app/components/TaskDonut/TaskDonutDirective.html",'<div class="TaskDonut"><div class="donut-wrapper"><svg viewbox="0 0 200 200" class="donut"></svg><div class="camera-wrapper" ng-show="showCamera"><div class="camera" ng-hide="photoOption == \'instagram\'" ng-class="{\'idle\':(photoOption == null), \'ready\':(photoOption == \'webcam\'), }"></div><div id="instagram-picker" class="circle-content" ng-show="photoOption == \'instagram\'"><img src="{{ currentInstagramImage }}"></div><div class="prompt" ng-hide="photoOption"><div class="option" ng-click="selectInstagram()"><div class="small">PICK FROM</div><div class="big">Instagram</div></div><div class="divider"><span>or</span></div><div class="option" ng-click="skip()"><div class="small">SKIP THIS STEP</div></div></div></div></div><div class="photo-controls"><button ng-show="(photoOption == \'instagram\')" ng-disabled="!shouldShowPrev()" class="instagram-arrow-button left" ng-click="prevInstagramImage()"><img src="assets/chevron.png">Prev</button> <button class="photo-select-button" ng-show="photoOption" ng-click="setPhoto()"><div class="small">{{(photoOption == \'instagram\') ? "INSTAGRAM" : "LIVE" }}</div><div class="big">{{(photoOption == \'instagram\') ? "Set" : "Capture" }} Photo</div></button> <button ng-show="(photoOption == \'instagram\')" ng-disabled="!shouldShowNext()" class="instagram-arrow-button right" ng-click="nextInstagramImage()">Next<img src="assets/chevron.png"></button> <button ng-show="settings.profile_picture" class="tour-next-button" ui-sref="tour_step_two">Next, make time for sleep<span class="fa fa-caret-right"></span></button></div></div>');e.put("app/components/emoji-picker/emojipicker.html",'<div class="EmojiPicker"><div class="emoji-list"><div class="emoji-item" ng-repeat="emoji in emojis" ng-click="selectEmoji($index)"><img src="{{ \'assets/emojis/72x72/\' + emoji }}"></div></div></div>');e.put("app/components/slider/slider.html",'<div class="slider-bar" draggable="true"><div class="bar"><div class="value-bar"><div class="handle"></div></div></div></div>');e.put("app/main/donut_view/donut_view.html",'<div id="big-day"><div class="tour-tip welcome" ng-show="$root.tourStep == 0">Welcome to the Pi demo, an entirely new way to plan your day. Pi emphasizes holistic wellness alongside planning to encourage sustainable, everyday productivity.<div class="action-bar"><button class="ok" ng-click="$root.advanceTour()">Click to Continue</button></div></div><div class="tour-tip pre-sleep" ng-show="$root.tourStep == 1">With a focus on sleep, Pi makes you more aware of your productivity.<div class="action-bar"><button class="ok" ng-click="$root.advanceTour()">Click to Set Aside Sleep Time</button></div></div><div class="tour-tip sleep-ring" ng-show="$root.tourStep == 3">To make sure the importance of sleep never falls to the wayside, keep an eye on this green arc. Green means you\'ve got a full night of sleep ahead. Orange or red means you may need to re-prioritize.<br>In education environments, Pi\'s holistic productivity platform makes it possible for teachers to assign work with better understanding of how potential overload affects students\' health and output.<div class="action-bar"><button class="ok" ng-click="$root.advanceTour()">Click to Continue</button></div></div><div class="tour-tip click-in" ng-show="$root.tourStep == 4">So far you\'ve got a full night of sleep ahead with nothing planned. To get a closer look at the day and add things to the list, click into your picture to the right.<div class="action-bar"><button class="ok" ng-disabled="true">Click Your Picture <span class="fa fa-caret-right"></span></button></div></div><task-donut id="main-donut" show-camera="showCamera" task-donut-model="taskDonut" task-donut-manager="taskManager"></task-donut></div><div class="sleep-config" ng-show="$root.tourStep == 2" ng-controller="TourStepTwoController"><div class="tour-tip sleep">Enter your age and the time you try to get to bed each night. We\'ll calculate the recommended number of hours you should set aside in your schedule.<div class="action-bar"><button class="ok" ng-disabled="true">Configure Below</button></div></div><slider class="sleep_slider" max="recommendedSleepHours[1]" slider-value="sleepSliderValue"></slider><div class="content"><div class="paragraph-content description"><h1 class="big-header">Make Time for Sleep</h1><p class="content">Sleep is probably the single most important way to sustain productivity. The National Sleep Foundation recommends <span ng-show="recommendedSleepHours" class="recommendation">{{recommendedSleepHours[0]}}-{{recommendedSleepHours[1]}} hours for your age.</span> <span ng-hide="recommendedSleepHours">healthy sleep durations for each age group.</span> <span ng-show="sleepSliderValue">We\'ve set aside <span class="recommendation">{{sleepSliderValue}} hours for sleep.</span> <span ng-show="recommendedSleepHours">You can also adjust the slider manually to change your allotted sleep time</span></span></p><form name="sleepForm" novalidate=""><div class="sleep_input age"><label>Enter Your Age:</label><input name="ageInput" ng-model="ageModel" min="0" max="100" placeholder="22" ng-change="determineRecommendedSleepHoursForAge()" ng-required="true" type="number"></div><div class="sleep_input bedtime"><label>Enter Your Bedtime?</label> <input ng-model="bedTimeModel" ng-required="true" name="bedTimeInput" placeholder="10:30" ng-change="determineBedtime()" type="text"> <span class="carets"><button class="fa fa-caret-up" ng-click="adjustBedTime(\'+\')"></button><button class="fa fa-caret-down" ng-click="adjustBedTime(\'-\')"></button></span></div><button class="tour-next-button" ng-click="configureSleep()">Click to Continue <span class="fa fa-caret-right"></span></button></form></div></div></div>');
e.put("app/main/linear_view/linear_view.html",'<div id="strip"><div class="tour-tip add-tasks" ng-show="$root.tourStep == 4">Pi is a highly visual day planner. The timeline lets you add tasks and rearrange with incredible precision, all visually. To add an item to the list, just click an open spot in your schedule.<div class="action-bar"><button class="ok" ng-disabled="true">Click in the Empty Space Below</button></div></div><div class="tour-tip move-tasks" ng-show="$root.tourStep == 6">The timeline is also highly flexible. Try dragging blocks by the middle or the sides. You can even hold shift to move many at the same time. If two blocks are side by side, try dragging the line between them for precise adjustment.<div class="action-bar"><button class="ok" ng-disabled="true">Drag a block</button></div></div><div class="tour-tip sleep-buttons" ng-show="$root.tourStep == 7">By default, the timeline accounts for the recommended number of sleep hours you should set aside. If you end up with too much on your plate, adjust these buttons to add more time for work and less time for rest. Pi helps you stay aware of how workload affects everyday health.<div class="action-bar"><button class="ok" ng-click="$root.advanceTour()">Click to Continue</button></div></div><svg id="task-strip" viewbox="0 0 100 20" class="TaskStrip"></svg></div><div id="TaskSpace" ng-class="{\'show-list\': showListView}"><div class="tour-tip edit-task" ng-show="$root.tourStep == 5">This is the detail pane. Here you can prioritize, allot time, add tasks manually, and more. To start, try changing the name and emoji for your task.<div class="action-bar"><button class="ok" ng-click="$root.advanceTour()">Click to Continue</button></div></div><task-detail-panel></task-detail-panel></div>');e.put("app/tour/splash/splash.html",'<section class="SplashScreen TourStep"><div class="center-logo"><img src="../assets/logo.png"><br><button ui-sref="tour_step_one" class="next light"></button></div></section>');e.put("app/tour/step_one/step_one.html",'<section class="You TourStep"><div class="container" ng-class="{\'centerMode\':(photoOption || settings.profile_picture)}"><div class="paragraph-content"><h1 class="big-header">Choose a Photo</h1><p class="content">You are a part of your schedule. All the things we have to<br>do. Home, Work, and School are common categories, but<br>there are often more, like Personal Projects, or Chores.<br></p></div><div class="photo-wrapper"><div class="donut-wrapper"><svg id="donut" viewbox="0 0 200 200" class="demoTaskDonut TaskDonut"></svg><div id="camera-wrapper" ng-hide="settings.profile_picture"><div id="camera" attach-webcam="" class="circle-content" ng-hide="photoOption == \'instagram\'" ng-class="{\'idle\':(photoOption == null), \'ready\':(photoOption == \'webcam\'), }"></div><div id="instagram-picker" class="circle-content" ng-show="photoOption == \'instagram\'"><img src="{{ currentInstagramImage }}"></div><div class="prompt" ng-hide="photoOption"><div class="option" ng-click="selectInstagram()"><div class="small">PICK FROM</div><div class="big">Instagram</div></div><div class="divider"><span>or</span></div><div class="option" ng-click="selectWebcam()"><div class="small">TAKE WITH</div><div class="big">Webcam</div></div></div></div></div><div class="photo-controls"><button ng-show="(photoOption == \'instagram\')" ng-disabled="!shouldShowPrev()" class="instagram-arrow-button left" ng-click="prevInstagramImage()"><img src="assets/chevron.png">Prev</button> <button class="photo-select-button" ng-show="photoOption" ng-click="setPhoto()"><div class="small">{{(photoOption == \'instagram\') ? "INSTAGRAM" : "LIVE" }}</div><div class="big">{{(photoOption == \'instagram\') ? "Set" : "Take" }} Photo</div></button> <button ng-show="(photoOption == \'instagram\')" ng-disabled="!shouldShowNext()" class="instagram-arrow-button right" ng-click="nextInstagramImage()">Next<img src="assets/chevron.png"></button> <button ng-show="settings.profile_picture" class="tour-next-button" ui-sref="tour_step_two">Next, make time for sleep<span class="fa fa-caret-right"></span></button></div></div></div></section>');e.put("app/tour/step_two/step_two.html",'<section class="Sleep TourStep"></section>')}]);
//# sourceMappingURL=../maps/scripts/app-6c272e943b.js.map
